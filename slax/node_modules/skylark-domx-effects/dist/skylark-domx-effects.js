/**
 * skylark-domx-effects - The effect features enhancement for skylark utils.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(t,e){var i=e.define,o=e.require,n="function"==typeof i&&i.amd,s=!n&&"undefined"!=typeof exports;if(!n&&!i){var r={};i=e.define=function(t,e,i){"function"==typeof i?(r[t]={factory:i,deps:e.map(function(e){return function(t,e){if("."!==t[0])return t;var i=e.split("/"),o=t.split("/");i.pop();for(var n=0;n<o.length;n++)"."!=o[n]&&(".."==o[n]?i.pop():i.push(o[n]));return i.join("/")}(e,t)}),resolved:!1,exports:null},o(t)):r[t]={factory:null,resolved:!0,exports:i}},o=e.require=function(t){if(!r.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var i=r[t];if(!i.resolved){var n=[];i.deps.forEach(function(t){n.push(o(t))}),i.exports=i.factory.apply(e,n)||null,i.resolved=!0}return i.exports}}if(!i)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,e){t("skylark-domx-effects/effects",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-fx","skylark-domx-query"],function(t,e,i,o){var n,s="ui-effects-animated",r={},a=t.effects=function(){};function c(t,n,s,r){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(r=n,s=null,n={}),("number"==typeof n||i.speeds[n])&&(r=s,s=n,n={}),e.isFunction(s)&&(r=s,s=null),n&&e.mixin(t,n),s=s||n.duration,t.duration=i.off?0:"number"==typeof s?s:s in o.fx.speeds?i.speeds[s]:i.speeds._default,t.complete=r||n.complete,t}function l(t){return!(t&&"number"!=typeof t&&!i.speeds[t])||("string"==typeof t&&!r[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}function u(t,e){var i=e.outerWidth(),o=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,i,o,0];return{top:parseFloat(n[1])||0,right:"auto"===n[2]?i:parseFloat(n[2]),bottom:"auto"===n[3]?o:parseFloat(n[3]),left:parseFloat(n[4])||0}}e.mixin(a,{define:function(t,e,i){return i||(i=e,e="effect"),r[t]=i,r[t].mode=e,i},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var o="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*o,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*o}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var o=t.queue();e>1&&o.splice.apply(o,[1,0].concat(o.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data("ui-effects-style",t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data("ui-effects-style")||"",t.removeData("ui-effects-style")},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,o;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":o=0;break;case"center":o=.5;break;case"right":o=1;break;default:o=t[1]/e.width}return{x:o,y:i}},createPlaceholder:function(t){var e,i=t.css("position"),n=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",e=o("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data("ui-effects-placeholder",e)),t.css({position:i,left:n.left,top:n.top}),e},removePlaceholder:function(t){var e="ui-effects-placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(t){a.restoreStyle(t),a.removePlaceholder(t)},setTransition:function(t,i,o,n){return n=n||{},e.each(i,function(e,i){var s=t.cssUnit(i);s[0]>0&&(n[i]=s[0]*o+s[1])}),n}}),e.mixin(o.fn,{effect:function(){var t=c.apply(this,arguments),n=r[t.effect],l=n.mode,u=(t.queue,t.complete),f=t.mode,d=[];if(i.off||!n)return f?this[f](t.duration,u):this.each(function(){u&&u.call(this)});return this.each(function(t){var i=o(this),n=a.mode(i,f)||l;i.data(s,!0),d.push(n),l&&("show"===n||n===l&&"hide"===n)&&i.show();l&&"none"===n||a.saveStyle(i);e.isFunction(t)&&t()}).each(function(i){var r=o(this);function c(){e.isFunction(u)&&u.call(r[0]),e.isFunction(i)&&i()}t.mode=d.shift(),!1===o.uiBackCompat||l?"none"===t.mode?(r[f](),c()):n.call(r[0],t,function(){r.removeData(s),a.cleanUp(r),"hide"===t.mode&&r.hide();c()}):(r.is(":hidden")?"hide"===f:"show"===f)?(r[f](),c()):n.call(r[0],t,c)})},show:(n=o.fn.show,function(t){if(l(t))return n.apply(this,arguments);var e=c.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}),hide:function(t){return function(e){if(l(e))return t.apply(this,arguments);var i=c.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(o.fn.hide),toggle:function(t){return function(e){if(l(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=c.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(o.fn.toggle),cssUnit:function(t){var i=this.css(t),o=[];return e.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(o=[parseFloat(i),e])}),o},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):u(this.css("clip"),this)},transfer:function(t,i){var n=o(this),s=o(t.to),r="fixed"===s.css("position"),a=o("body"),c=r?a.scrollTop():0,l=r?a.scrollLeft():0,u=s.offset(),f={top:u.top-c,left:u.left-l,height:s.innerHeight(),width:s.innerWidth()},d=n.offset(),p=o("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:d.top-c,left:d.left-l,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(f,t.duration,t.easing,function(){p.remove(),e.isFunction(i)&&i()})}}),i.step=i.step||{},i.step.clip=function(t){t.clipInit||(t.start=o(t.elem).cssClip(),"string"==typeof t.end&&(t.end=u(t.end,t.elem)),t.clipInit=!0),o(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})};var f={};return e.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){f[e]=function(e){return Math.pow(e,t+2)}}),e.mixin(f,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),i.easing=i.easing||{},e.each(f,function(t,e){i.easing["easeIn"+t]=e,i.easing["easeOut"+t]=function(t){return 1-e(1-t)},i.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}}),t.attach("domx.effects",a)}),t("skylark-domx-effects/plugins/blind",["skylark-langx/langx","skylark-domx-query","../effects"],function(t,e,i){return i.define("blind","hide",function(o,n){var s={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=e(this),a=o.direction||"up",c=r.cssClip(),l={clip:t.mixin({},c)},u=i.createPlaceholder(r);l.clip[s[a][0]]=l.clip[s[a][1]],"show"===o.mode&&(r.cssClip(l.clip),u&&u.css(i.clipToBox(l)),l.clip=c),u&&u.animate(i.clipToBox(l),o.duration,o.easing),r.animate(l,{queue:!1,duration:o.duration,easing:o.easing,complete:n})})}),t("skylark-domx-effects/plugins/bounce",["skylark-langx/langx","skylark-domx-query","../effects"],function(t,e,i){return i.define("bounce",function(o,n){var s,r,a,c,l=e(this),u=o.mode,f="hide"===u,d="show"===u,p=o.direction||"up",h=o.distance,g=o.times||5,m=2*g+(d||f?1:0),y=o.duration/m,k=o.easing,x="up"===p||"down"===p?"top":"left",v="up"===p||"left"===p,b=0;i.createPlaceholder(l);var w=t.Deferred,q=[];function T(t,e,i,o){return function(){var o=new w;return t.animate(e,i,k,function(){o.resolve()}),o.promise}}for(a=l.css(x),h||(h=l["top"===x?"outerHeight":"outerWidth"]()/3),c=l.position()[x],d&&((r={opacity:1})[x]=a,l.css("opacity",0).css(x,c+(v?2*-h:2*h)),q.push(T(l,r,y,k))),f&&(h/=Math.pow(2,g-1)),(r={})[x]=a;b<g;b++)(s={})[x]=c+(v?-h:h),q.push(T(l,s,y,k)),q.push(T(l,r,y,k)),h=f?2*h:h/2;f&&((s={opacity:0})[x]=c+(v?-1*h:h),q.push(T(l,s,y,k))),q.push(n),q.reduce(function(t,e,i,o){return t.then(e)},w.resolve())})}),t("skylark-domx-effects/plugins/clip",["skylark-langx/langx","skylark-domx-query","../effects"],function(t,e,i){return i.define("clip","hide",function(t,o){var n,s={},r=e(this),a=t.direction||"vertical",c="both"===a,l=c||"horizontal"===a,u=c||"vertical"===a;n=r.cssClip(),s.clip={top:u?(n.bottom-n.top)/2:n.top,right:l?(n.right-n.left)/2:n.right,bottom:u?(n.bottom-n.top)/2:n.bottom,left:l?(n.right-n.left)/2:n.left},i.createPlaceholder(r),"show"===t.mode&&(r.cssClip(s.clip),s.clip=n),r.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:o})})}),t("skylark-domx-effects/plugins/drop",["skylark-langx/langx","skylark-domx-query","../effects"],function(t,e,i){return i.define("drop","hide",function(t,o){var n,s=e(this),r=t.mode,a="show"===r,c=t.direction||"left",l="up"===c||"down"===c?"top":"left",u="up"===c||"left"===c?-1:1,f=-1*u,d={opacity:0},p=s.position()[l];i.createPlaceholder(s),n=t.distance||s["top"===l?"outerHeight":"outerWidth"](!0)/2,d[l]=p+u*n,a&&(s.css(d),d[l]=p+f*n,d.opacity=1),s.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:o})})}),t("skylark-domx-effects/plugins/explode",["skylark-langx/langx","skylark-domx-query","../effects"],function(t,e,i){return i.define("explode","hide",function(t,i){var o,n,s,r,a,c,l=t.pieces?Math.round(Math.sqrt(t.pieces)):3,u=l,f=e(this),d=t.mode,p="show"===d,h=f.show().css("visibility","hidden").offset(),g=Math.ceil(f.outerWidth()/u),m=Math.ceil(f.outerHeight()/l),y=[];function k(){y.push(this),y.length===l*u&&(f.css({visibility:"visible"}),e(y).remove(),i())}for(o=0;o<l;o++)for(r=h.top+o*m,c=o-(l-1)/2,n=0;n<u;n++)s=h.left+n*g,a=n-(u-1)/2,f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-n*g,top:-o*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:m,left:s+(p?a*g:0),top:r+(p?c*m:0),opacity:p?0:1}).animate({left:s+(p?0:a*g),top:r+(p?0:c*m),opacity:p?1:0},t.duration||500,t.easing,k)})}),t("skylark-domx-effects/plugins/fade",["skylark-langx/langx","skylark-domx-query","../effects"],function(t,e,i){return i.define("fade","toggle",function(t,i){var o="show"===t.mode;e(this).css("opacity",o?0:1).animate({opacity:o?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:i})})}),t("skylark-domx-effects/plugins/fold",["skylark-langx/langx","skylark-domx-query","../effects"],function(t,e,i){return i.define("fold","hide",function(o,n){var s=e(this),r=o.mode,a="show"===r,c="hide"===r,l=o.size||15,u=/([0-9]+)%/.exec(l),f=!!o.horizFirst,d=f?["right","bottom"]:["bottom","right"],p=o.duration/2,h=i.createPlaceholder(s),g=s.cssClip(),m={clip:t.mixin({},g)},y={clip:t.mixin({},g)},k=[g[d[0]],g[d[1]]];u&&(l=parseInt(u[1],10)/100*k[c?0:1]),m.clip[d[0]]=l,y.clip[d[0]]=l,y.clip[d[1]]=0,a&&(s.cssClip(y.clip),h&&h.css(i.clipToBox(y)),y.clip=g);var x=t.Deferred,v=[];function b(t,e,i,o){return function(){var n=new x;return t.animate(e,i,o,function(){n.resolve()}),n.promise}}h&&(v.push(b(h,i.clipToBox(m),p,o.easing)),v.push(b(h,i.clipToBox(y),p,o.easing))),v.push(b(s,m,p,o.easing)),v.push(b(s,y,p,o.easing)),v.push(n),v.reduce(function(t,e,i,o){return t.then(e)},x.resolve())})}),t("skylark-domx-effects/plugins/highlight",["skylark-langx/langx","skylark-domx-query","../effects"],function(t,e,i){return i.define("highlight","show",function(t,o){var n=e(this),s={backgroundColor:n.css("backgroundColor")};"hide"===t.mode&&(s.opacity=0),i.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:o})})}),t("skylark-domx-effects/plugins/size",["skylark-langx/langx","skylark-domx-query","../effects"],function(t,e,i){return i.define("size",function(t,o){var n,s,r,a=e(this),c=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],f=t.mode,d="effect"!==f,p=t.scale||"both",h=t.origin||["middle","center"],g=a.css("position"),m=a.position(),y=i.scaledDimensions(a),k=t.from||y,x=t.to||i.scaledDimensions(a,0);i.createPlaceholder(a),"show"===f&&(r=k,k=x,x=r),s={from:{y:k.height/y.height,x:k.width/y.width},to:{y:x.height/y.height,x:x.width/y.width}},"box"!==p&&"both"!==p||(s.from.y!==s.to.y&&(k=i.setTransition(a,l,s.from.y,k),x=i.setTransition(a,l,s.to.y,x)),s.from.x!==s.to.x&&(k=i.setTransition(a,u,s.from.x,k),x=i.setTransition(a,u,s.to.x,x))),"content"!==p&&"both"!==p||s.from.y!==s.to.y&&(k=i.setTransition(a,c,s.from.y,k),x=i.setTransition(a,c,s.to.y,x)),h&&(n=i.getBaseline(h,y),k.top=(y.outerHeight-k.outerHeight)*n.y+m.top,k.left=(y.outerWidth-k.outerWidth)*n.x+m.left,x.top=(y.outerHeight-x.outerHeight)*n.y+m.top,x.left=(y.outerWidth-x.outerWidth)*n.x+m.left),a.css(k),"content"!==p&&"both"!==p||(l=l.concat(["marginTop","marginBottom"]).concat(c),u=u.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var o=e(this),n=i.scaledDimensions(o),r={height:n.height*s.from.y,width:n.width*s.from.x,outerHeight:n.outerHeight*s.from.y,outerWidth:n.outerWidth*s.from.x},a={height:n.height*s.to.y,width:n.width*s.to.x,outerHeight:n.height*s.to.y,outerWidth:n.width*s.to.x};s.from.y!==s.to.y&&(r=i.setTransition(o,l,s.from.y,r),a=i.setTransition(o,l,s.to.y,a)),s.from.x!==s.to.x&&(r=i.setTransition(o,u,s.from.x,r),a=i.setTransition(o,u,s.to.x,a)),d&&i.saveStyle(o),o.css(r),o.animate(a,t.duration,t.easing,function(){d&&i.restoreStyle(o)})})),a.animate(x,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){var t=a.offset();0===x.opacity&&a.css("opacity",k.opacity),d||(a.css("position","static"===g?"relative":g).offset(t),i.saveStyle(a)),o()}})})}),t("skylark-domx-effects/plugins/scale",["skylark-langx/langx","skylark-domx-query","../effects","./size"],function(t,e,i,o){return i.define("scale",function(n,s){var r=e(this),a=n.mode,c=parseInt(n.percent,10)||(0===parseInt(n.percent,10)?0:"effect"!==a?0:100),l=t.mixin({from:i.scaledDimensions(r),to:i.scaledDimensions(r,c,n.direction||"both"),origin:n.origin||["middle","center"]},n);n.fade&&(l.from.opacity=1,l.to.opacity=0),o.call(this,l,s)})}),t("skylark-domx-effects/plugins/puff",["skylark-langx/langx","skylark-domx-query","../effects","./scale"],function(t,e,i,o){return i.define("puff","hide",function(e,i){var n=t.mixin({},e,{fade:!0,percent:parseInt(e.percent,10)||150});o.call(this,n,i)})}),t("skylark-domx-effects/plugins/pulsate",["skylark-langx/langx","skylark-domx-query","../effects"],function(t,e,i){return i.define("pulsate","show",function(i,o){var n=e(this),s=i.mode,r="show"===s,a="hide"===s,c=r||a,l=2*(i.times||5)+(c?1:0),u=i.duration/l,f=0,d=1;!r&&n.is(":visible")||(n.css("opacity",0).show(),f=1);var p=t.Deferred,h=[];function g(t,e,i,o){return function(){var n=new p;return t.animate(e,i,o,function(){n.resolve()}),n.promise}}for(;d<l;d++)h.push(g(n,{opacity:f},u,i.easing)),f=1-f;h.push(g(n,{opacity:f},u,i.easing)),h.push(o),h.reduce(function(t,e,i,o){return t.then(e)},p.resolve())})}),t("skylark-domx-effects/plugins/shake",["skylark-langx/langx","skylark-domx-query","../effects"],function(t,e,i){return i.define("shake",function(o,n){var s=1,r=e(this),a=o.direction||"left",c=o.distance||20,l=o.times||3,u=2*l+1,f=Math.round(o.duration/u),d="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,h={},g={},m={},y={};i.createPlaceholder(r);var k=t.Deferred;function x(t,e,i,o){return function(){var n=new k;return t.animate(e,i,o,function(){n.resolve()}),n.promise}}for(start=r.position()[d],funcs=[],h[d]=start,g[d]=start+(p?-1:1)*c,m[d]=g[d]+(p?1:-1)*c*2,y[d]=m[d]+(p?-1:1)*c*2,funcs.push(x(r,g,f,o.easing));s<l;s++)funcs.push(x(r,m,f,o.easing)),funcs.push(x(r,y,f,o.easing));funcs.push(x(r,h,f/2,o.easing)),funcs.push(n),funcs.reduce(function(t,e,i,o){return t.then(e)},k.resolve())})}),t("skylark-domx-effects/plugins/slide",["skylark-langx/langx","skylark-domx-query","../effects"],function(t,e,i){return i.define("slide","show",function(t,o){var n,s,r=e(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},c=t.mode,l=t.direction||"left",u="up"===l||"down"===l?"top":"left",f="up"===l||"left"===l,d=t.distance||r["top"===u?"outerHeight":"outerWidth"](!0),p={};i.createPlaceholder(r),n=r.cssClip(),s=r.position()[u],p[u]=(f?-1:1)*d+s,p.clip=r.cssClip(),p.clip[a[l][1]]=p.clip[a[l][0]],"show"===c&&(r.cssClip(p.clip),r.css(u,p[u]),p.clip=n,p[u]=s),r.animate(p,{queue:!1,duration:t.duration,easing:t.easing,complete:o})})}),t("skylark-domx-effects/plugins/transfer",["skylark-langx/langx","skylark-domx-query","../effects"],function(t,e,i){var o;return!1!==e.uiBackCompat&&(o=i.define("transfer",function(t,i){e(this).transfer(t,i)})),o}),t("skylark-domx-effects/main",["./effects","./plugins/blind","./plugins/bounce","./plugins/clip","./plugins/drop","./plugins/explode","./plugins/fade","./plugins/fold","./plugins/highlight","./plugins/puff","./plugins/pulsate","./plugins/scale","./plugins/shake","./plugins/size","./plugins/slide","./plugins/transfer"],function(t){return t}),t("skylark-domx-effects",["skylark-domx-effects/main"],function(t){return t})}(i),!n){var a=o("skylark-langx/skylark");s?module.exports=a:e.skylarkjs=a}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-domx-effects.js.map
