{"version":3,"sources":["effects.js"],"names":["define","skylark","langx","fx","$","orig","dataSpaceAnimated","plugins","effects","_normalizeArguments","effect","options","speed","callback","isPlainObject","isFunction","speeds","mixin","duration","off","_default","complete","standardAnimationOption","option","parseClip","str","element","outerWidth","outerHeight","values","exec","top","parseFloat","right","bottom","left","name","mode","scaledDimensions","percent","direction","height","width","x","y","clipToBox","animation","clip","unshift","queueLength","count","queue","splice","apply","concat","dequeue","saveStyle","data","style","cssText","restoreStyle","removeData","hidden","is","getBaseline","origin","original","createPlaceholder","placeholder","cssPosition","css","position","marginTop","marginBottom","marginLeft","marginRight","test","nodeName","insertAfter","display","visibility","float","addClass","dataSpace","removePlaceholder","dataKey","remove","cleanUp","setTransition","list","factor","value","each","i","unit","cssUnit","fn","args","this","arguments","effectMethod","defaultMode","modes","call","next","el","normalizedMode","push","show","elem","done","shift","uiBackCompat","hide","toggle","key","val","indexOf","cssClip","clipObj","transfer","target","to","targetFixed","body","fixTop","scrollTop","fixLeft","scrollLeft","endPosition","offset","innerHeight","innerWidth","startPosition","appendTo","className","animate","easing","step","clipInit","start","end","pos","baseEasings","p","Math","pow","Sine","cos","PI","Circ","sqrt","Elastic","sin","Back","Bounce","pow2","bounce","easeIn","attach"],"mappings":";;;;;;;AAAAA,QACC,wBACA,sBACA,kBACA,sBACC,SAASC,EAAQC,EAAMC,EAAGC,GAE3B,IA+YmBC,EA7YlBC,EAAoB,sBACpBC,KAGGC,EAAUP,EAAQO,QAAU,aA4MhC,SAASC,EAAqBC,EAAQC,EAASC,EAAOC,GAiDrD,OA9CKX,EAAMY,cAAeJ,KACzBC,EAAUD,EACVA,EAASA,EAAOA,QAIjBA,GAAWA,OAAQA,GAGH,MAAXC,IACJA,MAIIT,EAAMa,WAAYJ,KACtBE,EAAWF,EACXC,EAAQ,KACRD,OAIuB,iBAAZA,GAAwBR,EAAGa,OAAQL,MAC9CE,EAAWD,EACXA,EAAQD,EACRA,MAIIT,EAAMa,WAAYH,KACtBC,EAAWD,EACXA,EAAQ,MAIJD,GACJT,EAAMe,MAAOP,EAAQC,GAGtBC,EAAQA,GAASD,EAAQO,SACzBR,EAAOQ,SAAWf,EAAGgB,IAAM,EACT,iBAAVP,EAAqBA,EAC5BA,KAASR,EAAED,GAAGa,OAASb,EAAGa,OAAQJ,GAClCT,EAAGa,OAAOI,SAEXV,EAAOW,SAAWR,GAAYF,EAAQU,SAE/BX,EAGR,SAASY,EAAyBC,GAGjC,QAAMA,GAA4B,iBAAXA,IAAuBpB,EAAGa,OAAQO,MAKlC,iBAAXA,IAAwBhB,EAASgB,OAKxCrB,EAAMa,WAAYQ,IAKA,iBAAXA,IAAwBA,EAAOb,SAmN5C,SAASc,EAAWC,EAAKC,GACvB,IAAIC,EAAaD,EAAQC,aACxBC,EAAcF,EAAQE,cAEtBC,EADY,wIACOC,KAAML,KAAW,GAAI,EAAGE,EAAYC,EAAa,GAErE,OACCG,IAAKC,WAAYH,EAAQ,KAAS,EAClCI,MAAuB,SAAhBJ,EAAQ,GAAiBF,EAAaK,WAAYH,EAAQ,IACjEK,OAAwB,SAAhBL,EAAQ,GAAiBD,EAAcI,WAAYH,EAAQ,IACnEM,KAAMH,WAAYH,EAAQ,KAAS,GAzetC3B,EAAMe,MAAMT,GACXR,OAAQ,SAAUoC,EAAMC,EAAM3B,GAS7B,OARMA,IACLA,EAAS2B,EACTA,EAAO,UAGR9B,EAAS6B,GAAS1B,EAClBH,EAAS6B,GAAOC,KAAOA,EAEhB3B,GAGR4B,iBAAkB,SAAUZ,EAASa,EAASC,GAC7C,GAAiB,IAAZD,EACJ,OACCE,OAAQ,EACRC,MAAO,EACPd,YAAa,EACbD,WAAY,GAId,IAAIgB,EAAkB,eAAdH,GAAiCD,GAAW,KAAQ,IAAQ,EACnEK,EAAkB,aAAdJ,GAA+BD,GAAW,KAAQ,IAAQ,EAE/D,OACCE,OAAQf,EAAQe,SAAWG,EAC3BF,MAAOhB,EAAQgB,QAAUC,EACzBf,YAAaF,EAAQE,cAAgBgB,EACrCjB,WAAYD,EAAQC,aAAegB,IAKrCE,UAAW,SAAUC,GACpB,OACCJ,MAAOI,EAAUC,KAAKd,MAAQa,EAAUC,KAAKZ,KAC7CM,OAAQK,EAAUC,KAAKb,OAASY,EAAUC,KAAKhB,IAC/CI,KAAMW,EAAUC,KAAKZ,KACrBJ,IAAKe,EAAUC,KAAKhB,MAKtBiB,QAAS,SAAUtB,EAASuB,EAAaC,GACxC,IAAIC,EAAQzB,EAAQyB,QAEfF,EAAc,GAClBE,EAAMC,OAAOC,MAAOF,GACjB,EAAG,GAAIG,OAAQH,EAAMC,OAAQH,EAAaC,KAE9CxB,EAAQ6B,WAGTC,UAAW,SAAU9B,GACpBA,EAAQ+B,KAnEQ,mBAmEc/B,EAAS,GAAIgC,MAAMC,UAGlDC,aAAc,SAAUlC,GACvBA,EAAS,GAAIgC,MAAMC,QAAUjC,EAAQ+B,KAvErB,qBAuE+C,GAC/D/B,EAAQmC,WAxEQ,qBA2EjBxB,KAAM,SAAUX,EAASW,GACxB,IAAIyB,EAASpC,EAAQqC,GAAI,WAQzB,MANc,WAAT1B,IACJA,EAAOyB,EAAS,OAAS,SAErBA,EAAkB,SAATzB,EAA2B,SAATA,KAC/BA,EAAO,QAEDA,GAIR2B,YAAa,SAAUC,EAAQC,GAC9B,IAAItB,EAAGD,EAEP,OAASsB,EAAQ,IACjB,IAAK,MACJrB,EAAI,EACJ,MACD,IAAK,SACJA,EAAI,GACJ,MACD,IAAK,SACJA,EAAI,EACJ,MACD,QACCA,EAAIqB,EAAQ,GAAMC,EAASzB,OAG5B,OAASwB,EAAQ,IACjB,IAAK,OACJtB,EAAI,EACJ,MACD,IAAK,SACJA,EAAI,GACJ,MACD,IAAK,QACJA,EAAI,EACJ,MACD,QACCA,EAAIsB,EAAQ,GAAMC,EAASxB,MAG5B,OACCC,EAAGA,EACHC,EAAGA,IAKLuB,kBAAmB,SAAUzC,GAC5B,IAAI0C,EACHC,EAAc3C,EAAQ4C,IAAK,YAC3BC,EAAW7C,EAAQ6C,WA+CpB,OAzCA7C,EAAQ4C,KACPE,UAAW9C,EAAQ4C,IAAK,aACxBG,aAAc/C,EAAQ4C,IAAK,gBAC3BI,WAAYhD,EAAQ4C,IAAK,cACzBK,YAAajD,EAAQ4C,IAAK,iBAE1B3C,WAAYD,EAAQC,cACpBC,YAAaF,EAAQE,eAEjB,qBAAqBgD,KAAMP,KAC/BA,EAAc,WAEdD,EAAchE,EAAG,IAAMsB,EAAS,GAAImD,SAAW,KAAMC,YAAapD,GAAU4C,KAI3ES,QAAS,iBAAiBH,KAAMlD,EAAQ4C,IAAK,YAC5C,eACA,QACDU,WAAY,SAGZR,UAAW9C,EAAQ4C,IAAK,aACxBG,aAAc/C,EAAQ4C,IAAK,gBAC3BI,WAAYhD,EAAQ4C,IAAK,cACzBK,YAAajD,EAAQ4C,IAAK,eAC1BW,MAASvD,EAAQ4C,IAAK,WAEtB3C,WAAYD,EAAQC,cACpBC,YAAaF,EAAQE,eACrBsD,SAAU,0BAEXxD,EAAQ+B,KAAM0B,yBAA2Bf,IAG1C1C,EAAQ4C,KACPC,SAAUF,EACVlC,KAAMoC,EAASpC,KACfJ,IAAKwC,EAASxC,MAGRqC,GAGRgB,kBAAmB,SAAU1D,GAC5B,IAAI2D,EAAUF,yBACZf,EAAc1C,EAAQ+B,KAAM4B,GAEzBjB,IACJA,EAAYkB,SACZ5D,EAAQmC,WAAYwB,KAMtBE,QAAS,SAAU7D,GAClBlB,EAAQoD,aAAclC,GACtBlB,EAAQ4E,kBAAmB1D,IAG5B8D,cAAe,SAAU9D,EAAS+D,EAAMC,EAAQC,GAQ/C,OAPAA,EAAQA,MACRzF,EAAM0F,KAAMH,EAAM,SAAUI,EAAGlD,GAC9B,IAAImD,EAAOpE,EAAQqE,QAASpD,GACvBmD,EAAM,GAAM,IAChBH,EAAOhD,GAAMmD,EAAM,GAAMJ,EAASI,EAAM,MAGnCH,KAmFTzF,EAAMe,MAAMb,EAAE4F,IACbtF,OAAQ,WACP,IAAIuF,EAAOxF,EAAoB4C,MAAO6C,KAAMC,WAC3CC,EAAe7F,EAAS0F,EAAKvF,QAC7B2F,EAAcD,EAAa/D,KAG3BhB,GAFQ4E,EAAK9C,MAEF8C,EAAK5E,UAChBgB,EAAO4D,EAAK5D,KACZiE,KA4BD,GAAKnG,EAAGgB,MAAQiF,EAGf,OAAK/D,EACG6D,KAAM7D,GAAQ4D,EAAK/E,SAAUG,GAE7B6E,KAAKN,KAAM,WACZvE,GACJA,EAASkF,KAAML,QA+DnB,OAAOA,KAAKN,KAlGC,SAAUY,GACrB,IAAIC,EAAKrG,EAAG8F,MACXQ,EAAiBlG,EAAQ6B,KAAMoE,EAAIpE,IAAUgE,EAG9CI,EAAGhD,KAAMnD,GAAmB,GAK5BgG,EAAMK,KAAMD,GAGPL,IAAoC,SAAnBK,GAClBA,IAAmBL,GAAkC,SAAnBK,IACrCD,EAAGG,OAGEP,GAAkC,SAAnBK,GACpBlG,EAAQgD,UAAWiD,GAGfvG,EAAMa,WAAYyF,IACtBA,MA2E2BZ,KAzD9B,SAAcY,GACb,IAAIK,EAAOzG,EAAG8F,MAcd,SAASY,IACH5G,EAAMa,WAAYM,IACtBA,EAASkF,KAAMM,EAAM,IAGjB3G,EAAMa,WAAYyF,IACtBA,IAMFP,EAAK5D,KAAOiE,EAAMS,SAEM,IAAnB3G,EAAE4G,cAA2BX,EAUd,SAAdJ,EAAK5D,MAGTwE,EAAMxE,KACNyE,KAEAV,EAAaG,KAAMM,EAAM,GAAKZ,EA1ChC,WACCY,EAAKhD,WAAYvD,GAEjBE,EAAQ+E,QAASsB,GAEE,SAAdZ,EAAK5D,MACTwE,EAAKI,OAGNH,OAkBKD,EAAK9C,GAAI,WAAuB,SAAT1B,EAA2B,SAATA,IAG7CwE,EAAMxE,KACNyE,KAEAV,EAAaG,KAAMM,EAAM,GAAKZ,EAAMa,MAwBxCF,MAAkBvG,EAUbD,EAAE4F,GAAGY,KATF,SAAUrF,GAChB,GAAKD,EAAyBC,GAC7B,OAAOlB,EAAKgD,MAAO6C,KAAMC,WAEzB,IAAIF,EAAOxF,EAAoB4C,MAAO6C,KAAMC,WAE5C,OADAF,EAAK5D,KAAO,OACL6D,KAAKxF,OAAO6F,KAAML,KAAMD,KAKlCgB,KAAM,SAAY5G,GACjB,OAAO,SAAUkB,GAChB,GAAKD,EAAyBC,GAC7B,OAAOlB,EAAKgD,MAAO6C,KAAMC,WAEzB,IAAIF,EAAOxF,EAAoB4C,MAAO6C,KAAMC,WAE5C,OADAF,EAAK5D,KAAO,OACL6D,KAAKxF,OAAO6F,KAAML,KAAMD,IAP5B,CAUD7F,EAAE4F,GAAGiB,MAEVC,OAAQ,SAAY7G,GACnB,OAAO,SAAUkB,GAChB,GAAKD,EAAyBC,IAA8B,kBAAXA,EAChD,OAAOlB,EAAKgD,MAAO6C,KAAMC,WAEzB,IAAIF,EAAOxF,EAAoB4C,MAAO6C,KAAMC,WAE5C,OADAF,EAAK5D,KAAO,SACL6D,KAAKxF,OAAO6F,KAAML,KAAMD,IAP1B,CAUH7F,EAAE4F,GAAGkB,QAEVnB,QAAS,SAAUoB,GAClB,IAAIzD,EAAQwC,KAAK5B,IAAK6C,GACrBC,KASD,OAPAlH,EAAM0F,MAAQ,KAAM,KAAM,IAAK,MAAQ,SAAUC,EAAGC,GAC9CpC,EAAM2D,QAASvB,GAAS,IAC5BsB,GAAQpF,WAAY0B,GAASoC,MAKxBsB,GAGRE,QAAS,SAAUC,GAClB,OAAKA,EACGrB,KAAK5B,IAAK,OAAQ,QAAUiD,EAAQxF,IAAM,MAAQwF,EAAQtF,MAAQ,MACxEsF,EAAQrF,OAAS,MAAQqF,EAAQpF,KAAO,OAEnCX,EAAW0E,KAAK5B,IAAK,QAAU4B,OAGvCsB,SAAU,SAAU7G,EAASmG,GAC5B,IAAIpF,EAAUtB,EAAG8F,MAChBuB,EAASrH,EAAGO,EAAQ+G,IACpBC,EAA2C,UAA7BF,EAAOnD,IAAK,YAC1BsD,EAAOxH,EAAG,QACVyH,EAASF,EAAcC,EAAKE,YAAc,EAC1CC,EAAUJ,EAAcC,EAAKI,aAAe,EAC5CC,EAAcR,EAAOS,SACrBpF,GACCf,IAAKkG,EAAYlG,IAAM8F,EACvB1F,KAAM8F,EAAY9F,KAAO4F,EACzBtF,OAAQgF,EAAOU,cACfzF,MAAO+E,EAAOW,cAEfC,EAAgB3G,EAAQwG,SACxBV,EAAWpH,EAAG,2CACZkI,SAAU,QACVpD,SAAUvE,EAAQ4H,WAClBjE,KACAvC,IAAKsG,EAActG,IAAM8F,EACzB1F,KAAMkG,EAAclG,KAAO4F,EAC3BtF,OAAQf,EAAQyG,cAChBzF,MAAOhB,EAAQ0G,aACf7D,SAAUoD,EAAc,QAAU,aAElCa,QAAS1F,EAAWnC,EAAQO,SAAUP,EAAQ8H,OAAQ,WACtDjB,EAASlC,SACJpF,EAAMa,WAAY+F,IACtBA,SAoBN3G,EAAGuI,KAAOvI,EAAGuI,SAEbvI,EAAGuI,KAAK3F,KAAO,SAAU5C,GAClBA,EAAGwI,WACRxI,EAAGyI,MAAQxI,EAAGD,EAAG0G,MAAOS,UACD,iBAAXnH,EAAG0I,MACd1I,EAAG0I,IAAMrH,EAAWrB,EAAG0I,IAAK1I,EAAG0G,OAEhC1G,EAAGwI,UAAW,GAGfvI,EAAGD,EAAG0G,MAAOS,SACZvF,IAAK5B,EAAG2I,KAAQ3I,EAAG0I,IAAI9G,IAAM5B,EAAGyI,MAAM7G,KAAQ5B,EAAGyI,MAAM7G,IACvDE,MAAO9B,EAAG2I,KAAQ3I,EAAG0I,IAAI5G,MAAQ9B,EAAGyI,MAAM3G,OAAU9B,EAAGyI,MAAM3G,MAC7DC,OAAQ/B,EAAG2I,KAAQ3I,EAAG0I,IAAI3G,OAAS/B,EAAGyI,MAAM1G,QAAW/B,EAAGyI,MAAM1G,OAChEC,KAAMhC,EAAG2I,KAAQ3I,EAAG0I,IAAI1G,KAAOhC,EAAGyI,MAAMzG,MAAShC,EAAGyI,MAAMzG,QAW5D,IAAI4G,KA8CJ,OA5CA7I,EAAM0F,MAAQ,OAAQ,QAAS,QAAS,QAAS,QAAU,SAAUC,EAAGzD,GACvE2G,EAAa3G,GAAS,SAAU4G,GAC/B,OAAOC,KAAKC,IAAKF,EAAGnD,EAAI,MAI1B3F,EAAMe,MAAO8H,GACZI,KAAM,SAAUH,GACf,OAAO,EAAIC,KAAKG,IAAKJ,EAAIC,KAAKI,GAAK,IAEpCC,KAAM,SAAUN,GACf,OAAO,EAAIC,KAAKM,KAAM,EAAIP,EAAIA,IAE/BQ,QAAS,SAAUR,GAClB,OAAa,IAANA,GAAiB,IAANA,EAAUA,GAC1BC,KAAKC,IAAK,EAAG,GAAMF,EAAI,IAAQC,KAAKQ,KAAmB,IAAVT,EAAI,GAAW,KAAQC,KAAKI,GAAK,KAEjFK,KAAM,SAAUV,GACf,OAAOA,EAAIA,GAAM,EAAIA,EAAI,IAE1BW,OAAQ,SAAUX,GAIjB,IAHA,IAAIY,EACHC,EAAS,EAEFb,IAAQY,EAAOX,KAAKC,IAAK,IAAKW,IAAa,GAAM,KACzD,OAAO,EAAIZ,KAAKC,IAAK,EAAG,EAAIW,GAAW,OAASZ,KAAKC,KAAc,EAAPU,EAAW,GAAM,GAAKZ,EAAG,MAIvF7I,EAAGsI,OAAStI,EAAGsI,WAEfvI,EAAM0F,KAAMmD,EAAa,SAAU3G,EAAM0H,GACxC3J,EAAGsI,OAAQ,SAAWrG,GAAS0H,EAC/B3J,EAAGsI,OAAQ,UAAYrG,GAAS,SAAU4G,GACzC,OAAO,EAAIc,EAAQ,EAAId,IAExB7I,EAAGsI,OAAQ,YAAcrG,GAAS,SAAU4G,GAC3C,OAAOA,EAAI,GACVc,EAAY,EAAJd,GAAU,EAClB,EAAIc,GAAa,EAALd,EAAS,GAAM,KAKvB/I,EAAQ8J,OAAO,eAAgBvJ","file":"../effects.js","sourcesContent":["define([ \r\n\t\"skylark-langx/skylark\",\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-fx\",\r\n\t\"skylark-domx-query\"\r\n],function(skylark,langx,fx,$) {\r\n\r\n\tvar dataSpace = \"ui-effects-\",\r\n\t\tdataSpaceStyle = \"ui-effects-style\",\r\n\t\tdataSpaceAnimated = \"ui-effects-animated\",\r\n\t\tplugins = {};\r\n\r\n\r\n\tvar effects = skylark.effects = function() {\r\n\r\n\t};\r\n\r\n\r\n\r\n\tlangx.mixin(effects,{\r\n\t\tdefine: function( name, mode, effect ) {\r\n\t\t\tif ( !effect ) {\r\n\t\t\t\teffect = mode;\r\n\t\t\t\tmode = \"effect\";\r\n\t\t\t}\r\n\r\n\t\t\tplugins[ name ] = effect;\r\n\t\t\tplugins[ name ].mode = mode;\r\n\r\n\t\t\treturn effect;\r\n\t\t},\r\n\r\n\t\tscaledDimensions: function( element, percent, direction ) {\r\n\t\t\tif ( percent === 0 ) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\theight: 0,\r\n\t\t\t\t\twidth: 0,\r\n\t\t\t\t\touterHeight: 0,\r\n\t\t\t\t\touterWidth: 0\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tvar x = direction !== \"horizontal\" ? ( ( percent || 100 ) / 100 ) : 1,\r\n\t\t\t\ty = direction !== \"vertical\" ? ( ( percent || 100 ) / 100 ) : 1;\r\n\r\n\t\t\treturn {\r\n\t\t\t\theight: element.height() * y,\r\n\t\t\t\twidth: element.width() * x,\r\n\t\t\t\touterHeight: element.outerHeight() * y,\r\n\t\t\t\touterWidth: element.outerWidth() * x\r\n\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\tclipToBox: function( animation ) {\r\n\t\t\treturn {\r\n\t\t\t\twidth: animation.clip.right - animation.clip.left,\r\n\t\t\t\theight: animation.clip.bottom - animation.clip.top,\r\n\t\t\t\tleft: animation.clip.left,\r\n\t\t\t\ttop: animation.clip.top\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t// Injects recently queued functions to be first in line (after \"inprogress\")\r\n\t\tunshift: function( element, queueLength, count ) {\r\n\t\t\tvar queue = element.queue();\r\n\r\n\t\t\tif ( queueLength > 1 ) {\r\n\t\t\t\tqueue.splice.apply( queue,\r\n\t\t\t\t\t[ 1, 0 ].concat( queue.splice( queueLength, count ) ) );\r\n\t\t\t}\r\n\t\t\telement.dequeue();\r\n\t\t},\r\n\r\n\t\tsaveStyle: function( element ) {\r\n\t\t\telement.data( dataSpaceStyle, element[ 0 ].style.cssText );\r\n\t\t},\r\n\r\n\t\trestoreStyle: function( element ) {\r\n\t\t\telement[ 0 ].style.cssText = element.data( dataSpaceStyle ) || \"\";\r\n\t\t\telement.removeData( dataSpaceStyle );\r\n\t\t},\r\n\r\n\t\tmode: function( element, mode ) {\r\n\t\t\tvar hidden = element.is( \":hidden\" );\r\n\r\n\t\t\tif ( mode === \"toggle\" ) {\r\n\t\t\t\tmode = hidden ? \"show\" : \"hide\";\r\n\t\t\t}\r\n\t\t\tif ( hidden ? mode === \"hide\" : mode === \"show\" ) {\r\n\t\t\t\tmode = \"none\";\r\n\t\t\t}\r\n\t\t\treturn mode;\r\n\t\t},\r\n\r\n\t\t// Translates a [top,left] array into a baseline value\r\n\t\tgetBaseline: function( origin, original ) {\r\n\t\t\tvar y, x;\r\n\r\n\t\t\tswitch ( origin[ 0 ] ) {\r\n\t\t\tcase \"top\":\r\n\t\t\t\ty = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"middle\":\r\n\t\t\t\ty = 0.5;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"bottom\":\r\n\t\t\t\ty = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\ty = origin[ 0 ] / original.height;\r\n\t\t\t}\r\n\r\n\t\t\tswitch ( origin[ 1 ] ) {\r\n\t\t\tcase \"left\":\r\n\t\t\t\tx = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"center\":\r\n\t\t\t\tx = 0.5;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"right\":\r\n\t\t\t\tx = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tx = origin[ 1 ] / original.width;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tx: x,\r\n\t\t\t\ty: y\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t// Creates a placeholder element so that the original element can be made absolute\r\n\t\tcreatePlaceholder: function( element ) {\r\n\t\t\tvar placeholder,\r\n\t\t\t\tcssPosition = element.css( \"position\" ),\r\n\t\t\t\tposition = element.position();\r\n\r\n\t\t\t// Lock in margins first to account for form elements, which\r\n\t\t\t// will change margin if you explicitly set height\r\n\t\t\t// see: http://jsfiddle.net/JZSMt/3/ https://bugs.webkit.org/show_bug.cgi?id=107380\r\n\t\t\t// Support: Safari\r\n\t\t\telement.css( {\r\n\t\t\t\tmarginTop: element.css( \"marginTop\" ),\r\n\t\t\t\tmarginBottom: element.css( \"marginBottom\" ),\r\n\t\t\t\tmarginLeft: element.css( \"marginLeft\" ),\r\n\t\t\t\tmarginRight: element.css( \"marginRight\" )\r\n\t\t\t} )\r\n\t\t\t.outerWidth( element.outerWidth() )\r\n\t\t\t.outerHeight( element.outerHeight() );\r\n\r\n\t\t\tif ( /^(static|relative)/.test( cssPosition ) ) {\r\n\t\t\t\tcssPosition = \"absolute\";\r\n\r\n\t\t\t\tplaceholder = $( \"<\" + element[ 0 ].nodeName + \">\" ).insertAfter( element ).css( {\r\n\r\n\t\t\t\t\t// Convert inline to inline block to account for inline elements\r\n\t\t\t\t\t// that turn to inline block based on content (like img)\r\n\t\t\t\t\tdisplay: /^(inline|ruby)/.test( element.css( \"display\" ) ) ?\r\n\t\t\t\t\t\t\"inline-block\" :\r\n\t\t\t\t\t\t\"block\",\r\n\t\t\t\t\tvisibility: \"hidden\",\r\n\r\n\t\t\t\t\t// Margins need to be set to account for margin collapse\r\n\t\t\t\t\tmarginTop: element.css( \"marginTop\" ),\r\n\t\t\t\t\tmarginBottom: element.css( \"marginBottom\" ),\r\n\t\t\t\t\tmarginLeft: element.css( \"marginLeft\" ),\r\n\t\t\t\t\tmarginRight: element.css( \"marginRight\" ),\r\n\t\t\t\t\t\"float\": element.css( \"float\" )\r\n\t\t\t\t} )\r\n\t\t\t\t.outerWidth( element.outerWidth() )\r\n\t\t\t\t.outerHeight( element.outerHeight() )\r\n\t\t\t\t.addClass( \"ui-effects-placeholder\" );\r\n\r\n\t\t\t\telement.data( dataSpace + \"placeholder\", placeholder );\r\n\t\t\t}\r\n\r\n\t\t\telement.css( {\r\n\t\t\t\tposition: cssPosition,\r\n\t\t\t\tleft: position.left,\r\n\t\t\t\ttop: position.top\r\n\t\t\t} );\r\n\r\n\t\t\treturn placeholder;\r\n\t\t},\r\n\r\n\t\tremovePlaceholder: function( element ) {\r\n\t\t\tvar dataKey = dataSpace + \"placeholder\",\r\n\t\t\t\t\tplaceholder = element.data( dataKey );\r\n\r\n\t\t\tif ( placeholder ) {\r\n\t\t\t\tplaceholder.remove();\r\n\t\t\t\telement.removeData( dataKey );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Removes a placeholder if it exists and restores\r\n\t\t// properties that were modified during placeholder creation\r\n\t\tcleanUp: function( element ) {\r\n\t\t\teffects.restoreStyle( element );\r\n\t\t\teffects.removePlaceholder( element );\r\n\t\t},\r\n\r\n\t\tsetTransition: function( element, list, factor, value ) {\r\n\t\t\tvalue = value || {};\r\n\t\t\tlangx.each( list, function( i, x ) {\r\n\t\t\t\tvar unit = element.cssUnit( x );\r\n\t\t\t\tif ( unit[ 0 ] > 0 ) {\r\n\t\t\t\t\tvalue[ x ] = unit[ 0 ] * factor + unit[ 1 ];\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t\treturn value;\r\n\t\t}\r\n\t});\r\n\r\n\t// Return an effect options object for the given parameters:\r\n\tfunction _normalizeArguments( effect, options, speed, callback ) {\r\n\r\n\t\t// Allow passing all options as the first parameter\r\n\t\tif ( langx.isPlainObject( effect ) ) {\r\n\t\t\toptions = effect;\r\n\t\t\teffect = effect.effect;\r\n\t\t}\r\n\r\n\t\t// Convert to an object\r\n\t\teffect = { effect: effect };\r\n\r\n\t\t// Catch (effect, null, ...)\r\n\t\tif ( options == null ) {\r\n\t\t\toptions = {};\r\n\t\t}\r\n\r\n\t\t// Catch (effect, callback)\r\n\t\tif ( langx.isFunction( options ) ) {\r\n\t\t\tcallback = options;\r\n\t\t\tspeed = null;\r\n\t\t\toptions = {};\r\n\t\t}\r\n\r\n\t\t// Catch (effect, speed, ?)\r\n\t\tif ( typeof options === \"number\" || fx.speeds[ options ] ) {\r\n\t\t\tcallback = speed;\r\n\t\t\tspeed = options;\r\n\t\t\toptions = {};\r\n\t\t}\r\n\r\n\t\t// Catch (effect, options, callback)\r\n\t\tif ( langx.isFunction( speed ) ) {\r\n\t\t\tcallback = speed;\r\n\t\t\tspeed = null;\r\n\t\t}\r\n\r\n\t\t// Add options to effect\r\n\t\tif ( options ) {\r\n\t\t\tlangx.mixin( effect, options );\r\n\t\t}\r\n\r\n\t\tspeed = speed || options.duration;\r\n\t\teffect.duration = fx.off ? 0 :\r\n\t\t\ttypeof speed === \"number\" ? speed :\r\n\t\t\tspeed in $.fx.speeds ? fx.speeds[ speed ] :\r\n\t\t\tfx.speeds._default;\r\n\r\n\t\teffect.complete = callback || options.complete;\r\n\r\n\t\treturn effect;\r\n\t}\r\n\r\n\tfunction standardAnimationOption( option ) {\r\n\r\n\t\t// Valid standard speeds (nothing, number, named speed)\r\n\t\tif ( !option || typeof option === \"number\" || fx.speeds[ option ] ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Invalid strings - treat as \"normal\" speed\r\n\t\tif ( typeof option === \"string\" && !plugins[ option ] ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Complete callback\r\n\t\tif ( langx.isFunction( option ) ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Options hash (but not naming an effect)\r\n\t\tif ( typeof option === \"object\" && !option.effect ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Didn't match any standard API\r\n\t\treturn false;\r\n\t}\r\n\r\n\tlangx.mixin($.fn,{\r\n\t\teffect: function( /* effect, options, speed, callback */ ) {\r\n\t\t\tvar args = _normalizeArguments.apply( this, arguments ),\r\n\t\t\t\teffectMethod = plugins[ args.effect ],\r\n\t\t\t\tdefaultMode = effectMethod.mode,\r\n\t\t\t\tqueue = args.queue,\r\n\t\t\t\tqueueName = queue || \"fx\",\r\n\t\t\t\tcomplete = args.complete,\r\n\t\t\t\tmode = args.mode,\r\n\t\t\t\tmodes = [],\r\n\t\t\t\tprefilter = function( next ) {\r\n\t\t\t\t\tvar el = $( this ),\r\n\t\t\t\t\t\tnormalizedMode = effects.mode( el, mode ) || defaultMode;\r\n\r\n\t\t\t\t\t// Sentinel for duck-punching the :animated pseudo-selector\r\n\t\t\t\t\tel.data( dataSpaceAnimated, true );\r\n\r\n\t\t\t\t\t// Save effect mode for later use,\r\n\t\t\t\t\t// we can't just call effects.mode again later,\r\n\t\t\t\t\t// as the .show() below destroys the initial state\r\n\t\t\t\t\tmodes.push( normalizedMode );\r\n\r\n\t\t\t\t\t// See $.uiBackCompat inside of run() for removal of defaultMode in 1.13\r\n\t\t\t\t\tif ( defaultMode && ( normalizedMode === \"show\" ||\r\n\t\t\t\t\t\t\t( normalizedMode === defaultMode && normalizedMode === \"hide\" ) ) ) {\r\n\t\t\t\t\t\tel.show();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( !defaultMode || normalizedMode !== \"none\" ) {\r\n\t\t\t\t\t\teffects.saveStyle( el );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( langx.isFunction( next ) ) {\r\n\t\t\t\t\t\tnext();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\tif ( fx.off || !effectMethod ) {\r\n\r\n\t\t\t\t// Delegate to the original method (e.g., .show()) if possible\r\n\t\t\t\tif ( mode ) {\r\n\t\t\t\t\treturn this[ mode ]( args.duration, complete );\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.each( function() {\r\n\t\t\t\t\t\tif ( complete ) {\r\n\t\t\t\t\t\t\tcomplete.call( this );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction run( next ) {\r\n\t\t\t\tvar elem = $( this );\r\n\r\n\t\t\t\tfunction cleanup() {\r\n\t\t\t\t\telem.removeData( dataSpaceAnimated );\r\n\r\n\t\t\t\t\teffects.cleanUp( elem );\r\n\r\n\t\t\t\t\tif ( args.mode === \"hide\" ) {\r\n\t\t\t\t\t\telem.hide();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdone();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction done() {\r\n\t\t\t\t\tif ( langx.isFunction( complete ) ) {\r\n\t\t\t\t\t\tcomplete.call( elem[ 0 ] );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( langx.isFunction( next ) ) {\r\n\t\t\t\t\t\tnext();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Override mode option on a per element basis,\r\n\t\t\t\t// as toggle can be either show or hide depending on element state\r\n\t\t\t\targs.mode = modes.shift();\r\n\r\n\t\t\t\tif ( $.uiBackCompat !== false && !defaultMode ) {\r\n\t\t\t\t\tif ( elem.is( \":hidden\" ) ? mode === \"hide\" : mode === \"show\" ) {\r\n\r\n\t\t\t\t\t\t// Call the core method to track \"olddisplay\" properly\r\n\t\t\t\t\t\telem[ mode ]();\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\teffectMethod.call( elem[ 0 ], args, done );\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif ( args.mode === \"none\" ) {\r\n\r\n\t\t\t\t\t\t// Call the core method to track \"olddisplay\" properly\r\n\t\t\t\t\t\telem[ mode ]();\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\teffectMethod.call( elem[ 0 ], args, cleanup );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Run prefilter on all elements first to ensure that\r\n\t\t\t// any showing or hiding happens before placeholder creation,\r\n\t\t\t// which ensures that any layout changes are correctly captured.\r\n\t\t\t//return queue === false ?\r\n\t\t\t//\tthis.each( prefilter ).each( run ) :\r\n\t\t\t//\tthis.queue( queueName, prefilter ).queue( queueName, run );\r\n\r\n\t\t\treturn this.each( prefilter ).each( run );\t\r\n\t\t},\r\n\r\n\t\tshow: ( function( orig ) {\r\n\t\t\treturn function( option ) {\r\n\t\t\t\tif ( standardAnimationOption( option ) ) {\r\n\t\t\t\t\treturn orig.apply( this, arguments );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar args = _normalizeArguments.apply( this, arguments );\r\n\t\t\t\t\targs.mode = \"show\";\r\n\t\t\t\t\treturn this.effect.call( this, args );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t} )( $.fn.show ),\r\n\r\n\t\thide: ( function( orig ) {\r\n\t\t\treturn function( option ) {\r\n\t\t\t\tif ( standardAnimationOption( option ) ) {\r\n\t\t\t\t\treturn orig.apply( this, arguments );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar args = _normalizeArguments.apply( this, arguments );\r\n\t\t\t\t\targs.mode = \"hide\";\r\n\t\t\t\t\treturn this.effect.call( this, args );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t} )( $.fn.hide ),\r\n\r\n\t\ttoggle: ( function( orig ) {\r\n\t\t\treturn function( option ) {\r\n\t\t\t\tif ( standardAnimationOption( option ) || typeof option === \"boolean\" ) {\r\n\t\t\t\t\treturn orig.apply( this, arguments );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar args = _normalizeArguments.apply( this, arguments );\r\n\t\t\t\t\targs.mode = \"toggle\";\r\n\t\t\t\t\treturn this.effect.call( this, args );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t} )( $.fn.toggle ),\r\n\r\n\t\tcssUnit: function( key ) {\r\n\t\t\tvar style = this.css( key ),\r\n\t\t\t\tval = [];\r\n\r\n\t\t\tlangx.each( [ \"em\", \"px\", \"%\", \"pt\" ], function( i, unit ) {\r\n\t\t\t\tif ( style.indexOf( unit ) > 0 ) {\r\n\t\t\t\t\tval = [ parseFloat( style ), unit ];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\r\n\t\t\treturn val;\r\n\t\t},\r\n\r\n\t\tcssClip: function( clipObj ) {\r\n\t\t\tif ( clipObj ) {\r\n\t\t\t\treturn this.css( \"clip\", \"rect(\" + clipObj.top + \"px \" + clipObj.right + \"px \" +\r\n\t\t\t\t\tclipObj.bottom + \"px \" + clipObj.left + \"px)\" );\r\n\t\t\t}\r\n\t\t\treturn parseClip( this.css( \"clip\" ), this );\r\n\t\t},\r\n\r\n\t\ttransfer: function( options, done ) {\r\n\t\t\tvar element = $( this ),\r\n\t\t\t\ttarget = $( options.to ),\r\n\t\t\t\ttargetFixed = target.css( \"position\" ) === \"fixed\",\r\n\t\t\t\tbody = $( \"body\" ),\r\n\t\t\t\tfixTop = targetFixed ? body.scrollTop() : 0,\r\n\t\t\t\tfixLeft = targetFixed ? body.scrollLeft() : 0,\r\n\t\t\t\tendPosition = target.offset(),\r\n\t\t\t\tanimation = {\r\n\t\t\t\t\ttop: endPosition.top - fixTop,\r\n\t\t\t\t\tleft: endPosition.left - fixLeft,\r\n\t\t\t\t\theight: target.innerHeight(),\r\n\t\t\t\t\twidth: target.innerWidth()\r\n\t\t\t\t},\r\n\t\t\t\tstartPosition = element.offset(),\r\n\t\t\t\ttransfer = $( \"<div class='ui-effects-transfer'></div>\" )\r\n\t\t\t\t\t.appendTo( \"body\" )\r\n\t\t\t\t\t.addClass( options.className )\r\n\t\t\t\t\t.css( {\r\n\t\t\t\t\t\ttop: startPosition.top - fixTop,\r\n\t\t\t\t\t\tleft: startPosition.left - fixLeft,\r\n\t\t\t\t\t\theight: element.innerHeight(),\r\n\t\t\t\t\t\twidth: element.innerWidth(),\r\n\t\t\t\t\t\tposition: targetFixed ? \"fixed\" : \"absolute\"\r\n\t\t\t\t\t} )\r\n\t\t\t\t\t.animate( animation, options.duration, options.easing, function() {\r\n\t\t\t\t\t\ttransfer.remove();\r\n\t\t\t\t\t\tif ( langx.isFunction( done ) ) {\r\n\t\t\t\t\t\t\tdone();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\t\t}\r\n\t});\r\n\r\n\tfunction parseClip( str, element ) {\r\n\t\t\tvar outerWidth = element.outerWidth(),\r\n\t\t\t\touterHeight = element.outerHeight(),\r\n\t\t\t\tclipRegex = /^rect\\((-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto)\\)$/,\r\n\t\t\t\tvalues = clipRegex.exec( str ) || [ \"\", 0, outerWidth, outerHeight, 0 ];\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: parseFloat( values[ 1 ] ) || 0,\r\n\t\t\t\tright: values[ 2 ] === \"auto\" ? outerWidth : parseFloat( values[ 2 ] ),\r\n\t\t\t\tbottom: values[ 3 ] === \"auto\" ? outerHeight : parseFloat( values[ 3 ] ),\r\n\t\t\t\tleft: parseFloat( values[ 4 ] ) || 0\r\n\t\t\t};\r\n\t}\r\n\r\n\tfx.step = fx.step || {};\r\n\r\n\tfx.step.clip = function( fx ) {\r\n\t\tif ( !fx.clipInit ) {\r\n\t\t\tfx.start = $( fx.elem ).cssClip();\r\n\t\t\tif ( typeof fx.end === \"string\" ) {\r\n\t\t\t\tfx.end = parseClip( fx.end, fx.elem );\r\n\t\t\t}\r\n\t\t\tfx.clipInit = true;\r\n\t\t}\r\n\r\n\t\t$( fx.elem ).cssClip( {\r\n\t\t\ttop: fx.pos * ( fx.end.top - fx.start.top ) + fx.start.top,\r\n\t\t\tright: fx.pos * ( fx.end.right - fx.start.right ) + fx.start.right,\r\n\t\t\tbottom: fx.pos * ( fx.end.bottom - fx.start.bottom ) + fx.start.bottom,\r\n\t\t\tleft: fx.pos * ( fx.end.left - fx.start.left ) + fx.start.left\r\n\t\t} );\r\n\t};\r\n\r\n\r\n\t/******************************************************************************/\r\n\t/*********************************** EASING ***********************************/\r\n\t/******************************************************************************/\r\n\r\n\t// Based on easing equations from Robert Penner (http://www.robertpenner.com/easing)\r\n\r\n\tvar baseEasings = {};\r\n\r\n\tlangx.each( [ \"Quad\", \"Cubic\", \"Quart\", \"Quint\", \"Expo\" ], function( i, name ) {\r\n\t\tbaseEasings[ name ] = function( p ) {\r\n\t\t\treturn Math.pow( p, i + 2 );\r\n\t\t};\r\n\t} );\r\n\r\n\tlangx.mixin( baseEasings, {\r\n\t\tSine: function( p ) {\r\n\t\t\treturn 1 - Math.cos( p * Math.PI / 2 );\r\n\t\t},\r\n\t\tCirc: function( p ) {\r\n\t\t\treturn 1 - Math.sqrt( 1 - p * p );\r\n\t\t},\r\n\t\tElastic: function( p ) {\r\n\t\t\treturn p === 0 || p === 1 ? p :\r\n\t\t\t\t-Math.pow( 2, 8 * ( p - 1 ) ) * Math.sin( ( ( p - 1 ) * 80 - 7.5 ) * Math.PI / 15 );\r\n\t\t},\r\n\t\tBack: function( p ) {\r\n\t\t\treturn p * p * ( 3 * p - 2 );\r\n\t\t},\r\n\t\tBounce: function( p ) {\r\n\t\t\tvar pow2,\r\n\t\t\t\tbounce = 4;\r\n\r\n\t\t\twhile ( p < ( ( pow2 = Math.pow( 2, --bounce ) ) - 1 ) / 11 ) {}\r\n\t\t\treturn 1 / Math.pow( 4, 3 - bounce ) - 7.5625 * Math.pow( ( pow2 * 3 - 2 ) / 22 - p, 2 );\r\n\t\t}\r\n\t} );\r\n\r\n\tfx.easing = fx.easing || {};\r\n\r\n\tlangx.each( baseEasings, function( name, easeIn ) {\r\n\t\tfx.easing[ \"easeIn\" + name ] = easeIn;\r\n\t\tfx.easing[ \"easeOut\" + name ] = function( p ) {\r\n\t\t\treturn 1 - easeIn( 1 - p );\r\n\t\t};\r\n\t\tfx.easing[ \"easeInOut\" + name ] = function( p ) {\r\n\t\t\treturn p < 0.5 ?\r\n\t\t\t\teaseIn( p * 2 ) / 2 :\r\n\t\t\t\t1 - easeIn( p * -2 + 2 ) / 2;\r\n\t\t};\r\n\t} );\r\n\r\n\r\n\treturn skylark.attach(\"domx.effects\", effects);\r\n\r\n});\r\n"]}