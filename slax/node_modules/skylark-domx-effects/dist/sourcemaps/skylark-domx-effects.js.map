{"version":3,"sources":["skylark-domx-effects.js"],"names":["define","skylark","langx","fx","$","orig","dataSpaceAnimated","plugins","effects","_normalizeArguments","effect","options","speed","callback","isPlainObject","isFunction","speeds","mixin","duration","off","_default","complete","standardAnimationOption","option","parseClip","str","element","outerWidth","outerHeight","values","exec","top","parseFloat","right","bottom","left","name","mode","scaledDimensions","percent","direction","height","width","x","y","clipToBox","animation","clip","unshift","queueLength","count","queue","splice","apply","concat","dequeue","saveStyle","data","style","cssText","restoreStyle","removeData","hidden","is","getBaseline","origin","original","createPlaceholder","placeholder","cssPosition","css","position","marginTop","marginBottom","marginLeft","marginRight","test","nodeName","insertAfter","display","visibility","float","addClass","dataSpace","removePlaceholder","dataKey","remove","cleanUp","setTransition","list","factor","value","each","i","unit","cssUnit","fn","args","this","arguments","effectMethod","defaultMode","modes","call","next","el","normalizedMode","push","show","elem","done","shift","uiBackCompat","hide","toggle","key","val","indexOf","cssClip","clipObj","transfer","target","to","targetFixed","body","fixTop","scrollTop","fixLeft","scrollLeft","endPosition","offset","innerHeight","innerWidth","startPosition","appendTo","className","animate","easing","step","clipInit","start","end","pos","baseEasings","p","Math","pow","Sine","cos","PI","Circ","sqrt","Elastic","sin","Back","Bounce","pow2","bounce","easeIn","attach","map","up","vertical","down","horizontal","upAnim","downAnim","refValue","distance","times","anims","ref","motion","Deferred","funcs","doAnimate","properties","ease","d","resolve","promise","opacity","reduce","prev","curr","index","array","then","both","oppositeMotion","j","mx","my","rows","pieces","round","cells","ceil","childComplete","length","clone","wrap","parent","overflow","size","horizFirst","animation1","animation2","parseInt","backgroundColor","backgroundImage","color","baseline","temp","cProps","vProps","hProps","restore","scale","from","find","child","childOriginal","childFrom","childTo","newOptions","fade","showhide","animateTo","positiveMotion","animation0","startClip","startRef","main"],"mappings":"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","file":"../skylark-domx-effects.js","sourcesContent":["define('skylark-domx-effects/effects',[ \r\n\t\"skylark-langx/skylark\",\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-fx\",\r\n\t\"skylark-domx-query\"\r\n],function(skylark,langx,fx,$) {\r\n\r\n\tvar dataSpace = \"ui-effects-\",\r\n\t\tdataSpaceStyle = \"ui-effects-style\",\r\n\t\tdataSpaceAnimated = \"ui-effects-animated\",\r\n\t\tplugins = {};\r\n\r\n\r\n\tvar effects = skylark.effects = function() {\r\n\r\n\t};\r\n\r\n\r\n\r\n\tlangx.mixin(effects,{\r\n\t\tdefine: function( name, mode, effect ) {\r\n\t\t\tif ( !effect ) {\r\n\t\t\t\teffect = mode;\r\n\t\t\t\tmode = \"effect\";\r\n\t\t\t}\r\n\r\n\t\t\tplugins[ name ] = effect;\r\n\t\t\tplugins[ name ].mode = mode;\r\n\r\n\t\t\treturn effect;\r\n\t\t},\r\n\r\n\t\tscaledDimensions: function( element, percent, direction ) {\r\n\t\t\tif ( percent === 0 ) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\theight: 0,\r\n\t\t\t\t\twidth: 0,\r\n\t\t\t\t\touterHeight: 0,\r\n\t\t\t\t\touterWidth: 0\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tvar x = direction !== \"horizontal\" ? ( ( percent || 100 ) / 100 ) : 1,\r\n\t\t\t\ty = direction !== \"vertical\" ? ( ( percent || 100 ) / 100 ) : 1;\r\n\r\n\t\t\treturn {\r\n\t\t\t\theight: element.height() * y,\r\n\t\t\t\twidth: element.width() * x,\r\n\t\t\t\touterHeight: element.outerHeight() * y,\r\n\t\t\t\touterWidth: element.outerWidth() * x\r\n\t\t\t};\r\n\r\n\t\t},\r\n\r\n\t\tclipToBox: function( animation ) {\r\n\t\t\treturn {\r\n\t\t\t\twidth: animation.clip.right - animation.clip.left,\r\n\t\t\t\theight: animation.clip.bottom - animation.clip.top,\r\n\t\t\t\tleft: animation.clip.left,\r\n\t\t\t\ttop: animation.clip.top\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t// Injects recently queued functions to be first in line (after \"inprogress\")\r\n\t\tunshift: function( element, queueLength, count ) {\r\n\t\t\tvar queue = element.queue();\r\n\r\n\t\t\tif ( queueLength > 1 ) {\r\n\t\t\t\tqueue.splice.apply( queue,\r\n\t\t\t\t\t[ 1, 0 ].concat( queue.splice( queueLength, count ) ) );\r\n\t\t\t}\r\n\t\t\telement.dequeue();\r\n\t\t},\r\n\r\n\t\tsaveStyle: function( element ) {\r\n\t\t\telement.data( dataSpaceStyle, element[ 0 ].style.cssText );\r\n\t\t},\r\n\r\n\t\trestoreStyle: function( element ) {\r\n\t\t\telement[ 0 ].style.cssText = element.data( dataSpaceStyle ) || \"\";\r\n\t\t\telement.removeData( dataSpaceStyle );\r\n\t\t},\r\n\r\n\t\tmode: function( element, mode ) {\r\n\t\t\tvar hidden = element.is( \":hidden\" );\r\n\r\n\t\t\tif ( mode === \"toggle\" ) {\r\n\t\t\t\tmode = hidden ? \"show\" : \"hide\";\r\n\t\t\t}\r\n\t\t\tif ( hidden ? mode === \"hide\" : mode === \"show\" ) {\r\n\t\t\t\tmode = \"none\";\r\n\t\t\t}\r\n\t\t\treturn mode;\r\n\t\t},\r\n\r\n\t\t// Translates a [top,left] array into a baseline value\r\n\t\tgetBaseline: function( origin, original ) {\r\n\t\t\tvar y, x;\r\n\r\n\t\t\tswitch ( origin[ 0 ] ) {\r\n\t\t\tcase \"top\":\r\n\t\t\t\ty = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"middle\":\r\n\t\t\t\ty = 0.5;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"bottom\":\r\n\t\t\t\ty = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\ty = origin[ 0 ] / original.height;\r\n\t\t\t}\r\n\r\n\t\t\tswitch ( origin[ 1 ] ) {\r\n\t\t\tcase \"left\":\r\n\t\t\t\tx = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"center\":\r\n\t\t\t\tx = 0.5;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"right\":\r\n\t\t\t\tx = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tx = origin[ 1 ] / original.width;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tx: x,\r\n\t\t\t\ty: y\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t// Creates a placeholder element so that the original element can be made absolute\r\n\t\tcreatePlaceholder: function( element ) {\r\n\t\t\tvar placeholder,\r\n\t\t\t\tcssPosition = element.css( \"position\" ),\r\n\t\t\t\tposition = element.position();\r\n\r\n\t\t\t// Lock in margins first to account for form elements, which\r\n\t\t\t// will change margin if you explicitly set height\r\n\t\t\t// see: http://jsfiddle.net/JZSMt/3/ https://bugs.webkit.org/show_bug.cgi?id=107380\r\n\t\t\t// Support: Safari\r\n\t\t\telement.css( {\r\n\t\t\t\tmarginTop: element.css( \"marginTop\" ),\r\n\t\t\t\tmarginBottom: element.css( \"marginBottom\" ),\r\n\t\t\t\tmarginLeft: element.css( \"marginLeft\" ),\r\n\t\t\t\tmarginRight: element.css( \"marginRight\" )\r\n\t\t\t} )\r\n\t\t\t.outerWidth( element.outerWidth() )\r\n\t\t\t.outerHeight( element.outerHeight() );\r\n\r\n\t\t\tif ( /^(static|relative)/.test( cssPosition ) ) {\r\n\t\t\t\tcssPosition = \"absolute\";\r\n\r\n\t\t\t\tplaceholder = $( \"<\" + element[ 0 ].nodeName + \">\" ).insertAfter( element ).css( {\r\n\r\n\t\t\t\t\t// Convert inline to inline block to account for inline elements\r\n\t\t\t\t\t// that turn to inline block based on content (like img)\r\n\t\t\t\t\tdisplay: /^(inline|ruby)/.test( element.css( \"display\" ) ) ?\r\n\t\t\t\t\t\t\"inline-block\" :\r\n\t\t\t\t\t\t\"block\",\r\n\t\t\t\t\tvisibility: \"hidden\",\r\n\r\n\t\t\t\t\t// Margins need to be set to account for margin collapse\r\n\t\t\t\t\tmarginTop: element.css( \"marginTop\" ),\r\n\t\t\t\t\tmarginBottom: element.css( \"marginBottom\" ),\r\n\t\t\t\t\tmarginLeft: element.css( \"marginLeft\" ),\r\n\t\t\t\t\tmarginRight: element.css( \"marginRight\" ),\r\n\t\t\t\t\t\"float\": element.css( \"float\" )\r\n\t\t\t\t} )\r\n\t\t\t\t.outerWidth( element.outerWidth() )\r\n\t\t\t\t.outerHeight( element.outerHeight() )\r\n\t\t\t\t.addClass( \"ui-effects-placeholder\" );\r\n\r\n\t\t\t\telement.data( dataSpace + \"placeholder\", placeholder );\r\n\t\t\t}\r\n\r\n\t\t\telement.css( {\r\n\t\t\t\tposition: cssPosition,\r\n\t\t\t\tleft: position.left,\r\n\t\t\t\ttop: position.top\r\n\t\t\t} );\r\n\r\n\t\t\treturn placeholder;\r\n\t\t},\r\n\r\n\t\tremovePlaceholder: function( element ) {\r\n\t\t\tvar dataKey = dataSpace + \"placeholder\",\r\n\t\t\t\t\tplaceholder = element.data( dataKey );\r\n\r\n\t\t\tif ( placeholder ) {\r\n\t\t\t\tplaceholder.remove();\r\n\t\t\t\telement.removeData( dataKey );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Removes a placeholder if it exists and restores\r\n\t\t// properties that were modified during placeholder creation\r\n\t\tcleanUp: function( element ) {\r\n\t\t\teffects.restoreStyle( element );\r\n\t\t\teffects.removePlaceholder( element );\r\n\t\t},\r\n\r\n\t\tsetTransition: function( element, list, factor, value ) {\r\n\t\t\tvalue = value || {};\r\n\t\t\tlangx.each( list, function( i, x ) {\r\n\t\t\t\tvar unit = element.cssUnit( x );\r\n\t\t\t\tif ( unit[ 0 ] > 0 ) {\r\n\t\t\t\t\tvalue[ x ] = unit[ 0 ] * factor + unit[ 1 ];\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t\treturn value;\r\n\t\t}\r\n\t});\r\n\r\n\t// Return an effect options object for the given parameters:\r\n\tfunction _normalizeArguments( effect, options, speed, callback ) {\r\n\r\n\t\t// Allow passing all options as the first parameter\r\n\t\tif ( langx.isPlainObject( effect ) ) {\r\n\t\t\toptions = effect;\r\n\t\t\teffect = effect.effect;\r\n\t\t}\r\n\r\n\t\t// Convert to an object\r\n\t\teffect = { effect: effect };\r\n\r\n\t\t// Catch (effect, null, ...)\r\n\t\tif ( options == null ) {\r\n\t\t\toptions = {};\r\n\t\t}\r\n\r\n\t\t// Catch (effect, callback)\r\n\t\tif ( langx.isFunction( options ) ) {\r\n\t\t\tcallback = options;\r\n\t\t\tspeed = null;\r\n\t\t\toptions = {};\r\n\t\t}\r\n\r\n\t\t// Catch (effect, speed, ?)\r\n\t\tif ( typeof options === \"number\" || fx.speeds[ options ] ) {\r\n\t\t\tcallback = speed;\r\n\t\t\tspeed = options;\r\n\t\t\toptions = {};\r\n\t\t}\r\n\r\n\t\t// Catch (effect, options, callback)\r\n\t\tif ( langx.isFunction( speed ) ) {\r\n\t\t\tcallback = speed;\r\n\t\t\tspeed = null;\r\n\t\t}\r\n\r\n\t\t// Add options to effect\r\n\t\tif ( options ) {\r\n\t\t\tlangx.mixin( effect, options );\r\n\t\t}\r\n\r\n\t\tspeed = speed || options.duration;\r\n\t\teffect.duration = fx.off ? 0 :\r\n\t\t\ttypeof speed === \"number\" ? speed :\r\n\t\t\tspeed in $.fx.speeds ? fx.speeds[ speed ] :\r\n\t\t\tfx.speeds._default;\r\n\r\n\t\teffect.complete = callback || options.complete;\r\n\r\n\t\treturn effect;\r\n\t}\r\n\r\n\tfunction standardAnimationOption( option ) {\r\n\r\n\t\t// Valid standard speeds (nothing, number, named speed)\r\n\t\tif ( !option || typeof option === \"number\" || fx.speeds[ option ] ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Invalid strings - treat as \"normal\" speed\r\n\t\tif ( typeof option === \"string\" && !plugins[ option ] ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Complete callback\r\n\t\tif ( langx.isFunction( option ) ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Options hash (but not naming an effect)\r\n\t\tif ( typeof option === \"object\" && !option.effect ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Didn't match any standard API\r\n\t\treturn false;\r\n\t}\r\n\r\n\tlangx.mixin($.fn,{\r\n\t\teffect: function( /* effect, options, speed, callback */ ) {\r\n\t\t\tvar args = _normalizeArguments.apply( this, arguments ),\r\n\t\t\t\teffectMethod = plugins[ args.effect ],\r\n\t\t\t\tdefaultMode = effectMethod.mode,\r\n\t\t\t\tqueue = args.queue,\r\n\t\t\t\tqueueName = queue || \"fx\",\r\n\t\t\t\tcomplete = args.complete,\r\n\t\t\t\tmode = args.mode,\r\n\t\t\t\tmodes = [],\r\n\t\t\t\tprefilter = function( next ) {\r\n\t\t\t\t\tvar el = $( this ),\r\n\t\t\t\t\t\tnormalizedMode = effects.mode( el, mode ) || defaultMode;\r\n\r\n\t\t\t\t\t// Sentinel for duck-punching the :animated pseudo-selector\r\n\t\t\t\t\tel.data( dataSpaceAnimated, true );\r\n\r\n\t\t\t\t\t// Save effect mode for later use,\r\n\t\t\t\t\t// we can't just call effects.mode again later,\r\n\t\t\t\t\t// as the .show() below destroys the initial state\r\n\t\t\t\t\tmodes.push( normalizedMode );\r\n\r\n\t\t\t\t\t// See $.uiBackCompat inside of run() for removal of defaultMode in 1.13\r\n\t\t\t\t\tif ( defaultMode && ( normalizedMode === \"show\" ||\r\n\t\t\t\t\t\t\t( normalizedMode === defaultMode && normalizedMode === \"hide\" ) ) ) {\r\n\t\t\t\t\t\tel.show();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( !defaultMode || normalizedMode !== \"none\" ) {\r\n\t\t\t\t\t\teffects.saveStyle( el );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( langx.isFunction( next ) ) {\r\n\t\t\t\t\t\tnext();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\tif ( fx.off || !effectMethod ) {\r\n\r\n\t\t\t\t// Delegate to the original method (e.g., .show()) if possible\r\n\t\t\t\tif ( mode ) {\r\n\t\t\t\t\treturn this[ mode ]( args.duration, complete );\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.each( function() {\r\n\t\t\t\t\t\tif ( complete ) {\r\n\t\t\t\t\t\t\tcomplete.call( this );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction run( next ) {\r\n\t\t\t\tvar elem = $( this );\r\n\r\n\t\t\t\tfunction cleanup() {\r\n\t\t\t\t\telem.removeData( dataSpaceAnimated );\r\n\r\n\t\t\t\t\teffects.cleanUp( elem );\r\n\r\n\t\t\t\t\tif ( args.mode === \"hide\" ) {\r\n\t\t\t\t\t\telem.hide();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdone();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction done() {\r\n\t\t\t\t\tif ( langx.isFunction( complete ) ) {\r\n\t\t\t\t\t\tcomplete.call( elem[ 0 ] );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( langx.isFunction( next ) ) {\r\n\t\t\t\t\t\tnext();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Override mode option on a per element basis,\r\n\t\t\t\t// as toggle can be either show or hide depending on element state\r\n\t\t\t\targs.mode = modes.shift();\r\n\r\n\t\t\t\tif ( $.uiBackCompat !== false && !defaultMode ) {\r\n\t\t\t\t\tif ( elem.is( \":hidden\" ) ? mode === \"hide\" : mode === \"show\" ) {\r\n\r\n\t\t\t\t\t\t// Call the core method to track \"olddisplay\" properly\r\n\t\t\t\t\t\telem[ mode ]();\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\teffectMethod.call( elem[ 0 ], args, done );\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif ( args.mode === \"none\" ) {\r\n\r\n\t\t\t\t\t\t// Call the core method to track \"olddisplay\" properly\r\n\t\t\t\t\t\telem[ mode ]();\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\teffectMethod.call( elem[ 0 ], args, cleanup );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Run prefilter on all elements first to ensure that\r\n\t\t\t// any showing or hiding happens before placeholder creation,\r\n\t\t\t// which ensures that any layout changes are correctly captured.\r\n\t\t\t//return queue === false ?\r\n\t\t\t//\tthis.each( prefilter ).each( run ) :\r\n\t\t\t//\tthis.queue( queueName, prefilter ).queue( queueName, run );\r\n\r\n\t\t\treturn this.each( prefilter ).each( run );\t\r\n\t\t},\r\n\r\n\t\tshow: ( function( orig ) {\r\n\t\t\treturn function( option ) {\r\n\t\t\t\tif ( standardAnimationOption( option ) ) {\r\n\t\t\t\t\treturn orig.apply( this, arguments );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar args = _normalizeArguments.apply( this, arguments );\r\n\t\t\t\t\targs.mode = \"show\";\r\n\t\t\t\t\treturn this.effect.call( this, args );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t} )( $.fn.show ),\r\n\r\n\t\thide: ( function( orig ) {\r\n\t\t\treturn function( option ) {\r\n\t\t\t\tif ( standardAnimationOption( option ) ) {\r\n\t\t\t\t\treturn orig.apply( this, arguments );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar args = _normalizeArguments.apply( this, arguments );\r\n\t\t\t\t\targs.mode = \"hide\";\r\n\t\t\t\t\treturn this.effect.call( this, args );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t} )( $.fn.hide ),\r\n\r\n\t\ttoggle: ( function( orig ) {\r\n\t\t\treturn function( option ) {\r\n\t\t\t\tif ( standardAnimationOption( option ) || typeof option === \"boolean\" ) {\r\n\t\t\t\t\treturn orig.apply( this, arguments );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar args = _normalizeArguments.apply( this, arguments );\r\n\t\t\t\t\targs.mode = \"toggle\";\r\n\t\t\t\t\treturn this.effect.call( this, args );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t} )( $.fn.toggle ),\r\n\r\n\t\tcssUnit: function( key ) {\r\n\t\t\tvar style = this.css( key ),\r\n\t\t\t\tval = [];\r\n\r\n\t\t\tlangx.each( [ \"em\", \"px\", \"%\", \"pt\" ], function( i, unit ) {\r\n\t\t\t\tif ( style.indexOf( unit ) > 0 ) {\r\n\t\t\t\t\tval = [ parseFloat( style ), unit ];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\r\n\t\t\treturn val;\r\n\t\t},\r\n\r\n\t\tcssClip: function( clipObj ) {\r\n\t\t\tif ( clipObj ) {\r\n\t\t\t\treturn this.css( \"clip\", \"rect(\" + clipObj.top + \"px \" + clipObj.right + \"px \" +\r\n\t\t\t\t\tclipObj.bottom + \"px \" + clipObj.left + \"px)\" );\r\n\t\t\t}\r\n\t\t\treturn parseClip( this.css( \"clip\" ), this );\r\n\t\t},\r\n\r\n\t\ttransfer: function( options, done ) {\r\n\t\t\tvar element = $( this ),\r\n\t\t\t\ttarget = $( options.to ),\r\n\t\t\t\ttargetFixed = target.css( \"position\" ) === \"fixed\",\r\n\t\t\t\tbody = $( \"body\" ),\r\n\t\t\t\tfixTop = targetFixed ? body.scrollTop() : 0,\r\n\t\t\t\tfixLeft = targetFixed ? body.scrollLeft() : 0,\r\n\t\t\t\tendPosition = target.offset(),\r\n\t\t\t\tanimation = {\r\n\t\t\t\t\ttop: endPosition.top - fixTop,\r\n\t\t\t\t\tleft: endPosition.left - fixLeft,\r\n\t\t\t\t\theight: target.innerHeight(),\r\n\t\t\t\t\twidth: target.innerWidth()\r\n\t\t\t\t},\r\n\t\t\t\tstartPosition = element.offset(),\r\n\t\t\t\ttransfer = $( \"<div class='ui-effects-transfer'></div>\" )\r\n\t\t\t\t\t.appendTo( \"body\" )\r\n\t\t\t\t\t.addClass( options.className )\r\n\t\t\t\t\t.css( {\r\n\t\t\t\t\t\ttop: startPosition.top - fixTop,\r\n\t\t\t\t\t\tleft: startPosition.left - fixLeft,\r\n\t\t\t\t\t\theight: element.innerHeight(),\r\n\t\t\t\t\t\twidth: element.innerWidth(),\r\n\t\t\t\t\t\tposition: targetFixed ? \"fixed\" : \"absolute\"\r\n\t\t\t\t\t} )\r\n\t\t\t\t\t.animate( animation, options.duration, options.easing, function() {\r\n\t\t\t\t\t\ttransfer.remove();\r\n\t\t\t\t\t\tif ( langx.isFunction( done ) ) {\r\n\t\t\t\t\t\t\tdone();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\t\t}\r\n\t});\r\n\r\n\tfunction parseClip( str, element ) {\r\n\t\t\tvar outerWidth = element.outerWidth(),\r\n\t\t\t\touterHeight = element.outerHeight(),\r\n\t\t\t\tclipRegex = /^rect\\((-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto)\\)$/,\r\n\t\t\t\tvalues = clipRegex.exec( str ) || [ \"\", 0, outerWidth, outerHeight, 0 ];\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttop: parseFloat( values[ 1 ] ) || 0,\r\n\t\t\t\tright: values[ 2 ] === \"auto\" ? outerWidth : parseFloat( values[ 2 ] ),\r\n\t\t\t\tbottom: values[ 3 ] === \"auto\" ? outerHeight : parseFloat( values[ 3 ] ),\r\n\t\t\t\tleft: parseFloat( values[ 4 ] ) || 0\r\n\t\t\t};\r\n\t}\r\n\r\n\tfx.step = fx.step || {};\r\n\r\n\tfx.step.clip = function( fx ) {\r\n\t\tif ( !fx.clipInit ) {\r\n\t\t\tfx.start = $( fx.elem ).cssClip();\r\n\t\t\tif ( typeof fx.end === \"string\" ) {\r\n\t\t\t\tfx.end = parseClip( fx.end, fx.elem );\r\n\t\t\t}\r\n\t\t\tfx.clipInit = true;\r\n\t\t}\r\n\r\n\t\t$( fx.elem ).cssClip( {\r\n\t\t\ttop: fx.pos * ( fx.end.top - fx.start.top ) + fx.start.top,\r\n\t\t\tright: fx.pos * ( fx.end.right - fx.start.right ) + fx.start.right,\r\n\t\t\tbottom: fx.pos * ( fx.end.bottom - fx.start.bottom ) + fx.start.bottom,\r\n\t\t\tleft: fx.pos * ( fx.end.left - fx.start.left ) + fx.start.left\r\n\t\t} );\r\n\t};\r\n\r\n\r\n\t/******************************************************************************/\r\n\t/*********************************** EASING ***********************************/\r\n\t/******************************************************************************/\r\n\r\n\t// Based on easing equations from Robert Penner (http://www.robertpenner.com/easing)\r\n\r\n\tvar baseEasings = {};\r\n\r\n\tlangx.each( [ \"Quad\", \"Cubic\", \"Quart\", \"Quint\", \"Expo\" ], function( i, name ) {\r\n\t\tbaseEasings[ name ] = function( p ) {\r\n\t\t\treturn Math.pow( p, i + 2 );\r\n\t\t};\r\n\t} );\r\n\r\n\tlangx.mixin( baseEasings, {\r\n\t\tSine: function( p ) {\r\n\t\t\treturn 1 - Math.cos( p * Math.PI / 2 );\r\n\t\t},\r\n\t\tCirc: function( p ) {\r\n\t\t\treturn 1 - Math.sqrt( 1 - p * p );\r\n\t\t},\r\n\t\tElastic: function( p ) {\r\n\t\t\treturn p === 0 || p === 1 ? p :\r\n\t\t\t\t-Math.pow( 2, 8 * ( p - 1 ) ) * Math.sin( ( ( p - 1 ) * 80 - 7.5 ) * Math.PI / 15 );\r\n\t\t},\r\n\t\tBack: function( p ) {\r\n\t\t\treturn p * p * ( 3 * p - 2 );\r\n\t\t},\r\n\t\tBounce: function( p ) {\r\n\t\t\tvar pow2,\r\n\t\t\t\tbounce = 4;\r\n\r\n\t\t\twhile ( p < ( ( pow2 = Math.pow( 2, --bounce ) ) - 1 ) / 11 ) {}\r\n\t\t\treturn 1 / Math.pow( 4, 3 - bounce ) - 7.5625 * Math.pow( ( pow2 * 3 - 2 ) / 22 - p, 2 );\r\n\t\t}\r\n\t} );\r\n\r\n\tfx.easing = fx.easing || {};\r\n\r\n\tlangx.each( baseEasings, function( name, easeIn ) {\r\n\t\tfx.easing[ \"easeIn\" + name ] = easeIn;\r\n\t\tfx.easing[ \"easeOut\" + name ] = function( p ) {\r\n\t\t\treturn 1 - easeIn( 1 - p );\r\n\t\t};\r\n\t\tfx.easing[ \"easeInOut\" + name ] = function( p ) {\r\n\t\t\treturn p < 0.5 ?\r\n\t\t\t\teaseIn( p * 2 ) / 2 :\r\n\t\t\t\t1 - easeIn( p * -2 + 2 ) / 2;\r\n\t\t};\r\n\t} );\r\n\r\n\r\n\treturn skylark.attach(\"domx.effects\", effects);\r\n\r\n});\r\n\ndefine( 'skylark-domx-effects/plugins/blind',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-query\",\r\n\t\"../effects\"\r\n], function(langx,$,effects) {\r\nreturn effects.define( \"blind\", \"hide\", function( options, done ) {\r\n\tvar map = {\r\n\t\t\tup: [ \"bottom\", \"top\" ],\r\n\t\t\tvertical: [ \"bottom\", \"top\" ],\r\n\t\t\tdown: [ \"top\", \"bottom\" ],\r\n\t\t\tleft: [ \"right\", \"left\" ],\r\n\t\t\thorizontal: [ \"right\", \"left\" ],\r\n\t\t\tright: [ \"left\", \"right\" ]\r\n\t\t},\r\n\t\telement = $( this ),\r\n\t\tdirection = options.direction || \"up\",\r\n\t\tstart = element.cssClip(),\r\n\t\tanimate = { clip: langx.mixin( {}, start ) },\r\n\t\tplaceholder = effects.createPlaceholder( element );\r\n\r\n\tanimate.clip[ map[ direction ][ 0 ] ] = animate.clip[ map[ direction ][ 1 ] ];\r\n\r\n\tif ( options.mode === \"show\" ) {\r\n\t\telement.cssClip( animate.clip );\r\n\t\tif ( placeholder ) {\r\n\t\t\tplaceholder.css( effects.clipToBox( animate ) );\r\n\t\t}\r\n\r\n\t\tanimate.clip = start;\r\n\t}\r\n\r\n\tif ( placeholder ) {\r\n\t\tplaceholder.animate( effects.clipToBox( animate ), options.duration, options.easing );\r\n\t}\r\n\r\n\telement.animate( animate, {\r\n\t\tqueue: false,\r\n\t\tduration: options.duration,\r\n\t\teasing: options.easing,\r\n\t\tcomplete: done\r\n\t} );\r\n} );\r\n\r\n});\r\n\ndefine( 'skylark-domx-effects/plugins/bounce',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-query\",\r\n\t\"../effects\"\r\n], function(langx,$,effects) {\r\nreturn effects.define( \"bounce\", function( options, done ) {\r\n\tvar upAnim, downAnim, refValue,\r\n\t\telement = $( this ),\r\n\r\n\t\t// Defaults:\r\n\t\tmode = options.mode,\r\n\t\thide = mode === \"hide\",\r\n\t\tshow = mode === \"show\",\r\n\t\tdirection = options.direction || \"up\",\r\n\t\tstart,\r\n\t\tdistance = options.distance,\r\n\t\ttimes = options.times || 5,\r\n\r\n\t\t// Number of internal animations\r\n\t\tanims = times * 2 + ( show || hide ? 1 : 0 ),\r\n\t\tspeed = options.duration / anims,\r\n\t\teasing = options.easing,\r\n\r\n\t\t// Utility:\r\n\t\tref = ( direction === \"up\" || direction === \"down\" ) ? \"top\" : \"left\",\r\n\t\tmotion = ( direction === \"up\" || direction === \"left\" ),\r\n\t\ti = 0;\r\n\r\n\teffects.createPlaceholder( element );\r\n\r\n\tvar Deferred = langx.Deferred;\r\n\tvar funcs = [];\r\n\r\n\trefValue = element.css( ref );\r\n\r\n\t// Default distance for the BIGGEST bounce is the outer Distance / 3\r\n\tif ( !distance ) {\r\n\t\tdistance = element[ ref === \"top\" ? \"outerHeight\" : \"outerWidth\" ]() / 3;\r\n\t}\r\n\tstart = element.position()[ref];\r\n\r\n\tif ( show ) {\r\n\t\tdownAnim = { opacity: 1 };\r\n\t\tdownAnim[ ref ] = refValue;\r\n\r\n\t\t// If we are showing, force opacity 0 and set the initial position\r\n\t\t// then do the \"first\" animation\r\n\t\telement\r\n\t\t\t.css( \"opacity\", 0 )\r\n\t\t\t.css( ref, start + (motion ? -distance * 2 : distance * 2 ));\r\n\r\n\t\tfuncs.push(doAnimate(element,downAnim, speed, easing));\r\n\t}\r\n\r\n\t// Start at the smallest distance if we are hiding\r\n\tif ( hide ) {\r\n\t\tdistance = distance / Math.pow( 2, times - 1 );\r\n\t}\r\n\r\n\tdownAnim = {};\r\n\tdownAnim[ ref ] = refValue;\r\n\r\n\r\n\tfunction doAnimate(element,properties, duration, ease) {\r\n\t\treturn function() {\r\n\t\t\tvar d = new Deferred();\r\n\r\n\t\t\telement.animate( properties, duration, easing ,function(){\r\n\t\t\t\td.resolve();\r\n\t\t\t});\r\n\t\t\treturn d.promise;\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t// Bounces up/down/left/right then back to 0 -- times * 2 animations happen here\r\n\tfor ( ; i < times; i++ ) {\r\n\t\tupAnim = {};\r\n\t\tupAnim[ ref ] = start + ( motion ? -distance : distance) ;\r\n\r\n\t\tfuncs.push(doAnimate(element,upAnim, speed, easing));\r\n\r\n\t\tfuncs.push(doAnimate(element,downAnim, speed, easing));\r\n\r\n\t\tdistance = hide ? distance * 2 : distance / 2;\r\n\t}\r\n\r\n\t// Last Bounce when Hiding\r\n\tif ( hide ) {\r\n\t\tupAnim = { opacity: 0 };\r\n\t\tupAnim[ ref ] = start + ( motion ? -1 * distance : distance) ;\r\n\r\n\t\tfuncs.push(doAnimate(element,upAnim, speed, easing ));\r\n\t}\r\n\r\n\tfuncs.push(done);\r\n\tfuncs.reduce(function(prev, curr, index, array) {\r\n  \t\treturn prev.then(curr);\r\n\t}, Deferred.resolve());\r\n\r\n} );\r\n\r\n});\r\n\ndefine( 'skylark-domx-effects/plugins/clip',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-query\",\r\n\t\"../effects\"\r\n], function(langx,$,effects) {\r\nreturn effects.define( \"clip\", \"hide\", function( options, done ) {\r\n\tvar start,\r\n\t\tanimate = {},\r\n\t\telement = $( this ),\r\n\t\tdirection = options.direction || \"vertical\",\r\n\t\tboth = direction === \"both\",\r\n\t\thorizontal = both || direction === \"horizontal\",\r\n\t\tvertical = both || direction === \"vertical\";\r\n\r\n\tstart = element.cssClip();\r\n\tanimate.clip = {\r\n\t\ttop: vertical ? ( start.bottom - start.top ) / 2 : start.top,\r\n\t\tright: horizontal ? ( start.right - start.left ) / 2 : start.right,\r\n\t\tbottom: vertical ? ( start.bottom - start.top ) / 2 : start.bottom,\r\n\t\tleft: horizontal ? ( start.right - start.left ) / 2 : start.left\r\n\t};\r\n\r\n\teffects.createPlaceholder( element );\r\n\r\n\tif ( options.mode === \"show\" ) {\r\n\t\telement.cssClip( animate.clip );\r\n\t\tanimate.clip = start;\r\n\t}\r\n\r\n\telement.animate( animate, {\r\n\t\tqueue: false,\r\n\t\tduration: options.duration,\r\n\t\teasing: options.easing,\r\n\t\tcomplete: done\r\n\t} );\r\n\r\n} );\r\n\r\n});\r\n\ndefine( 'skylark-domx-effects/plugins/drop',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-query\",\r\n\t\"../effects\"\r\n], function(langx,$,effects) {\r\nreturn effects.define( \"drop\", \"hide\", function( options, done ) {\r\n\r\n\tvar distance,\r\n\t\telement = $( this ),\r\n\t\tmode = options.mode,\r\n\t\tshow = mode === \"show\",\r\n\t\tdirection = options.direction || \"left\",\r\n\t\tref = ( direction === \"up\" || direction === \"down\" ) ? \"top\" : \"left\",\r\n\t\tmotion = ( direction === \"up\" || direction === \"left\" ) ? -1 : 1,\r\n\t\toppositeMotion =  motion * -1,\r\n\t\tanimation = {\r\n\t\t\topacity: 0\r\n\t\t},\r\n\t\tstart = element.position()[ref];\r\n\r\n\teffects.createPlaceholder( element );\r\n\r\n\tdistance = options.distance ||\r\n\t\telement[ ref === \"top\" ? \"outerHeight\" : \"outerWidth\" ]( true ) / 2;\r\n\r\n\tanimation[ ref ] = start + motion * distance;\r\n\r\n\tif ( show ) {\r\n\t\telement.css( animation );\r\n\r\n\t\tanimation[ ref ] = start + oppositeMotion * distance;\r\n\t\tanimation.opacity = 1;\r\n\t}\r\n\r\n\t// Animate\r\n\telement.animate( animation, {\r\n\t\tqueue: false,\r\n\t\tduration: options.duration,\r\n\t\teasing: options.easing,\r\n\t\tcomplete: done\r\n\t} );\r\n} );\r\n\r\n});\r\n\ndefine( 'skylark-domx-effects/plugins/explode',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-query\",\r\n\t\"../effects\"\r\n], function(langx,$,effects) {\r\nreturn effects.define( \"explode\", \"hide\", function( options, done ) {\r\n\r\n\tvar i, j, left, top, mx, my,\r\n\t\trows = options.pieces ? Math.round( Math.sqrt( options.pieces ) ) : 3,\r\n\t\tcells = rows,\r\n\t\telement = $( this ),\r\n\t\tmode = options.mode,\r\n\t\tshow = mode === \"show\",\r\n\r\n\t\t// Show and then visibility:hidden the element before calculating offset\r\n\t\toffset = element.show().css( \"visibility\", \"hidden\" ).offset(),\r\n\r\n\t\t// Width and height of a piece\r\n\t\twidth = Math.ceil( element.outerWidth() / cells ),\r\n\t\theight = Math.ceil( element.outerHeight() / rows ),\r\n\t\tpieces = [];\r\n\r\n\t// Children animate complete:\r\n\tfunction childComplete() {\r\n\t\tpieces.push( this );\r\n\t\tif ( pieces.length === rows * cells ) {\r\n\t\t\tanimComplete();\r\n\t\t}\r\n\t}\r\n\r\n\t// Clone the element for each row and cell.\r\n\tfor ( i = 0; i < rows; i++ ) { // ===>\r\n\t\ttop = offset.top + i * height;\r\n\t\tmy = i - ( rows - 1 ) / 2;\r\n\r\n\t\tfor ( j = 0; j < cells; j++ ) { // |||\r\n\t\t\tleft = offset.left + j * width;\r\n\t\t\tmx = j - ( cells - 1 ) / 2;\r\n\r\n\t\t\t// Create a clone of the now hidden main element that will be absolute positioned\r\n\t\t\t// within a wrapper div off the -left and -top equal to size of our pieces\r\n\t\t\telement\r\n\t\t\t\t.clone()\r\n\t\t\t\t.appendTo( \"body\" )\r\n\t\t\t\t.wrap( \"<div></div>\" )\r\n\t\t\t\t.css( {\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tvisibility: \"visible\",\r\n\t\t\t\t\tleft: -j * width,\r\n\t\t\t\t\ttop: -i * height\r\n\t\t\t\t} )\r\n\r\n\t\t\t\t// Select the wrapper - make it overflow: hidden and absolute positioned based on\r\n\t\t\t\t// where the original was located +left and +top equal to the size of pieces\r\n\t\t\t\t.parent()\r\n\t\t\t\t\t.addClass( \"ui-effects-explode\" )\r\n\t\t\t\t\t.css( {\r\n\t\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\t\toverflow: \"hidden\",\r\n\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\tleft: left + ( show ? mx * width : 0 ),\r\n\t\t\t\t\t\ttop: top + ( show ? my * height : 0 ),\r\n\t\t\t\t\t\topacity: show ? 0 : 1\r\n\t\t\t\t\t} )\r\n\t\t\t\t\t.animate( {\r\n\t\t\t\t\t\tleft: left + ( show ? 0 : mx * width ),\r\n\t\t\t\t\t\ttop: top + ( show ? 0 : my * height ),\r\n\t\t\t\t\t\topacity: show ? 1 : 0\r\n\t\t\t\t\t}, options.duration || 500, options.easing, childComplete );\r\n\t\t}\r\n\t}\r\n\r\n\tfunction animComplete() {\r\n\t\telement.css( {\r\n\t\t\tvisibility: \"visible\"\r\n\t\t} );\r\n\t\t$( pieces ).remove();\r\n\t\tdone();\r\n\t}\r\n} );\r\n\r\n});\r\n\ndefine( 'skylark-domx-effects/plugins/fade',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-query\",\r\n\t\"../effects\"\r\n], function(langx,$,effects) {\r\n\treturn effects.define( \"fade\", \"toggle\", function( options, done ) {\r\n\t\tvar show = options.mode === \"show\";\r\n\r\n\t\t$( this )\r\n\t\t\t.css( \"opacity\", show ? 0 : 1 )\r\n\t\t\t.animate( {\r\n\t\t\t\topacity: show ? 1 : 0\r\n\t\t\t}, {\r\n\t\t\t\tqueue: false,\r\n\t\t\t\tduration: options.duration,\r\n\t\t\t\teasing: options.easing,\r\n\t\t\t\tcomplete: done\r\n\t\t\t} );\r\n\t});\r\n\r\n});\r\n\ndefine( 'skylark-domx-effects/plugins/fold',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-query\",\r\n\t\"../effects\"\r\n], function(langx,$,effects) {\r\nreturn effects.define( \"fold\", \"hide\", function( options, done ) {\r\n\r\n\t// Create element\r\n\tvar element = $( this ),\r\n\t\tmode = options.mode,\r\n\t\tshow = mode === \"show\",\r\n\t\thide = mode === \"hide\",\r\n\t\tsize = options.size || 15,\r\n\t\tpercent = /([0-9]+)%/.exec( size ),\r\n\t\thorizFirst = !!options.horizFirst,\r\n\t\tref = horizFirst ? [ \"right\", \"bottom\" ] : [ \"bottom\", \"right\" ],\r\n\t\tduration = options.duration / 2,\r\n\r\n\t\tplaceholder = effects.createPlaceholder( element ),\r\n\r\n\t\tstart = element.cssClip(),\r\n\t\tanimation1 = { clip: langx.mixin( {}, start ) },\r\n\t\tanimation2 = { clip: langx.mixin( {}, start ) },\r\n\r\n\t\tdistance = [ start[ ref[ 0 ] ], start[ ref[ 1 ] ] ];\r\n\r\n\r\n\tif ( percent ) {\r\n\t\tsize = parseInt( percent[ 1 ], 10 ) / 100 * distance[ hide ? 0 : 1 ];\r\n\t}\r\n\tanimation1.clip[ ref[ 0 ] ] = size;\r\n\tanimation2.clip[ ref[ 0 ] ] = size;\r\n\tanimation2.clip[ ref[ 1 ] ] = 0;\r\n\r\n\tif ( show ) {\r\n\t\telement.cssClip( animation2.clip );\r\n\t\tif ( placeholder ) {\r\n\t\t\tplaceholder.css( effects.clipToBox( animation2 ) );\r\n\t\t}\r\n\r\n\t\tanimation2.clip = start;\r\n\t}\r\n\r\n\t// Animate\r\n\tvar Deferred = langx.Deferred;\r\n\tvar funcs = [];\r\n\r\n\tfunction doAnimate(element,properties, duration, ease) {\r\n\t\treturn function() {\r\n\t\t\tvar d = new Deferred();\r\n\r\n\t\t\telement.animate( properties, duration, ease ,function(){\r\n\t\t\t\td.resolve();\r\n\t\t\t});\r\n\t\t\treturn d.promise;\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tif ( placeholder ) {\r\n\t\tfuncs.push(doAnimate(placeholder,effects.clipToBox( animation1 ), duration, options.easing ));\r\n\t\tfuncs.push(doAnimate(placeholder,effects.clipToBox( animation2 ), duration, options.easing ));\r\n\t}\r\n\r\n\tfuncs.push(doAnimate(element,animation1, duration, options.easing ));\r\n\tfuncs.push(doAnimate(element,animation2, duration, options.easing ));\r\n\r\n\tfuncs.push(done);\r\n\tfuncs.reduce(function(prev, curr, index, array) {\r\n  \t\treturn prev.then(curr);\r\n\t}, Deferred.resolve());\r\n\t\r\n} );\r\n\r\n});\r\n\ndefine( 'skylark-domx-effects/plugins/highlight',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-query\",\r\n\t\"../effects\"\r\n], function(langx,$,effects) {\r\nreturn effects.define( \"highlight\", \"show\", function( options, done ) {\r\n\tvar element = $( this ),\r\n\t\tanimation = {\r\n\t\t\tbackgroundColor: element.css( \"backgroundColor\" )\r\n\t\t};\r\n\r\n\tif ( options.mode === \"hide\" ) {\r\n\t\tanimation.opacity = 0;\r\n\t}\r\n\r\n\teffects.saveStyle( element );\r\n\r\n\telement\r\n\t\t.css( {\r\n\t\t\tbackgroundImage: \"none\",\r\n\t\t\tbackgroundColor: options.color || \"#ffff99\"\r\n\t\t} )\r\n\t\t.animate( animation, {\r\n\t\t\tqueue: false,\r\n\t\t\tduration: options.duration,\r\n\t\t\teasing: options.easing,\r\n\t\t\tcomplete: done\r\n\t\t} );\r\n} );\r\n\r\n});\r\n\ndefine( 'skylark-domx-effects/plugins/size',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-query\",\r\n\t\"../effects\"\r\n], function(langx,$,effects) {\r\nreturn effects.define( \"size\", function( options, done ) {\r\n\r\n\t// Create element\r\n\tvar baseline, factor, temp,\r\n\t\telement = $( this ),\r\n\r\n\t\t// Copy for children\r\n\t\tcProps = [ \"fontSize\" ],\r\n\t\tvProps = [ \"borderTopWidth\", \"borderBottomWidth\", \"paddingTop\", \"paddingBottom\" ],\r\n\t\thProps = [ \"borderLeftWidth\", \"borderRightWidth\", \"paddingLeft\", \"paddingRight\" ],\r\n\r\n\t\t// Set options\r\n\t\tmode = options.mode,\r\n\t\trestore = mode !== \"effect\",\r\n\t\tscale = options.scale || \"both\",\r\n\t\torigin = options.origin || [ \"middle\", \"center\" ],\r\n\t\tposition = element.css( \"position\" ),\r\n\t\tpos = element.position(),\r\n\t\toriginal = effects.scaledDimensions( element ),\r\n\t\tfrom = options.from || original,\r\n\t\tto = options.to || effects.scaledDimensions( element, 0 );\r\n\r\n\teffects.createPlaceholder( element );\r\n\r\n\tif ( mode === \"show\" ) {\r\n\t\ttemp = from;\r\n\t\tfrom = to;\r\n\t\tto = temp;\r\n\t}\r\n\r\n\t// Set scaling factor\r\n\tfactor = {\r\n\t\tfrom: {\r\n\t\t\ty: from.height / original.height,\r\n\t\t\tx: from.width / original.width\r\n\t\t},\r\n\t\tto: {\r\n\t\t\ty: to.height / original.height,\r\n\t\t\tx: to.width / original.width\r\n\t\t}\r\n\t};\r\n\r\n\t// Scale the css box\r\n\tif ( scale === \"box\" || scale === \"both\" ) {\r\n\r\n\t\t// Vertical props scaling\r\n\t\tif ( factor.from.y !== factor.to.y ) {\r\n\t\t\tfrom = effects.setTransition( element, vProps, factor.from.y, from );\r\n\t\t\tto = effects.setTransition( element, vProps, factor.to.y, to );\r\n\t\t}\r\n\r\n\t\t// Horizontal props scaling\r\n\t\tif ( factor.from.x !== factor.to.x ) {\r\n\t\t\tfrom = effects.setTransition( element, hProps, factor.from.x, from );\r\n\t\t\tto = effects.setTransition( element, hProps, factor.to.x, to );\r\n\t\t}\r\n\t}\r\n\r\n\t// Scale the content\r\n\tif ( scale === \"content\" || scale === \"both\" ) {\r\n\r\n\t\t// Vertical props scaling\r\n\t\tif ( factor.from.y !== factor.to.y ) {\r\n\t\t\tfrom = effects.setTransition( element, cProps, factor.from.y, from );\r\n\t\t\tto = effects.setTransition( element, cProps, factor.to.y, to );\r\n\t\t}\r\n\t}\r\n\r\n\t// Adjust the position properties based on the provided origin points\r\n\tif ( origin ) {\r\n\t\tbaseline = effects.getBaseline( origin, original );\r\n\t\tfrom.top = ( original.outerHeight - from.outerHeight ) * baseline.y + pos.top;\r\n\t\tfrom.left = ( original.outerWidth - from.outerWidth ) * baseline.x + pos.left;\r\n\t\tto.top = ( original.outerHeight - to.outerHeight ) * baseline.y + pos.top;\r\n\t\tto.left = ( original.outerWidth - to.outerWidth ) * baseline.x + pos.left;\r\n\t}\r\n\telement.css( from );\r\n\r\n\t// Animate the children if desired\r\n\tif ( scale === \"content\" || scale === \"both\" ) {\r\n\r\n\t\tvProps = vProps.concat( [ \"marginTop\", \"marginBottom\" ] ).concat( cProps );\r\n\t\thProps = hProps.concat( [ \"marginLeft\", \"marginRight\" ] );\r\n\r\n\t\t// Only animate children with width attributes specified\r\n\t\t// TODO: is this right? should we include anything with css width specified as well\r\n\t\telement.find( \"*[width]\" ).each( function() {\r\n\t\t\tvar child = $( this ),\r\n\t\t\t\tchildOriginal = effects.scaledDimensions( child ),\r\n\t\t\t\tchildFrom = {\r\n\t\t\t\t\theight: childOriginal.height * factor.from.y,\r\n\t\t\t\t\twidth: childOriginal.width * factor.from.x,\r\n\t\t\t\t\touterHeight: childOriginal.outerHeight * factor.from.y,\r\n\t\t\t\t\touterWidth: childOriginal.outerWidth * factor.from.x\r\n\t\t\t\t},\r\n\t\t\t\tchildTo = {\r\n\t\t\t\t\theight: childOriginal.height * factor.to.y,\r\n\t\t\t\t\twidth: childOriginal.width * factor.to.x,\r\n\t\t\t\t\touterHeight: childOriginal.height * factor.to.y,\r\n\t\t\t\t\touterWidth: childOriginal.width * factor.to.x\r\n\t\t\t\t};\r\n\r\n\t\t\t// Vertical props scaling\r\n\t\t\tif ( factor.from.y !== factor.to.y ) {\r\n\t\t\t\tchildFrom = effects.setTransition( child, vProps, factor.from.y, childFrom );\r\n\t\t\t\tchildTo = effects.setTransition( child, vProps, factor.to.y, childTo );\r\n\t\t\t}\r\n\r\n\t\t\t// Horizontal props scaling\r\n\t\t\tif ( factor.from.x !== factor.to.x ) {\r\n\t\t\t\tchildFrom = effects.setTransition( child, hProps, factor.from.x, childFrom );\r\n\t\t\t\tchildTo = effects.setTransition( child, hProps, factor.to.x, childTo );\r\n\t\t\t}\r\n\r\n\t\t\tif ( restore ) {\r\n\t\t\t\teffects.saveStyle( child );\r\n\t\t\t}\r\n\r\n\t\t\t// Animate children\r\n\t\t\tchild.css( childFrom );\r\n\t\t\tchild.animate( childTo, options.duration, options.easing, function() {\r\n\r\n\t\t\t\t// Restore children\r\n\t\t\t\tif ( restore ) {\r\n\t\t\t\t\teffects.restoreStyle( child );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t} );\r\n\t}\r\n\r\n\t// Animate\r\n\telement.animate( to, {\r\n\t\tqueue: false,\r\n\t\tduration: options.duration,\r\n\t\teasing: options.easing,\r\n\t\tcomplete: function() {\r\n\r\n\t\t\tvar offset = element.offset();\r\n\r\n\t\t\tif ( to.opacity === 0 ) {\r\n\t\t\t\telement.css( \"opacity\", from.opacity );\r\n\t\t\t}\r\n\r\n\t\t\tif ( !restore ) {\r\n\t\t\t\telement\r\n\t\t\t\t\t.css( \"position\", position === \"static\" ? \"relative\" : position )\r\n\t\t\t\t\t.offset( offset );\r\n\r\n\t\t\t\t// Need to save style here so that automatic style restoration\r\n\t\t\t\t// doesn't restore to the original styles from before the animation.\r\n\t\t\t\teffects.saveStyle( element );\r\n\t\t\t}\r\n\r\n\t\t\tdone();\r\n\t\t}\r\n\t} );\r\n\r\n} );\r\n\r\n});\r\n\ndefine( 'skylark-domx-effects/plugins/scale',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-query\",\r\n\t\"../effects\",\r\n\t\"./size\"\r\n], function(langx,$,effects,size) {\r\n\r\nreturn effects.define( \"scale\", function( options, done ) {\r\n\r\n\t// Create element\r\n\tvar el = $( this ),\r\n\t\tmode = options.mode,\r\n\t\tpercent = parseInt( options.percent, 10 ) ||\r\n\t\t\t( parseInt( options.percent, 10 ) === 0 ? 0 : ( mode !== \"effect\" ? 0 : 100 ) ),\r\n\r\n\t\tnewOptions = langx.mixin( {\r\n\t\t\tfrom: effects.scaledDimensions( el ),\r\n\t\t\tto: effects.scaledDimensions( el, percent, options.direction || \"both\" ),\r\n\t\t\torigin: options.origin || [ \"middle\", \"center\" ]\r\n\t\t}, options );\r\n\r\n\t// Fade option to support puff\r\n\tif ( options.fade ) {\r\n\t\tnewOptions.from.opacity = 1;\r\n\t\tnewOptions.to.opacity = 0;\r\n\t}\r\n\r\n\tsize.call( this, newOptions, done );\r\n} );\r\n\r\n});\r\n\ndefine( 'skylark-domx-effects/plugins/puff',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-query\",\r\n\t\"../effects\",\r\n\t\"./scale\"\r\n], function(langx,$,effects,scale) {\r\n\r\n\treturn effects.define( \"puff\", \"hide\", function( options, done ) {\r\n\t\tvar newOptions = langx.mixin( {}, options, {\r\n\t\t\tfade: true,\r\n\t\t\tpercent: parseInt( options.percent, 10 ) || 150\r\n\t\t} );\r\n\r\n\t\tscale.call( this, newOptions, done );\r\n\t});\r\n\r\n});\r\n\ndefine( 'skylark-domx-effects/plugins/pulsate',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-query\",\r\n\t\"../effects\"\r\n], function(langx,$,effects) {\r\nreturn effects.define( \"pulsate\", \"show\", function( options, done ) {\r\n\tvar element = $( this ),\r\n\t\tmode = options.mode,\r\n\t\tshow = mode === \"show\",\r\n\t\thide = mode === \"hide\",\r\n\t\tshowhide = show || hide,\r\n\r\n\t\t// Showing or hiding leaves off the \"last\" animation\r\n\t\tanims = ( ( options.times || 5 ) * 2 ) + ( showhide ? 1 : 0 ),\r\n\t\tduration = options.duration / anims,\r\n\t\tanimateTo = 0,\r\n\t\ti = 1;\r\n\r\n\tif ( show || !element.is( \":visible\" ) ) {\r\n\t\telement.css( \"opacity\", 0 ).show();\r\n\t\tanimateTo = 1;\r\n\t}\r\n\r\n\t// Anims - 1 opacity \"toggles\"\r\n\r\n\tvar Deferred = langx.Deferred;\r\n\tvar funcs = [];\r\n\r\n\tfunction doAnimate(element,properties, duration, ease) {\r\n\t\treturn function() {\r\n\t\t\tvar d = new Deferred();\r\n\r\n\t\t\telement.animate( properties, duration, ease ,function(){\r\n\t\t\t\td.resolve();\r\n\t\t\t});\r\n\t\t\treturn d.promise;\r\n\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfor ( ; i < anims; i++ ) {\r\n\t\tfuncs.push(doAnimate(element,{ opacity: animateTo }, duration, options.easing ));\r\n\t\tanimateTo = 1 - animateTo;\r\n\t}\r\n\r\n    funcs.push(doAnimate(element,{ opacity: animateTo }, duration, options.easing ));\r\n\r\n\tfuncs.push(done);\r\n\tfuncs.reduce(function(prev, curr, index, array) {\r\n  \t\treturn prev.then(curr);\r\n\t}, Deferred.resolve());\r\n\r\n} );\r\n\r\n});\r\n\ndefine( 'skylark-domx-effects/plugins/shake',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-query\",\r\n\t\"../effects\"\r\n], function(langx,$,effects) {\r\nreturn effects.define( \"shake\", function( options, done ) {\r\n\r\n\tvar i = 1,\r\n\t\telement = $( this ),\r\n\t\tdirection = options.direction || \"left\",\r\n\t\tdistance = options.distance || 20,\r\n\t\ttimes = options.times || 3,\r\n\t\tanims = times * 2 + 1,\r\n\t\tspeed = Math.round( options.duration / anims ),\r\n\t\tref = ( direction === \"up\" || direction === \"down\" ) ? \"top\" : \"left\",\r\n\t\tpositiveMotion = ( direction === \"up\" || direction === \"left\" ),\r\n\t\tanimation0 = {},\r\n\t\tanimation = {},\r\n\t\tanimation1 = {},\r\n\t\tanimation2 = {};\r\n\r\n\r\n\teffects.createPlaceholder( element );\r\n\r\n\tvar Deferred = langx.Deferred;\r\n\t\tstart = element.position()[ref],\r\n\t\tfuncs = [];\r\n\r\n\tfunction doAnimate(element,properties, duration, ease) {\r\n\t\treturn function() {\r\n\t\t\tvar d = new Deferred();\r\n\r\n\t\t\telement.animate( properties, duration, ease ,function(){\r\n\t\t\t\td.resolve();\r\n\t\t\t});\r\n\t\t\treturn d.promise;\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t// Animation\r\n\tanimation0[ ref ] = start;\r\n\tanimation[ ref ] = start + ( positiveMotion ? -1 : 1 ) * distance;\r\n\tanimation1[ ref ] = animation[ ref ] + ( positiveMotion ? 1 : -1 ) * distance * 2;\r\n\tanimation2[ ref ] = animation1[ ref ] + ( positiveMotion ? -1 : 1 ) * distance * 2;\r\n\r\n\t// Animate\r\n    funcs.push(doAnimate(element,animation, speed, options.easing ));\r\n\r\n\t// Shakes\r\n\tfor ( ; i < times; i++ ) {\r\n\t    funcs.push(doAnimate(element,animation1, speed, options.easing ));\r\n\t    funcs.push(doAnimate(element,animation2, speed, options.easing ));\r\n\t}\r\n\r\n    funcs.push(doAnimate(element,animation0, speed /2 , options.easing ));\r\n\r\n\tfuncs.push(done);\r\n\tfuncs.reduce(function(prev, curr, index, array) {\r\n  \t\treturn prev.then(curr);\r\n\t}, Deferred.resolve());\r\n} );\r\n\r\n});\r\n\ndefine( 'skylark-domx-effects/plugins/slide',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-query\",\r\n\t\"../effects\"\r\n], function(langx,$,effects) {\r\nreturn effects.define( \"slide\", \"show\", function( options, done ) {\r\n\tvar startClip, startRef,\r\n\t\telement = $( this ),\r\n\t\tmap = {\r\n\t\t\tup: [ \"bottom\", \"top\" ],\r\n\t\t\tdown: [ \"top\", \"bottom\" ],\r\n\t\t\tleft: [ \"right\", \"left\" ],\r\n\t\t\tright: [ \"left\", \"right\" ]\r\n\t\t},\r\n\t\tmode = options.mode,\r\n\t\tdirection = options.direction || \"left\",\r\n\t\tref = ( direction === \"up\" || direction === \"down\" ) ? \"top\" : \"left\",\r\n\t\tpositiveMotion = ( direction === \"up\" || direction === \"left\" ),\r\n\t\tdistance = options.distance ||\r\n\t\t\telement[ ref === \"top\" ? \"outerHeight\" : \"outerWidth\" ]( true ),\r\n\t\tanimation = {};\r\n\r\n\teffects.createPlaceholder( element );\r\n\r\n\tstartClip = element.cssClip();\r\n\tstartRef = element.position()[ ref ];\r\n\r\n\t// Define hide animation\r\n\tanimation[ ref ] = ( positiveMotion ? -1 : 1 ) * distance + startRef;\r\n\tanimation.clip = element.cssClip();\r\n\tanimation.clip[ map[ direction ][ 1 ] ] = animation.clip[ map[ direction ][ 0 ] ];\r\n\r\n\t// Reverse the animation if we're showing\r\n\tif ( mode === \"show\" ) {\r\n\t\telement.cssClip( animation.clip );\r\n\t\telement.css( ref, animation[ ref ] );\r\n\t\tanimation.clip = startClip;\r\n\t\tanimation[ ref ] = startRef;\r\n\t}\r\n\r\n\t// Actually animate\r\n\telement.animate( animation, {\r\n\t\tqueue: false,\r\n\t\tduration: options.duration,\r\n\t\teasing: options.easing,\r\n\t\tcomplete: done\r\n\t} );\r\n} );\r\n\r\n});\r\n\ndefine( 'skylark-domx-effects/plugins/transfer',[\r\n\t\"skylark-langx/langx\",\r\n\t\"skylark-domx-query\",\r\n\t\"../effects\"\r\n], function(langx,$,effects) {\r\n\tvar effect;\r\n\tif ( $.uiBackCompat !== false ) {\r\n\t\teffect = effects.define( \"transfer\", function( options, done ) {\r\n\t\t\t$(this).transfer( options, done );\r\n\t\t} );\r\n\t}\r\n\treturn effect;\r\n\r\n});\r\n\ndefine( 'skylark-domx-effects/main',[\r\n\t\"./effects\",\r\n\t\"./plugins/blind\",\r\n\t\"./plugins/bounce\",\r\n\t\"./plugins/clip\",\r\n\t\"./plugins/drop\",\r\n\t\"./plugins/explode\",\r\n\t\"./plugins/fade\",\r\n\t\"./plugins/fold\",\r\n\t\"./plugins/highlight\",\r\n\t\"./plugins/puff\",\r\n\t\"./plugins/pulsate\",\r\n\t\"./plugins/scale\",\r\n\t\"./plugins/shake\",\r\n\t\"./plugins/size\",\r\n\t\"./plugins/slide\",\r\n\t\"./plugins/transfer\"\r\n\r\n],function(effects){\r\n\treturn effects;\r\n});\ndefine('skylark-domx-effects', ['skylark-domx-effects/main'], function (main) { return main; });\n\n"]}