/**
 * skylark-jqueryui-interact - A version of jqueryui interact that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-jqueryui-interact/
 * @license MIT
 */
!function(t,e){var n=e.define,r=e.require,s="function"==typeof n&&n.amd,o=!s&&"undefined"!=typeof exports;if(!s&&!n){var a={};n=e.define=function(t,e,i){"function"==typeof i?(a[t]={factory:i,deps:e.map(function(e){return function(t,e){if("."!==t[0])return t;var i=e.split("/"),n=t.split("/");i.pop();for(var r=0;r<n.length;r++)"."!=n[r]&&(".."==n[r]?i.pop():i.push(n[r]));return i.join("/")}(e,t)}),resolved:!1,exports:null},r(t)):a[t]={factory:null,resolved:!0,exports:i}},r=e.require=function(t){if(!a.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var i=a[t];if(!i.resolved){var n=[];i.deps.forEach(function(t){n.push(r(t))}),i.exports=i.factory.apply(e,n)||null,i.resolved=!0}return i.exports}}if(!n)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,e){t("skylark-langx-ns/_attach",[],function(){return function(t,e,i){"string"==typeof e&&(e=e.split("."));for(var n=e.length,r=t,s=0,o=e[s++];s<n;)r=r[o]=r[o]||{},o=e[s++];return r[o]=i}}),t("skylark-langx-ns/ns",["./_attach"],function(t){var e={attach:function(i,n){return t(e,i,n)}};return e}),t("skylark-langx-ns/main",["./ns"],function(t){return t}),t("skylark-langx-ns",["skylark-langx-ns/main"],function(t){return t}),t("skylark-langx/skylark",["skylark-langx-ns"],function(t){return t}),t("skylark-langx-types/types",["skylark-langx-ns"],function(t){var e,i={}.toString,n=(e={},"Boolean Number String Function Array Date RegExp Object Error Symbol".split(" ").forEach(function(t){e["[object "+t+"]"]=t.toLowerCase()}),function(t){return null==t?String(t):e[i.call(t)]||"object"});function r(t){var e;for(e in t)if(null!==t[e])return!1;return!0}function s(t){return"function"==n(t)}function o(t){return t&&t.nodeType}function a(t){return"number"==typeof t}function l(t){return"object"==n(t)}function h(t){return"string"==typeof t}function c(t){return t&&t==t.window}return t.attach("langx.types",{isArray:function(t){return t&&t.constructor===Array},isArrayLike:function(t){return!h(t)&&!o(t)&&"number"==typeof t.length&&!s(t)},isBoolean:function(t){return"boolean"==typeof t},isDefined:function(t){return void 0!==t},isDocument:function(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE},isEmpty:r,isEmptyObject:r,isFunction:s,isHtmlNode:o,isNull:function(t){return"null"===n(t)},isNumber:a,isNumeric:a,isObject:l,isPlainObject:function(t){return l(t)&&!c(t)&&Object.getPrototypeOf(t)==Object.prototype},isString:h,isSameOrigin:function(t){if(t){var e=location.protocol+"//"+location.hostname;return location.port&&(e+=":"+location.port),t.startsWith(e)}},isSymbol:function(t){return"symbol"==typeof t||isObjectLike(t)&&objectToString.call(t)==symbolTag},isUndefined:function(t){return void 0===t},isWindow:c,type:n})}),t("skylark-langx-types/main",["./types"],function(t){return t}),t("skylark-langx-types",["skylark-langx-types/main"],function(t){return t}),t("skylark-langx-numbers/numbers",["skylark-langx-ns","skylark-langx-types"],function(t,e){var i=e.isObject,n=e.isSymbol,r=1/0,s=1.7976931348623157e308,o=NaN,a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function f(t){if(!t)return 0===t?t:0;if((t=p(t))===r||t===-r){var e=t<0?-1:1;return e*s}return t==t?t:0}function p(t){if("number"==typeof t)return t;if(n(t))return o;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var r=h.test(t);return r||c.test(t)?u(t.slice(2),r?2:8):l.test(t)?o:+t}return t.attach("langx.numbers",{toFinite:f,toNumber:p,toInteger:function(t){var e=f(t),i=e%1;return e==e?i?e-i:e:0}})}),t("skylark-langx-numbers/main",["./numbers"],function(t){return t}),t("skylark-langx-numbers",["skylark-langx-numbers/main"],function(t){return t}),t("skylark-langx-objects/objects",["skylark-langx-ns/ns","skylark-langx-ns/_attach","skylark-langx-types","skylark-langx-numbers"],function(t,e,i,n){var r,s,o=Object.prototype.hasOwnProperty,a=Array.prototype.slice,l=i.isBoolean,h=i.isFunction,c=i.isObject,u=i.isPlainObject,f=i.isArray,p=i.isArrayLike,d=i.isString,g=n.toInteger;var m,v,y="undefined"!=typeof Symbol?Symbol.prototype:null;function k(t){if(!c(t))return[];var e=[];for(var i in t)e.push(i);return e}function b(t,e){if(!f(e))return null!=t&&o.call(t,e);for(var i=e.length,n=0;n<i;n++){var r=e[n];if(null==t||!o.call(t,r))return!1;t=t[r]}return!!i}function _(t,e,i,n){for(var r in e)n&&void 0!==t[r]||(i&&(u(e[r])||f(e[r]))?(u(e[r])&&!u(t[r])&&(t[r]={}),f(e[r])&&!f(t[r])&&(t[r]=[]),_(t[r],e[r],i,n)):void 0!==e[r]&&(t[r]=e[r]));return t}function x(t){var e=a.call(arguments,0),i=e.shift(),n=!1;return l(e[e.length-1])&&(n=e.pop()),{target:i,sources:e,deep:n}}function w(){var t=x.apply(this,arguments);return t.sources.forEach(function(e){_(t.target,e,t.deep,!1)}),t.target}function P(t){for(var e=k(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=t[e[r]];return n}return r=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var r=typeof t;return("function"===r||"object"===r||"object"==typeof e)&&s(t,e,i,n)},s=function(t,e,i,n){var s=toString.call(t);if(s!==toString.call(e))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return y.valueOf.call(t)===y.valueOf.call(e)}var o="[object Array]"===s;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,l=e.constructor;if(a!==l&&!(h(a)&&a instanceof a&&h(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],n=n||[];for(var c=i.length;c--;)if(i[c]===t)return n[c]===e;if(i.push(t),n.push(e),o){if((c=t.length)!==e.length)return!1;for(;c--;)if(!r(t[c],e[c],i,n))return!1}else{var u,f=Object.keys(t);if(c=f.length,Object.keys(e).length!==c)return!1;for(;c--;)if(u=f[c],void 0===e[u]||!r(t[u],e[u],i,n))return!1}return i.pop(),n.pop(),!0},t.attach("langx.objects",{allKeys:k,attach:e,clone:function t(e,i){var n;if(void 0===e||null===e)n=e;else if(i&&e.clone)n=e.clone();else if(f(e)){n=[];for(var r=0;r<e.length;r++)n.push(t(e[r]))}else if(u(e))for(var s in n={},e)n[s]=t(e[s]);else n=e;return n},defaults:(m=k,v=!0,function(t){var e=arguments.length;if(v&&(t=Object(t)),e<2||null==t)return t;for(var i=1;i<e;i++)for(var n=arguments[i],r=m(n),s=r.length,o=0;o<s;o++){var a=r[o];v&&void 0!==t[a]||(t[a]=n[a])}return t}),each:function(t,e){var i,n,r,s;if(t)if(void 0===(i=t.length)){for(n in t)if(t.hasOwnProperty(n)&&(s=t[n],!1===e.call(s,n,s)))break}else for(r=0;r<i&&(s=t[r],!1!==e.call(s,r,s));r++);return this},extend:function(t){var e,i=a.call(arguments,1);"boolean"==typeof t&&(e=t,t=i.shift());0==i.length&&(i=[t],t=this);return i.forEach(function(i){w(t,i,e)}),t},has:b,isEqual:function(t,e){return r(t,e)},includes:function(t,e,i,n){t=p(t)?t:P(t),i=i&&!n?g(i):0;var r=t.length;i<0&&(i=nativeMax(r+i,0));return d(t)?i<=r&&t.indexOf(e,i)>-1:!!r&&baseIndexOf(t,e,i)>-1},isMatch:function(t,e){var i=i(e),n=i.length;if(null==t)return!n;for(var r=Object(t),s=0;s<n;s++){var o=i[s];if(e[o]!==r[o]||!(o in r))return!1}return!0},keys:function(t){if(c(t))return[];var e=[];for(var i in t)b(t,i)&&e.push(i);return e},mixin:w,omit:function(t,e,i){if(!t)return null;for(var n=w({},t),r=1;r<arguments.length;r++){var s=arguments[r];s in t&&delete n[s]}return n},pick:function(t,e,i){if(!t)return null;for(var n={},r=1;r<arguments.length;r++){var s=arguments[r];s in t&&(n[s]=t[s])}return n},removeItem:function(t,e){if(f(t)){var i=t.indexOf(e);-1!=i&&t.splice(i,1)}else if(u(t))for(var n in t)if(t[n]==e){delete t[n];break}return this},result:function(t,e,i){f(e)||(e=e.split("."));var n=e.length;if(!n)return h(i)?i.call(t):i;for(var r=0;r<n;r++){var s=null==t?void 0:t[e[r]];void 0===s&&(s=i,r=n),t=h(s)?s.call(t):s}return t},safeMixin:function(){var t=x.apply(this,arguments);return t.sources.forEach(function(e){_(t.target,e,t.deep,!0)}),t.target},values:P})}),t("skylark-langx-objects/main",["./objects"],function(t){return t}),t("skylark-langx-objects",["skylark-langx-objects/main"],function(t){return t}),t("skylark-langx-arrays/arrays",["skylark-langx-ns/ns","skylark-langx-types","skylark-langx-objects"],function(t,e,i){var n=Array.prototype.filter,r=e.isArrayLike;function s(t,e,i,n){for(var r=t.length,s=i+(n?1:-1);n?s--:++s<r;)if(e(t[s],s,t))return s;return-1}function o(t){return t!=t}function a(t){if(r(t)){for(var e=[],i=0;i<t.length;i++){var n=t[i];if(r(n))for(var s=0;s<n.length;s++)e.push(n[s]);else e.push(n)}return e}return t}return t.attach("langx.arrays",{baseFindIndex:s,baseIndexOf:function(t,e,i){if(e!=e)return s(t,o,i);var n=i-1,r=t.length;for(;++n<r;)if(t[n]===e)return n;return-1},compact:function(t){return n.call(t,function(t){return null!=t})},first:function(t,e){return e?t.slice(0,e):t[0]},filter:function(t,e){return n.call(t,e)},flatten:a,grep:function(t,e){var n=[];return i.each(t,function(t,i){e(i,t)&&n.push(i)}),n},inArray:function(t,e){if(!e)return-1;var i;if(e.indexOf)return e.indexOf(t);i=e.length;for(;i--;)if(e[i]===t)return i;return-1},makeArray:function(t,e,i){if(r(t))return(i||[]).concat(Array.prototype.slice.call(t,e||0));return[t]},merge:function(t,e){var i=e.length,n=t.length,r=0;if("number"==typeof i)for(;r<i;r++)t[n++]=e[r];else for(;void 0!==e[r];)t[n++]=e[r++];return t.length=n,t},forEach:function(t,e){if(t.forEach)return t.forEach(e);for(var i=0;i<t.length;i++)e(t[i],i)},map:function(t,e){var i,n,s,o=[];if(r(t))for(n=0;n<t.length;n++)null!=(i=e.call(t[n],t[n],n))&&o.push(i);else for(s in t)null!=(i=e.call(t[s],t[s],s))&&o.push(i);return a(o)},reduce:function(t,e,i){return Array.prototype.reduce.call(t,e,i)},uniq:function(t){return n.call(t,function(e,i){return t.indexOf(e)==i})}})}),t("skylark-langx-arrays/main",["./arrays"],function(t){return t}),t("skylark-langx-arrays",["skylark-langx-arrays/main"],function(t){return t}),t("skylark-langx/arrays",["skylark-langx-arrays"],function(t){return t}),t("skylark-langx-klass/klass",["skylark-langx-ns/ns","skylark-langx-types","skylark-langx-objects","skylark-langx-arrays"],function(t,e,i,n){var r=n.uniq,s=i.has,o=i.mixin,a=e.isArray,l=e.isDefined;var h=function(){function t(){return this._construct?this._construct.apply(this,arguments):this.init?this.init.apply(this,arguments):void 0}return function i(n,h,c,u){a(h)&&(u=c,c=h,h=null),h=h||Object,l(c)&&!a(c)&&(u=c,c=!1);var f=h;c&&(c=function(t,e){var i=[];return e.forEach(function(t){if(s(t,"__mixins__"))throw new Error("nested mixins");for(var e=[];t;)e.unshift(t),t=t.superclass;i=i.concat(e)}),(i=(i=r(i)).filter(function(e){for(var i=t;i;){if(e===i)return!1;if(s(i,"__mixins__"))for(var n=i.__mixins__,r=0;r<n.length;r++)if(n[r]===e)return!1;i=i.superclass}return!0})).length>0&&i}(f,c)),c&&(f=function(t,e){for(var i=t,n=0;n<e.length;n++){var r=new Function;r.prototype=Object.create(i.prototype),r.__proto__=i,r.superclass=null,o(r.prototype,e[n].prototype),r.prototype.__mixin__=e[n],i=r}return i}(f,c));var p=n.klassName||"",d=new Function("return function "+p+"() {var inst = this, ctor = arguments.callee;if (!(inst instanceof ctor)) {inst = Object.create(ctor.prototype);}return ctor._constructor.apply(inst, arguments) || inst;}")();return d.prototype=Object.create(f.prototype),d.prototype.constructor=d,d.superclass=h,d.__proto__=f,d._constructor||(d._constructor=t),c&&(d.__mixins__=c),d.partial||(d.partial=function(t,i){return function(t,i,n){var r=t.prototype,s=t.superclass.prototype,o=n&&n.noOverrided;n&&n.overrides;for(var a in i)if("constructor"!==a){var l=i[a];"function"==typeof i[a]?r[a]=l._constructor||o||"function"!=typeof s[a]?l:function(t,e,i){return function(){var t=this.overrided;this.overrided=i;var n=e.apply(this,arguments);return this.overrided=t,n}}(0,l,s[a]):e.isPlainObject(l)&&null!==l&&l.get?Object.defineProperty(r,a,l):r[a]=l}return t}(this,t,i)}),d.inherit||(d.inherit=function(t,e,n){return i(t,this,e,n)}),d.partial(n,u),d}}();return t.attach("langx.klass",h)}),t("skylark-langx-klass/main",["./klass"],function(t){return t}),t("skylark-langx-klass",["skylark-langx-klass/main"],function(t){return t}),t("skylark-langx/klass",["skylark-langx-klass"],function(t){return t}),t("skylark-langx/ArrayStore",["./klass"],function(t){var e=function(t){if(!t)return t;var i=!!t.then;function n(n){t[n]=function(){var r=arguments,s=Deferred.when(t,function(t){return e(Array.prototype[n].apply(t,r))});if("forEach"!==n||i)return s}}return i&&(t=Object.delegate(t)),n("forEach"),n("filter"),n("map"),null==t.total&&(t.total=Deferred.when(t,function(t){return t.length})),t},i=t({klassName:"ArrayStore",queryEngine:function(t,e){switch(typeof t){default:throw new Error("Can not query with a "+typeof t);case"object":case"undefined":var i=t;t=function(t){for(var e in i){var n=i[e];if(n&&n.test){if(!n.test(t[e],t))return!1}else if(n!=t[e])return!1}return!0};break;case"string":if(!this[t])throw new Error("No filter function "+t+" was found in store");t=this[t];case"function":}function n(i){var n=function(t,e,i){var n,r=0,s=t&&t.length||0,o=[];s&&"string"==typeof t&&(t=t.split(""));"string"==typeof e&&(e=cache[e]||buildFn(e));if(i)for(;r<s;++r)n=t[r],e.call(i,n,r,t)&&o.push(n);else for(;r<s;++r)n=t[r],e(n,r,t)&&o.push(n);return o}(i,t),r=e&&e.sort;if(r&&n.sort("function"==typeof r?r:function(t,e){for(var i,n=0;i=r[n];n++){var s=t[i.attribute],o=e[i.attribute];if(s=null!=s?s.valueOf():s,o=null!=o?o.valueOf():o,s!=o)return!!i.descending==(null==s||s>o)?-1:1}return 0}),e&&(e.start||e.count)){var s=n.length;(n=n.slice(e.start||0,(e.start||0)+(e.count||1/0))).total=s}return n}return n.matches=t,n},idProperty:"id",get:function(t){return this.data[this.index[t]]},getIdentity:function(t){return t[this.idProperty]},put:function(t,e){var i=this.data,n=this.index,r=this.idProperty,s=t[r]=e&&"id"in e?e.id:r in t?t[r]:Math.random();if(s in n){if(e&&!1===e.overwrite)throw new Error("Object already exists");i[n[s]]=t}else n[s]=i.push(t)-1;return s},add:function(t,e){return(e=e||{}).overwrite=!1,this.put(t,e)},remove:function(t){var e=this.index,i=this.data;if(t in e)return i.splice(e[t],1),this.setData(i),!0},query:function(t,i){return e(this.queryEngine(t,i)(this.data))},setData:function(t){t.items?(this.idProperty=t.identifier||this.idProperty,t=this.data=t.items):this.data=t,this.index={};for(var e=0,i=t.length;e<i;e++)this.index[t[e][this.idProperty]]=e},init:function(t){for(var e in t)this[e]=t[e];this.setData(this.data||[])}});return i}),t("skylark-langx-aspect/aspect",["skylark-langx-ns"],function(t){var e,i=0;function n(t){return function(n,r,s,o){var a,l=n[r];l&&l.target==n||(n[r]=a=function(){for(var t=i,n=arguments,r=a.before;r;)n=r.advice.apply(this,n)||n,r=r.next;if(a.around)var s=a.around.advice(this,n);for(var o=a.after;o&&o.id<t;){if(o.receiveArguments){var l=o.advice.apply(this,n);s=l===e?s:l}else s=o.advice.call(this,s,n);o=o.next}return s},l&&(a.around={advice:function(t,e){return l.apply(t,e)}}),a.target=n);var h=function(t,e,n,r){var s,o=t[e],a="around"==e;if(a){var l=n(function(){return o.advice(this,arguments)});s={remove:function(){l&&(l=t=n=null)},advice:function(t,e){return l?l.apply(t,e):o.advice(t,e)}}}else s={remove:function(){if(s.advice){var i=s.previous,r=s.next;r||i?(i?i.next=r:t[e]=r,r&&(r.previous=i)):delete t[e],t=n=s.advice=null}},id:i++,advice:n,receiveArguments:r};if(o&&!a)if("after"==e){for(;o.next&&(o=o.next););o.next=s,s.previous=o}else"before"==e&&(t[e]=s,s.next=o,o.previous=s);else t[e]=s;return s}(a||l,t,s,o);return s=null,h}}return t.attach("langx.aspect",{after:n("after"),around:n("around"),before:n("before")})}),t("skylark-langx-aspect/main",["./aspect"],function(t){return t}),t("skylark-langx-aspect",["skylark-langx-aspect/main"],function(t){return t}),t("skylark-langx/aspect",["skylark-langx-aspect"],function(t){return t}),t("skylark-langx-funcs/funcs",["skylark-langx-ns/ns","skylark-langx-types","skylark-langx-objects"],function(t,e,i){var n=i.mixin,r=Array.prototype.slice,s=e.isFunction,o=e.isString;var a=function(){function t(){}return function(e,i){t.prototype=e;var r=new t;return t.prototype=null,i&&n(r,i),r}}(),l={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};return t.attach("langx.funcs",{debounce:function(t,e){var i;return function(){var n=this,r=arguments;i&&clearTimeout(i),i=setTimeout(function(){i=null,t.apply(n,r)},e)}},delegate:a,defer:function(t){requestAnimationFrame?requestAnimationFrame(t):setTimeoutout(t);return this},noop:function(){},proxy:function t(e,i){var n=2 in arguments&&r.call(arguments,2);if(s(e)){return function(){return e.apply(i,n?n.concat(r.call(arguments)):arguments)}}if(o(i))return n?(n.unshift(e[i],e),t.apply(null,n)):t(e[i],e);throw new TypeError("expected function")},returnTrue:function(){return!0},returnFalse:function(){return!1},templateSettings:l,template:function(t,e,n){!e&&n&&(e=n);e=i.defaults({},e,l);var r,s=RegExp([(e.escape||noMatch).source,(e.interpolate||noMatch).source,(e.evaluate||noMatch).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(s,function(e,i,n,r,s){return a+=t.slice(o,s).replace(escapeRegExp,escapeChar),o=s+e.length,i?a+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":r&&(a+="';\n"+r+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n");a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(e.variable||"obj","_",a)}catch(t){throw t.source=a,t}var h=function(t){return r.call(this,t,_)},c=e.variable||"obj";return h.source="function("+c+"){\n"+a+"}",h}})}),t("skylark-langx-funcs/main",["./funcs"],function(t){return t}),t("skylark-langx-funcs",["skylark-langx-funcs/main"],function(t){return t}),t("skylark-langx-async/Deferred",["skylark-langx-arrays","skylark-langx-funcs","skylark-langx-objects"],function(t,e,i){"use strict";var n=Symbol?Symbol():"__pglisteners",r=Symbol?Symbol():"__pgnotifies",s=Array.prototype.slice,o=e.proxy,a=t.makeArray,l=i.result,h=i.mixin;h(Promise.prototype,{always:function(t){return this.then(t,t),this},done:function(){for(var t=0;t<arguments.length;t++)this.then(arguments[t]);return this},fail:function(t){return this.catch(t),this}});var c=function(){var t=this,e=this.promise=new Promise(function(e,i){t._resolve=e,t._reject=i});u(e,t),this[n]=[],this[r]=[]};function u(t,e){var i={state:function(){return e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},then:function(t,e,i){return i&&this.progress(i),u(Promise.prototype.then.call(this,t&&function(e){return e&&void 0!==e.__ctx__?t.apply(e.__ctx__,e):t(e)},e&&function(t){return t&&void 0!==t.__ctx__?e.apply(t.__ctx__,t):e(t)}))},progress:function(t){return e[r].forEach(function(e){t(e)}),e[n].push(t),this}};return i.pipe=i.then,h(t,i)}return c.prototype.resolve=function(t){var e=s.call(arguments);return this.resolveWith(null,e)},c.prototype.resolveWith=function(t,e){return(e=e?a(e):[]).__ctx__=t,this._resolve(e),this._resolved=!0,this},c.prototype.notify=function(t){try{return this[r].push(t),this[n].forEach(function(e){return e(t)})}catch(t){this.reject(t)}return this},c.prototype.reject=function(t){var e=s.call(arguments);return this.rejectWith(null,e)},c.prototype.rejectWith=function(t,e){return(e=e?a(e):[]).__ctx__=t,this._reject(e),this._rejected=!0,this},c.prototype.isResolved=function(){return!!this._resolved},c.prototype.isRejected=function(){return!!this._rejected},c.prototype.then=function(t,e,i){var n=l(this,"promise");return n.then(t,e,i)},c.prototype.progress=function(t){var e=l(this,"promise");return e.progress(t)},c.prototype.catch=function(t){var e=l(this,"promise");return e.catch(t)},c.prototype.done=function(){var t=l(this,"promise");return t.done.apply(t,arguments)},c.prototype.fail=function(t){var e=l(this,"promise");return e.fail(t)},c.all=function(t){var e=new c;return Promise.all(t).then(e.resolve.bind(e),e.reject.bind(e)),l(e,"promise")},c.first=function(t){return u(Promise.race(t))},c.when=function(t,e,i,n){var r=t&&"function"==typeof t.then,s=r&&t instanceof Promise;if(!r)return arguments.length>1?e?e(t):t:(new c).resolve(t);if(!s){var a=new c(t.cancel);t.then(o(a.resolve,a),o(a.reject,a),a.notify),t=a.promise}return e||i||n?t.then(e,i,n):t},c.reject=function(t){var e=new c;return e.reject(t),e.promise},c.immediate=c.resolve=function(t){var e=new c;return e.resolve.apply(e,arguments),e.promise},c}),t("skylark-langx-async/async",["skylark-langx-ns","skylark-langx-objects","./Deferred"],function(t,e,i){var n=e.each,r={Deferred:i,parallel:function(t,e,r){var s=[];return r=r||null,e=e||[],n(t,function(t,i){s.push(i.apply(r,e))}),i.all(s)},series:function(t,e,r){var s=[],o=new i,a=o.promise;return r=r||null,e=e||[],o.resolve(),n(t,function(t,i){a=a.then(function(){return i.apply(r,e)}),s.push(a)}),i.all(s)},waterful:function(t,e,r){var s=new i,o=s.promise;return r=r||null,e=e||[],s.resolveWith(r,e),n(t,function(t,e){o=o.then(e)}),o}};return t.attach("langx.async",r)}),t("skylark-langx-async/main",["./async"],function(t){return t}),t("skylark-langx-async",["skylark-langx-async/main"],function(t){return t}),t("skylark-langx/async",["skylark-langx-async"],function(t){return t}),t("skylark-langx-datetimes/datetimes",["skylark-langx-ns"],function(t){return t.attach("langx.datetimes",{parseMilliSeconds:function(t){var e=t.split(" "),i=parseInt(e[0]);if(isNaN(i))return 0;switch(e[1].trim().replace(/\./g,"")){case"minutes":case"minute":case"min":case"mm":case"m":return 6e4*i;case"hours":case"hour":case"HH":case"hh":case"h":case"H":return 36e5*i;case"seconds":case"second":case"sec":case"ss":case"s":return 1e3*i;case"days":case"day":case"DD":case"dd":case"d":return 864e5*i;case"months":case"month":case"MM":case"M":return 24192e5*i;case"weeks":case"week":case"W":case"w":return 6048e5*i;case"years":case"year":case"yyyy":case"yy":case"y":return 31536e6*i;default:return 0}}})}),t("skylark-langx-datetimes/main",["./datetimes"],function(t){return t}),t("skylark-langx-datetimes",["skylark-langx-datetimes/main"],function(t){return t}),t("skylark-langx/datetimes",["skylark-langx-datetimes"],function(t){return t}),t("skylark-langx/Deferred",["skylark-langx-async/Deferred"],function(t){return t}),t("skylark-langx-emitter/Emitter",["skylark-langx-ns/ns","skylark-langx-types","skylark-langx-objects","skylark-langx-arrays","skylark-langx-klass"],function(t,e,i,n,r){var s=Array.prototype.slice,o=n.compact,a=e.isDefined,l=e.isPlainObject,h=e.isFunction,c=e.isString,u=e.isEmptyObject,f=i.mixin,p=i.safeMixin;function d(t){var e=(""+t).split(".");return{name:e[0],ns:e.slice(1).join(" ")}}var g=r({on:function(t,e,i,n,r,s){var o=this,a=this._hub||(this._hub={});return l(t)?(r=n,each(t,function(t,n){o.on(t,e,i,n,r,s)}),this):(c(e)||h(n)||(r=n,n=i,i=e,e=void 0),h(i)&&(r=n,n=i,i=null),c(t)&&(t=t.split(/\s/)),t.forEach(function(t){var o=d(t),l=o.name,h=o.ns;(a[l]||(a[l]=[])).push({fn:n,selector:e,data:i,ctx:r,ns:h,one:s})}),this)},one:function(t,e,i,n,r){return this.on(t,e,i,n,r,1)},emit:function(t){if(!this._hub)return this;var e=this;c(t)&&(t=new CustomEvent(t)),Object.defineProperty(t,"target",{value:this});var i=s.call(arguments,1);return i=a(i)?[t].concat(i):[t],[t.type||t.name,"all"].forEach(function(n){var r=d(n),s=r.name,a=r.ns,l=e._hub[s];if(l){for(var h=l.length,c=!1,u=0;u<h;u++){var p=l[u];(!a||p.ns&&p.ns.startsWith(a))&&(t.data?p.data&&(t.data=f({},p.data,t.data)):t.data=p.data||null,p.fn.apply(p.ctx,i),p.one&&(l[u]=null,c=!0))}c&&(e._hub[n]=o(l))}}),this},listened:function(t){var e=(this._hub||(this._events={}))[t]||[];return e.length>0},listenTo:function(t,e,i,n){if(!t)return this;c(i)&&(i=this[i]),n?t.one(e,i,this):t.on(e,i,this);for(var r,s=this._listeningTo||(this._listeningTo=[]),o=0;o<s.length;o++)if(s[o].obj==t){r=s[o];break}r||s.push(r={obj:t,events:{}});var a=r.events,l=a[e]=a[e]||[];return-1==l.indexOf(i)&&l.push(i),this},listenToOnce:function(t,e,i){return this.listenTo(t,e,i,1)},off:function(t,e){var i=this._hub||(this._hub={});return c(t)&&(t=t.split(/\s/)),t.forEach(function(t){var n=d(t),r=n.name,s=n.ns,o=i[r];if(o){var a=[];if(e||s)for(var l=0,h=o.length;l<h;l++)e&&o[l].fn!==e&&o[l].fn._!==e?a.push(o[l]):!s||o[l].ns&&0==o[l].ns.indexOf(s)||a.push(o[l]);a.length?i[r]=a:delete i[r]}}),this},unlistenTo:function(t,e,i){var n=this._listeningTo;if(!n)return this;for(var r=0;r<n.length;r++){var s=n[r];if(!t||t==s.obj){var a=s.events;for(var l in a)if(!e||e==l){for(var h=a[l],c=0;c<h.length;c++)i&&i!=h[r]||(s.obj.off(l,h[r],this),h[r]=null);h=a[l]=o(h),u(h)&&(a[l]=null)}u(a)&&(n[r]=null)}}return n=this._listeningTo=o(n),u(n)&&(this._listeningTo=null),this},trigger:function(){return this.emit.apply(this,arguments)}});return g.createEvent=function(t,e){var i=new CustomEvent(t,e);return p(i,e)},t.attach("langx.Emitter",g)}),t("skylark-langx-emitter/Evented",["skylark-langx-ns/ns","./Emitter"],function(t,e){return t.attach("langx.Evented",e)}),t("skylark-langx-emitter/main",["./Emitter","./Evented"],function(t){return t}),t("skylark-langx-emitter",["skylark-langx-emitter/main"],function(t){return t}),t("skylark-langx/Emitter",["skylark-langx-emitter"],function(t){return t}),t("skylark-langx/Evented",["skylark-langx-emitter"],function(t){return t}),t("skylark-langx/funcs",["skylark-langx-funcs"],function(t){return t}),t("skylark-langx-hoster/hoster",["skylark-langx-ns"],function(t){var i={isBrowser:!0,isNode:null,global:this,browser:null,node:null};"object"==typeof process&&process.versions&&process.versions.node&&process.versions.v8&&(i.isNode=!0,i.isBrowser=!1),i.global=function(){return"undefined"!=typeof global&&"function"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this}();var n=null;if(Object.defineProperty(i,"document",function(){if(!n){var t="undefined"==typeof window?e("html-element"):window;n=t.document}return n}),i.isBrowser){var r=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}}(navigator.userAgent),s=i.browser={};r.browser&&(s[r.browser]=!0,s.version=r.version),s.chrome?s.webkit=!0:s.webkit&&(s.safari=!0)}return t.attach("langx.hoster",i)}),t("skylark-langx-hoster/main",["./hoster"],function(t){return t}),t("skylark-langx-hoster",["skylark-langx-hoster/main"],function(t){return t}),t("skylark-langx/hoster",["skylark-langx-hoster"],function(t){return t}),t("skylark-langx/numbers",["skylark-langx-numbers"],function(t){return t}),t("skylark-langx/objects",["skylark-langx-objects"],function(t){return t}),t("skylark-langx-strings/strings",["skylark-langx-ns"],function(t){var e=Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"});function i(t){return e[t]}var n=/[&<>"'`=]/g;var r=0;function s(t,e){var i,n,r,s,o,a,l,h=arguments.callee;return h.cache[t]||(h.cache[t]=(i=t,n=/^[\w\-]+$/.test(t)?h.get(t):(i="template(string)",t),r=1,s=("try { "+(h.variable?"var "+h.variable+" = this.stash;":"with (this.stash) { ")+"this.ret += '"+n.replace(/<%/g,"").replace(/%>/g,"").replace(/'(?![^\x11\x13]+?\x13)/g,"\\x27").replace(/^\s*|\s*$/g,"").replace(/\n|\r\n/g,function(){return"';\nthis.line = "+ ++r+"; this.ret += '\\n"}).replace(/\x11=raw(.+?)\x13/g,"' + ($1) + '").replace(/\x11=(.+?)\x13/g,"' + this.escapeHTML($1) + '").replace(/\x11(.+?)\x13/g,"'; $1; this.ret += '")+"'; "+(h.variable?"":"}")+"return this.ret;} catch (e) { throw 'TemplateError: ' + e + ' (on "+i+"' + ' line ' + this.line + ')'; } //@ sourceURL="+i+"\n").replace(/this\.ret \+= '';/g,""),o=new Function(s),a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#x22;","'":"&#x27;"},l=function(t){return(""+t).replace(/[&<>\'\"]/g,function(t){return a[t]})},function(t){return o.call(h.context={escapeHTML:l,line:1,ret:"",stash:t})})),e?h.cache[t](e):h.cache[t]}return s.cache={},s.get=function(t){return document.getElementById(t).innerHTML},t.attach("langx.strings",{camelCase:function(t){return t.replace(/-([\da-z])/g,function(t){return t.toUpperCase().replace("-","")})},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},deserializeValue:function(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?JSON.parse(t):t):t}catch(e){return t}},escapeHTML:function(t){if(null==t)return"";if(!t)return String(t);return t.toString().replace(n,i)},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,i="x"===t?e:3&e|8;return i.toString(16)})},lowerFirst:function(t){return t.charAt(0).toLowerCase()+t.slice(1)},rtrim:function(t){return t.replace(/\s+$/g,"")},serializeValue:function(t){return JSON.stringify(t)},substitute:function(t,e,i,n){function r(t,e){if(t.match(/\./)){var i,n=function(t,e){var r=t.pop();return r?e[r]?n(t,i=e[r]):null:i};return n(t.split(".").reverse(),e)}return e[t]}return n=n||window,i=i?proxy(n,i):function(t){return t},t.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(t,s,o){var a=r(s,e);return o&&(a=r(o,n).call(n,a,s)),i(a,s).toString()})},slugify:function(t){t=(t=t.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var e="ÁÄÂÀÃÅČÇĆĎÉĚËÈÊẼĔȆÍÌÎÏŇÑÓÖÒÔÕØŘŔŠŤÚŮÜÙÛÝŸŽáäâàãåčçćďéěëèêẽĕȇíìîïňñóöòôõøðřŕšťúůüùûýÿžþÞĐđßÆa·/_,:;",i=0,n=e.length;i<n;i++)t=t.replace(new RegExp(e.charAt(i),"g"),"AAAAAACCCDEEEEEEEEIIIINNOOOOOORRSTUUUUUYYZaaaaaacccdeeeeeeeeiiiinnooooooorrstuuuuuyyzbBDdBAa------".charAt(i));return t=t.replace(/\s+/g,"-").replace(/-+/g,"-")},template:s,trim:function(t){return null==t?"":String.prototype.trim.call(t)},uniqueId:function(t){var e=++r+"";return t?t+e:e},upperFirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}})}),t("skylark-langx-strings/main",["./strings"],function(t){return t}),t("skylark-langx-strings",["skylark-langx-strings/main"],function(t){return t}),t("skylark-langx/strings",["skylark-langx-strings"],function(t){return t}),t("skylark-langx/Stateful",["./Evented","./strings","./objects"],function(t,e,i){var n=i.isEqual,r=i.mixin,s=i.result,o=i.isEmptyObject,a=i.clone,l=e.uniqueId,h=t.inherit({_construct:function(t,e){var i=t||{};e||(e={}),this.cid=l(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{});var n=s(this,"defaults");i=r({},n,i),this.set(i,e),this.changed={}},changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",toJSON:function(t){return a(this.attributes)},get:function(t){return this.attributes[t]},has:function(t){return null!=this.get(t)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var s=i.unset,o=i.silent,l=[],h=this._changing;this._changing=!0,h||(this._previousAttributes=a(this.attributes),this.changed={});var c=this.attributes,u=this.changed,f=this._previousAttributes;for(var p in r)e=r[p],n(c[p],e)||l.push(p),n(f[p],e)?delete u[p]:u[p]=e,s?delete c[p]:c[p]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!o){l.length&&(this._pending=i);for(var d=0;d<l.length;d++)this.trigger("change:"+l[d],this,c[l[d]],i)}if(h)return this;if(!o)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,r({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,r({},t,{unset:!0}))},hasChanged:function(t){return null==t?!o(this.changed):void 0!==this.changed[t]},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&a(this.changed);var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var s=t[r];n(e[r],s)||(i[r]=s)}return!o(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return a(this._previousAttributes)},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},r({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=r({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,r(e,{validationError:i})),!1)}});return h}),t("skylark-langx-topic/topic",["skylark-langx-ns","skylark-langx-emitter/Evented"],function(t,e){var i=new e;return t.attach("langx.topic",{publish:function(t,e,n){var r=[].slice.call(arguments,1);return i.trigger({type:t,data:r})},subscribe:function(t,e,n){var r=function(t){e.apply(n,t.data)};return i.on(t,r),{remove:function(){i.off(t,r)}}}})}),t("skylark-langx-topic/main",["./topic"],function(t){return t}),t("skylark-langx-topic",["skylark-langx-topic/main"],function(t){return t}),t("skylark-langx/topic",["skylark-langx-topic"],function(t){return t}),t("skylark-langx/types",["skylark-langx-types"],function(t){return t}),t("skylark-langx/langx",["./skylark","./arrays","./ArrayStore","./aspect","./async","./datetimes","./Deferred","./Emitter","./Evented","./funcs","./hoster","./klass","./numbers","./objects","./Stateful","./strings","./topic","./types"],function(t,e,i,n,r,s,o,a,l,h,c,u,f,p,d,g,m,v){"use strict";Array.prototype.concat,Array.prototype.indexOf,Array.prototype.slice,Array.prototype.filter;var y=p.mixin,k=(p.safeMixin,v.isFunction);var b=1;function _(){return _}return y(_,{createEvent:a.createEvent,funcArg:function(t,e,i,n){return k(e)?e.call(t,i,n):e},getQueryParams:function(t){var e=(t=t||window.location.href).split("?"),i={};e.length>1&&e[1].split("&").forEach(function(t){var e=t.split("=");i[e[0]]=e[1]});return i},toPixel:function(t){return parseFloat(t)||0},uid:function(t){return t._uid||(t._uid=b++)},URL:"undefined"!=typeof window?window.URL||window.webkitURL:null}),y(_,e,n,s,h,f,p,g,v,{ArrayStore:i,async:r,Deferred:o,Emitter:a,Evented:l,hoster:c,klass:u,Stateful:d,topic:m}),t.langx=_}),t("skylark-jqueryui-interact/ddmanager",["skylark-langx/langx"],function(t){var e={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var n,r,s=e.droppables[t.options.scope]||[],o=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<s.length;n++)if(!(s[n].options.disabled||t&&!s[n].accept.call(s[n].element[0],t.currentItem||t.element))){for(r=0;r<a.length;r++)if(a[r]===s[n].element[0]){s[n].proportions().height=0;continue t}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===o&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions({width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight}))}},drop:function(i,n){var r=!1;return t.each((e.droppables[i.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.intersect(i,this,this.options.tolerance,n)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.prepareOffsets(t,i)})},drag:function(i,n){i.options.refreshPositions&&e.prepareOffsets(i,n),t.each(e.droppables[i.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var t,r,s,o=e.intersect(i,this,this.options.tolerance,n),a=!o&&this.isover?"isout":o&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,(s=this.element.parents(":data(ui-droppable)").filter(function(){return $(this).droppable("instance").options.scope===r})).length&&((t=$(s[0]).droppable("instance")).greedyChild="isover"===a)),t&&"isover"===a&&(t.isover=!1,t.isout=!0,t._out.call(t,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),t&&"isout"===a&&(t.isout=!1,t.isover=!0,t._over.call(t,n)))}})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.prepareOffsets(t,i)}};return e.intersect=function(){function t(t,e,i){return t>=e&&t<e+i}return function(e,i,n,r){if(!i.offset)return!1;var s=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,a=s+e.helperProportions.width,l=o+e.helperProportions.height,h=i.offset.left,c=i.offset.top,u=h+i.proportions().width,f=c+i.proportions().height;switch(n){case"fit":return h<=s&&a<=u&&c<=o&&l<=f;case"intersect":return h<s+e.helperProportions.width/2&&a-e.helperProportions.width/2<u&&c<o+e.helperProportions.height/2&&l-e.helperProportions.height/2<f;case"pointer":return t(r.pageY,c,i.proportions().height)&&t(r.pageX,h,i.proportions().width);case"touch":return(o>=c&&o<=f||l>=c&&l<=f||o<c&&l>f)&&(s>=h&&s<=u||a>=h&&a<=u||s<h&&a>u);default:return!1}}}(),e}),t("skylark-domx-browser/browser",["skylark-langx/skylark","skylark-langx/langx"],function(t,e){"use strict";var i,n,r=e.hoster.browser,s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},o=null,a="",l="",h={},c={},u=/^(Webkit|webkit|O|Moz|moz|ms)(.*)$/,f=window.document,p=f.createElement("div"),d=p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.matchesSelector,g=p.requestFullscreen||p.webkitRequestFullscreen||p.mozRequestFullScreen||p.msRequestFullscreen,m=(f.exitFullscreen||f.webkitCancelFullScreen||f.mozCancelFullScreen||f.msExitFullscreen,p.style);for(var v in m){var y=v.match(n||u);if(y){n||(i=y[1],n=new RegExp("^("+i+")(.*)$"),i,a="-"+i.toLowerCase()+"-",l=i.toLowerCase()),h[e.lowerFirst(y[2])]=v;var k=e.dasherize(y[2]);c[k]=a+k,s[v]&&(o=s[v])}}return o||void 0!==m.transition&&(o=s.transition),e.mixin(r,{css3PropPrefix:a,isIE:!!/msie/i.exec(window.navigator.userAgent),normalizeStyleProperty:function(t){return h[t]||t},normalizeCssProperty:function(t){return c[t]||t},normalizeCssEvent:function(t){return l?l+t:t.toLowerCase()},matchesSelector:d,requestFullScreen:g,exitFullscreen:g,location:function(){return window.location},support:{}}),o&&(r.support.transition={end:o}),p=null,t.attach("domx.browser",r)}),t("skylark-domx-browser/main",["./browser"],function(t){return t}),t("skylark-domx-browser",["skylark-domx-browser/main"],function(t){return t}),t("skylark-domx-noder/noder",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-browser"],function(t,e,i){var n=!!navigator.userAgent.match(/Trident/g)||!!navigator.userAgent.match(/MSIE/g),r=/^\s*<(\w+|!)[^>]*>/,s=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,o=document.createElement("div"),a=document.createElement("table"),l=document.createElement("tbody"),h=document.createElement("tr"),c={tr:l,tbody:a,thead:a,tfoot:a,td:h,th:h,"*":o},u=/^(?:body|html)$/i,f=Array.prototype.map,p=Array.prototype.slice;function d(t,i){return e.isArrayLike(t)||(t=[t]),i&&(t=f.call(t,function(t){return t.cloneNode(!0)})),e.flatten(t)}function g(t,e){var i=t.nodeName&&t.nodeName.toLowerCase();return void 0!==e?i===e.toLowerCase():i}function m(t,i){if(e.isFunction(t))return t.apply(i,[]);if(e.isArrayLike(t)){for(var n,r=0;r<t.length;r++)e.isFunction(t[r])&&(t[r]=t[r].apply(i,[]),e.isArrayLike(t[r])&&(n=!0));n&&(t=e.flatten(t))}return t}function v(t,e,i){e=m(e,t);for(var n=t,r=d(e,i),s=0;s<r.length;s++)n.appendChild(r[s]);return this}function y(t,e,i){var n=document.createElement(t);if(e)for(var r in e)n.setAttribute(r,e[r]);return i&&v(i,n),n}var k=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;function b(t,e,i){if(i)return t.parentNode===e;if(document.documentElement.contains)return e.contains(t);for(;t;){if(e===t)return!0;t=t.parentNode}return!1}function _(t){return t?9==t.nodeType?t:t.ownerDocument:document}function x(){return x}return e.mixin(x,{active:function(t){var e;t=t||document;try{e=t.activeElement}catch(i){e=t.body}e||(e=t.body);e.nodeName||(e=t.body);return e},blur:function(t){t.blur()},body:function(){return document.body},clone:function(t,e){var i,r=this;if(!n||1!==t.nodeType||e)return t.cloneNode(e);if(!e)return i=document.createElement(t.nodeName),each(r.getAttribs(t),function(e){r.setAttrib(i,e.nodeName,r.getAttrib(t,e.nodeName))}),i},contents:function(t){if(g(t,"iframe"))return t.contentDocument;return t.childNodes},createElement:y,createFragment:function(t){if(t=e.trim(t),s.test(t))return[y(RegExp.$1)];var i=r.test(t)&&RegExp.$1;i in c||(i="*");var n=c[i];return n.innerHTML=""+t,dom=p.call(n.childNodes),dom.forEach(function(t){n.removeChild(t)}),dom},contains:function(t,e){return b(e,t)},createTextNode:function(t){return document.createTextNode(t)},doc:function(){return document},empty:function(t){for(;t.hasChildNodes();){var e=t.firstChild;t.removeChild(e)}return this},fullScreen:function(t){if(!1===t)i.exitFullScreen.apply(document);else{if(!t)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;i.requestFullScreen.apply(t),t}},focusable:function(t,e){var i,n,r,s,o,a=t.nodeName.toLowerCase();if("area"===a)return i=t.parentNode,n=i.name,!(!t.href||!n||"map"!==i.nodeName.toLowerCase())&&((r=$("img[usemap='#"+n+"']")).length>0&&r.is(":visible"));/^(input|select|textarea|button|object)$/.test(a)?(s=!t.disabled)&&(o=$(t).closest("fieldset")[0])&&(s=!o.disabled):s="a"===a&&t.href||e;return s&&$(t).is(":visible")&&visible($(t))},html:function(t,i){if(void 0===i)return t.innerHTML;if(this.empty(t),i=i||"",e.isString(i)&&(i=i.replace(k,"<$1></$2>")),e.isString(i)||e.isNumber(i))t.innerHTML=i;else if(e.isArrayLike(i))for(var n=0;n<i.length;n++)t.appendChild(i[n]);else t.appendChild(i);return this},isChildOf:b,isDocument:function(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE},isInDocument:function(t){return t===document.body||document.body.contains(t)},isWindow:e.isWindow,nodeName:g,offsetParent:function(t){var e=t.offsetParent||document.body;for(;e&&!u.test(e.nodeName)&&"static"==document.defaultView.getComputedStyle(e).position;)e=e.offsetParent;return e},ownerDoc:_,ownerWindow:function(t){var e=_(t);return e.defaultView||e.parentWindow},after:function(t,e,i){e=m(e,t);var n=(s=t).parentNode;if(n)for(var r=d(e,i),s=s.nextSibling,o=0;o<r.length;o++)s?n.insertBefore(r[o],s):n.appendChild(r[o]);return this},before:function(t,e,i){e=m(e,t);var n=t,r=n.parentNode;if(r)for(var s=d(e,i),o=0;o<s.length;o++)r.insertBefore(s[o],n);return this},prepend:function(t,e,i){for(var n=t,r=n.firstChild,s=d(e,i),o=0;o<s.length;o++)r?n.insertBefore(s[o],r):n.appendChild(s[o]);return this},append:v,reflow:function(t){null==el&&(t=document);return t.offsetHeight,this},remove:function(t){if(t&&t.parentNode)try{t.parentNode.removeChild(t)}catch(t){console.warn("The node is already removed",t)}return this},removeChild:function(t,i){e.isArrayLike(i)||(i=[i]);for(var n=0;n<i.length;n++)t.removeChild(i[n]);return this},replace:function(t,e){return e.parentNode.replaceChild(t,e),this},traverse:function t(e,i){i(e);for(var n=0,r=e.childNodes.length;n<r;n++)t(e.childNodes[n],i);return this},reverse:function(t){for(var e=t.firstChild,i=t.children.length-1;i>0;i--)if(i>0){var n=t.children[i];t.insertBefore(n,e)}},wrapper:function(t,i){e.isString(i)&&(i=this.createFragment(i).firstChild);t.parentNode.insertBefore(i,t),i.appendChild(t)},wrapperInner:function(t,e){var i=p.call(t.childNodes);t.appendChild(e);for(var n=0;n<i.length;n++)e.appendChild(i[n]);return this},unwrap:function(t){var e=t.parentNode;if(e){if(this.isDoc(e.parentNode))return;e.parentNode.insertBefore(t,e)}}}),t.attach("domx.noder",x)}),t("skylark-domx-noder/main",["./noder"],function(t){return t}),t("skylark-domx-noder",["skylark-domx-noder/main"],function(t){return t}),t("skylark-domx-finder/finder",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-browser","skylark-domx-noder"],function(t,e,n,r){var s={},o=Array.prototype.filter,a=Array.prototype.slice,l=n.matchesSelector;(function(){var t,e,i,n,r,s={},o={},a=/\\/g,l=function(i,r){if(null==i)return null;if(!0===i.Slick)return i;i=(""+i).replace(/^\s+|\s+$/g,"");var a=(n=!!r)?o:s;if(a[i])return a[i];for(t={Slick:!0,expressions:[],raw:i,reverse:function(){return l(this.raw,!0)}},e=-1;i!=(i=i.replace(f,p)););return t.length=t.expressions.length,a[t.raw]=n?c(t):t},h=function(t){return"!"===t?" ":" "===t?"!":/^!/.test(t)?t.replace(/^!/,""):"!"+t},c=function(t){for(var e=t.expressions,i=0;i<e.length;i++){for(var n=e[i],r={parts:[],tag:"*",combinator:h(n[0].combinator)},s=0;s<n.length;s++){var o=n[s];o.reverseCombinator||(o.reverseCombinator=" "),o.combinator=o.reverseCombinator,delete o.reverseCombinator}n.reverse().push(r)}return t},u=(r=/(?=[\-\[\]{}()*+?.\\\^$|,#\s])/g,function(t){return t.replace(r,"\\")}),f=new RegExp("^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:([\"'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)".replace(/<combinator>/,"["+u(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])"));function p(r,s,o,l,c,f,p,d,g,m,v,y,k,b,_,x){if((s||-1===e)&&(t.expressions[++e]=[],i=-1,s))return"";if(o||l||-1===i){o=o||" ";var w=t.expressions[e];n&&w[i]&&(w[i].reverseCombinator=h(o)),w[++i]={combinator:o,tag:"*"}}var P=t.expressions[e][i];if(c)P.tag=c.replace(a,"");else if(f)P.id=f.replace(a,"");else if(p)p=p.replace(a,""),P.classList||(P.classList=[]),P.classes||(P.classes=[]),P.classList.push(p),P.classes.push({value:p,regexp:new RegExp("(^|\\s)"+u(p)+"(\\s|$)")});else if(k)x=(x=x||_)?x.replace(a,""):null,P.pseudos||(P.pseudos=[]),P.pseudos.push({key:k.replace(a,""),value:x,type:1==y.length?"class":"element"});else if(d){var C,S;switch(d=d.replace(a,""),v=(v||"").replace(a,""),g){case"^=":S=new RegExp("^"+u(v));break;case"$=":S=new RegExp(u(v)+"$");break;case"~=":S=new RegExp("(^|\\s)"+u(v)+"(\\s|$)");break;case"|=":S=new RegExp("^"+u(v)+"(-|$)");break;case"=":C=function(t){return v==t};break;case"*=":C=function(t){return t&&t.indexOf(v)>-1};break;case"!=":C=function(t){return v!=t};break;default:C=function(t){return!!t}}""==v&&/^[*$^]=$/.test(g)&&(C=function(){return!1}),C||(C=function(t){return t&&S.test(t)}),P.attributes||(P.attributes=[]),P.attributes.push({key:d,operator:g,value:v,test:C})}return""}var d=this.Slick||{};d.parse=function(t){return l(t)},d.escapeRegExp=u,this.Slick||(this.Slick=d)}).apply(s);var h=/^(?:input|select|textarea|button)$/i,c=/^h\d$/i,a=Array.prototype.slice;s.parseSelector=s.Slick.parse;var u=s.pseudos={button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},checked:function(t){return!!t.checked},contains:function(t,e,i,n){if($(this).text().indexOf(n)>-1)return this},disabled:function(t){return!!t.disabled},enabled:function(t){return!t.disabled},eq:function(t,e,i,n){return e==n},even:function(t,e,i,n){return e%2==0},focus:function(t){return document.activeElement===t&&(t.href||t.type||t.tabindex)},focusable:function(t){return r.focusable(t,null!=t.tabindex)},first:function(t,e){return 0===e},gt:function(t,e,i,n){return e>n},has:function(t,e,i,n){return y(t,n)},header:function(t){return c.test(t.nodeName)},hidden:function(t){return!s.pseudos.visible(t)},input:function(t){return h.test(t.nodeName)},last:function(t,e,i){return e===i.length-1},lt:function(t,e,i,n){return e<n},not:function(t,e,i,n){return!_(t,n)},odd:function(t,e,i,n){return e%2==1},parent:function(t){return!!t.parentNode},selected:function(t){return!!t.selected},tabbable:function(t){var e=t.tabindex,i=null!=e;return(!i||e>=0)&&r.focusable(element,i)},text:function(t){return"text"===t.type},visible:function(t){return t.offsetWidth&&t.offsetWidth}};function f(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function p(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}for(i in["first","eq","last"].forEach(function(t){u[t].isArrayFilter=!0}),u.nth=u.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})u[i]=f(i);for(i in{submit:!0,reset:!0})u[i]=p(i);function d(t,i,n){for(var r=[],o=n&&e.isString(n);(t=t.parentNode)&&9!==t.nodeType;){if(n)if(o){if(_(t,n))break}else if(e.isArrayLike(n)){if(e.inArray(t,n)>-1)break}else if(t==n)break;r.push(t)}return i&&(r=s.filter(r,i)),r}function g(t,e){for(var i=t.childNodes,n=[],r=0;r<i.length;r++){var t=i[r];1==t.nodeType&&n.push(t)}return e&&(n=s.filter(n,e)),n}function m(t,e){try{return a.call(t.querySelectorAll(e))}catch(t){}return s.query(t,e)}function v(t,e){try{return t.querySelector(e)}catch(t){}var i=s.query(t,e);return i.length>0?i[0]:null}function y(t,e){return e||(e=t,t=document.body),_(t,e)?t:v(t,e)}function k(t,e,i){for(var n=t.childNodes,r=n[0];r;){if(1==r.nodeType){if(!e||_(r,e))return r;if(i)break}r=r.nextSibling}return null}function b(t,e,i){for(var n=t.childNodes,r=n[n.length-1];r;){if(1==r.nodeType){if(!e||_(r,e))return r;if(i)break}r=r.previousSibling}return null}function _(t,i){if(!i||!t||1!==t.nodeType)return!1;if(e.isString(i)){try{return l.call(t,i.replace(/\[([^=]+)=\s*([^'"\]]+?)\s*\]/g,'[$1="$2"]'))}catch(t){}return s.match(t,i)}return e.isArrayLike(i)?e.inArray(t,i)>-1:e.isPlainObject(i)?s.check(t,i):t===i}function x(t,e,i){for(var n=t.nextSibling;n;){if(1==n.nodeType){if(!e||_(n,e))return n;if(i)break}n=n.nextSibling}return null}function w(t,e){for(var i=t.nextSibling,n=[];i;)1==i.nodeType&&(e&&!_(i,e)||n.push(i)),i=i.nextSibling;return n}function P(t,e){var i=t.parentNode;return!i||e&&!_(i,e)?null:i}function C(t,e,i){for(var n=t.previousSibling;n;){if(1==n.nodeType){if(!e||_(n,e))return n;if(i)break}n=n.previousSibling}return null}function S(t,e){for(var i=t.previousSibling,n=[];i;)1==i.nodeType&&(e&&!_(i,e)||n.push(i)),i=i.previousSibling;return n}function E(t,e){for(var i=t.parentNode.firstChild,n=[];i;)1==i.nodeType&&i!==t&&(e&&!_(i,e)||n.push(i)),i=i.nextSibling;return n}s.divide=function(t){var e,i,n,r,s,o="",a=[];if((i=t.id)&&(o+="#"+i),n=t.classes)for(var l=n.length;l--;)o+="."+n[l].value;if(r=t.attributes)for(var l=0;l<r.length;l++)r[l].operator?o+="["+r[l].key+r[l].operator+JSON.stringify(r[l].value)+"]":o+="["+r[l].key+"]";if(s=t.pseudos)for(l=s.length;l--;)part=s[l],this.pseudos[part.key]?a.push(part):void 0!==part.value&&(o+=":"+part.key+"("+JSON.stringify(part));return(e=t.tag)&&"*"!==e&&(o=e.toUpperCase()+o),o||(o="*"),{nativeSelector:o,customPseudos:a}},s.check=function(t,e,i,n,r){var s,o,a,h,c,u,f,p,d;if(!r){if(s=e.tag){var g=t.nodeName.toUpperCase();if("*"==s){if(g<"@")return!1}else if(g!=(s||"").toUpperCase())return!1}if((o=e.id)&&t.getAttribute("id")!=o)return!1;if(a=e.classes)for(u=a.length;u--;)if(!(p=t.getAttribute("class"))||!a[u].regexp.test(p))return!1;if(h=e.attributes)for(u=h.length;u--;)if((f=h[u]).operator?!f.test(t.getAttribute(f.key)):!t.hasAttribute(f.key))return!1}if(c=e.pseudos)for(u=c.length;u--;)if(f=c[u],d=this.pseudos[f.key]){if((r&&d.isArrayFilter||!r&&!d.isArrayFilter)&&!d(t,i,n,f.value))return!1}else if(!r&&!l.call(t,f.key))return!1;return!0},s.match=function(t,i){var n;if(!(n=e.isString(i)?s.Slick.parse(i):i))return!0;var r,o,a=n.expressions,l=0;for(r=0;o=a[r];r++)if(1==o.length){var h=o[0];if(this.check(t,h))return!0;l++}if(l==n.length)return!1;var c,u=this.query(document,n);for(r=0;c=u[r++];)if(c===t)return!0;return!1},s.filterSingle=function(t,e){var i=o.call(t,function(i,n){return s.check(i,e,n,t,!1)});return i=o.call(i,function(t,n){return s.check(t,e,n,i,!0)})},s.filter=function(t,i){if(!e.isString(i))return s.filterSingle(t,i);var n,r,o=s.Slick.parse(i).expressions,a=[];for(n=0;r=o[n];n++){if(1!=r.length)throw new Error("not supported selector:"+i);var l=r[0],h=s.filterSingle(t,l);a=e.uniq(a.concat(h))}return a},s.combine=function(t,e){var i,n=e.combinator,r=e,l=[];switch(n){case">":l=g(t,r);break;case"+":(i=x(t,r,!0))&&l.push(i);break;case"^":(i=k(t,r,!0))&&l.push(i);break;case"~":l=w(t,r);break;case"++":var h=C(t,r,!0),c=x(t,r,!0);h&&l.push(h),c&&l.push(c);break;case"~~":l=E(t,r);break;case"!":l=d(t,r);break;case"!>":(i=P(t,r))&&l.push(i);break;case"!+":l=C(t,r,!0);break;case"!^":(i=b(t,r,!0))&&l.push(i);break;case"!~":l=S(t,r);break;default:var u=this.divide(e);if(l=a.call(t.querySelectorAll(u.nativeSelector)),u.customPseudos)for(var f=u.customPseudos.length-1;f>=0;f--)l=o.call(l,function(t,e){return s.check(t,{pseudos:[u.customPseudos[f]]},e,l,!1)}),l=o.call(l,function(t,e){return s.check(t,{pseudos:[u.customPseudos[f]]},e,l,!0)})}return l},s.query=function(t,i,n){for(var r,o,a=this.Slick.parse(i),l=[],h=a.expressions,c=0;r=h[c];c++){for(var u,f=[t],p=0;o=r[p];p++)(u=e.map(f,function(t,e){return s.combine(t,o)}))&&(f=u);u&&(l=l.concat(u))}return l};var z=function(){return z};return e.mixin(z,{ancestor:function(t,i,n){var r=n&&e.isString(n);for(;t=t.parentNode;){if(_(t,i))return t;if(n)if(r){if(_(t,n))break}else if(t==n)break}return null},ancestors:d,byId:function(t,e){return(e=e||r.doc()).getElementById(t)},children:g,closest:function(t,e){for(;t&&!_(t,e);)t=t.parentNode;return t},descendant:v,descendants:m,find:y,findAll:function(t,e){e||(e=t,t=document.body);return m(t,e)},firstChild:k,lastChild:b,matches:_,nextSibling:x,nextSiblings:w,parent:P,previousSibling:C,previousSiblings:S,pseudos:s.pseudos,siblings:E}),t.attach("domx.finder",z)}),t("skylark-domx-finder/main",["./finder"],function(t){return t}),t("skylark-domx-finder",["skylark-domx-finder/main"],function(t){return t}),t("skylark-domx-data/data",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-finder","skylark-domx-noder"],function(t,e,i,n){var r=Array.prototype.map,s=(Array.prototype.filter,e.camelCase),o=e.deserializeValue,a=/([A-Z])/g,l={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"};var h={option:{get:function(t){var e=t.getAttribute("value");return null!=e?e:(g(t).match(/[^\x20\t\r\n\f]+/g)||[]).join(" ")}},select:{get:function(t){var e,i,r,s=t.options,o=t.selectedIndex,a="select-one"===t.type,l=a?null:[],h=a?o+1:s.length;for(r=o<0?h:a?o:0;r<h;r++)if((i=s[r]).selected&&!i.disabled&&(!i.parentNode.disabled||!n.nodeName(i.parentNode,"optgroup"))){if(e=m(i),a)return e;l.push(e)}return l},set:function(t,i){for(var n,r,s=t.options,o=e.makeArray(i),a=s.length;a--;)((r=s[a]).selected=e.inArray(h.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}};function c(t,e,i){if(void 0!==i)return t.setAttribute(e,i),this;if("object"==typeof e){for(var n in e)c(t,n,e[n]);return this}return t.hasAttribute&&t.hasAttribute(e)?t.getAttribute(e):void 0}function u(t,i){var n=t._$_store;return!n&&i&&(n=t._$_store=function(t){var i={};return e.each(t.attributes||[],function(t,e){0==e.name.indexOf("data-")&&(i[s(e.name.replace("data-",""))]=o(e.value))}),i}(t)),n}function f(t,e,i){var n=u(t,!0);n[s(e)]=i}function p(t,e,i){if(void 0===i){if("object"==typeof e){for(var n in e)f(t,n,e[n]);return this}return function(t,e){if(void 0===e)return u(t,!0);var i=u(t);if(i){if(e in i)return i[e];var n=s(e);if(n in i)return i[n]}var r="data-"+e.replace(a,"-$1").toLowerCase();return c(t,r)}(t,e)}return f(t,e,i),this}function d(t){t._$_store&&delete t._$_store}function g(t,e){return void 0===e?t.textContent:(t.textContent=null==e?"":""+e,this)}function m(t,i){var n=h[t.type]||h[t.nodeName.toLowerCase()];if(void 0===i)return n&&"get"in n&&void 0!==(ret=n.get(t,"value"))?ret:(ret=t.value,"string"==typeof ret?ret.replace(/\r/g,""):null==ret?"":ret);null==i?i="":"number"==typeof i?i+="":e.isArray(i)&&(i=e.map(i,function(t){return null==t?"":t+""})),n&&"set"in n&&void 0!==n.set(t,i,"value")||(t.value=i)}function v(){return v}return e.each(["radio","checkbox"],function(){h[this]={set:function(t,i){if(e.isArray(i))return t.checked=e.inArray(m(t),i)>-1}}}),i.pseudos.data=function(t,e,i,n){return!!p(t,n||i[3])},e.mixin(v,{aria:function(t,e,i){return this.attr(t,"aria-"+e,i)},attr:c,cleanData:d,data:p,pluck:function(t,e){return r.call(t,function(t){return t[e]})},prop:function(t,e,i){return e=l[e]||e,void 0===i?t[e]:(t[e]=i,this)},removeAttr:function(t,e){return e.split(" ").forEach(function(e){!function(t,e,i){null==i?t.removeAttribute(e):t.setAttribute(e,i)}(t,e)}),this},removeData:function(t,i){if(i){e.isString(i)&&(i=i.split(/\s+/));var n=u(t,!0);i.forEach(function(t){delete n[t]})}else d(t);return this},removeProp:function(t,e){return e.split(" ").forEach(function(e){delete t[e]}),this},text:g,val:m,valHooks:h}),t.attach("domx.data",v)}),t("skylark-domx-query/query",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-noder","skylark-domx-finder"],function(t,e,i,n){var r,s=Array.prototype.some,o=Array.prototype.push,a=(Array.prototype.every,Array.prototype.concat,Array.prototype.slice),l=(Array.prototype.map,Array.prototype.filter),h=Array.prototype.forEach,c=Array.prototype.indexOf,u=Array.prototype.sort,f=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,p=e.funcArg,d=e.isArrayLike,g=e.isString,m=e.uniq,v=e.isFunction,y=e.type,k=(e.isArray,e.isWindow,e.isDocument,e.isObject);e.isPlainObject,e.compact,e.flatten,e.camelCase,e.dasherize,n.children;function b(t,n,r){return function(r){var s,o=e.map(arguments,function(t){return"function"==(s=y(t))||"object"==s||"array"==s||null==t?t:i.createFragment(t)});return o.length<1?this:(this.each(function(e){t.apply(n,[this,o,e>0])}),this)}}function _(t,i){return function(){var n=a.call(arguments),r=e.map(this,function(e,r){return t.apply(i,[e].concat(n))});return z(m(r))}}function x(t,e,i){return function(n){a.call(arguments);var r=this.map(function(r,s){return t.apply(e,i?[s]:[s,n])});return i&&n?r.filter(n):r}}function w(t,e,i){return function(n,r){a.call(arguments);var s=this.map(function(s,o){return t.apply(e,i?[o,n]:[o,r,n])});return i&&r?s.filter(r):s}}function P(t,e){return function(){var i=a.call(arguments);return this.each(function(n,r){t.apply(e,[this].concat(i))}),this}}function C(t,i,n){return function(r){return e.isDefined(r)?(h.call(this,function(e,s){var o;o=n?p(e,r,s,n(e)):r,t.apply(i,[e,o])}),this):this[0]?t.apply(i,[this[0]]):void 0}}var S,E=e.klass({klassName:"SkNodeList",init:function(t,r){var s,a,l,h;if(t&&(this.context=r=r||i.doc(),g(t)?(this.selector=t,(s="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:f.exec(t))?s[1]?(a=i.createFragment(t),e.isPlainObject(r)&&(h=r)):(l=n.byId(s[2],i.ownerDoc(r)))&&(a=[l]):(e.isString(r)&&(r=n.find(r)),a=n.descendants(r,t))):a=t!==window&&d(t)?t:[t]),a&&(o.apply(this,a),h))for(var c in h)e.isFunction(this[c])?this[c](h[c]):this.attr(c,h[c]);return this}}),z=function(){r=function(t){return t instanceof E},init=function(t,e){return new E(t,e)};var t=function(e,i){if(!v(e))return r(e)?e:i&&r(i)&&g(e)?i.find(e):init(e,i);t.ready(function(){e(t)})};t.fn=E.prototype,e.mixin(t.fn,{length:0,map:function(i){return t(m(e.map(this,function(t,e){return i.call(t,e,t)})))},slice:function(){return t(a.apply(this,arguments))},forEach:function(){return h.apply(this,arguments)},get:function(t){return void 0===t?a.call(this):this[t>=0?t:t+this.length]},indexOf:function(){return c.apply(this,arguments)},sort:function(){return u.apply(this,arguments)},toArray:function(){return a.call(this)},size:function(){return this.length},remove:function(t){return t?this.find(t).remove():(this.each(function(t,e){i.remove(e)}),this)},each:function(t){return e.each(this,t),this},filter:function(e){return v(e)?this.not(this.not(e)):t(l.call(this,function(t){return n.matches(t,e)}))},add:function(e,i){return t(m(this.toArray().concat(t(e,i).toArray())))},is:function(t){if(this.length>0){if(e.isString(t))return s.call(this,function(e){return n.matches(e,t)});if(e.isArrayLike(t))return s.call(this,function(i){return e.inArray(i,t)>-1});if(e.isHtmlNode(t))return s.call(this,function(e){return e==t})}return!1},not:function(e){var i=[];if(v(e)&&void 0!==e.call)this.each(function(t,n){e.call(this,t,n)||i.push(this)});else{var n="string"==typeof e?this.filter(e):d(e)&&v(e.item)?a.call(e):t(e);this.forEach(function(t){n.indexOf(t)<0&&i.push(t)})}return t(i)},has:function(e){return this.filter(function(){return k(e)?i.contains(this,e):t(this).find(e).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:x(n.descendants,n),closest:x(n.closest,n),parents:x(n.ancestors,n),parentsUntil:w(n.ancestors,n),parent:x(n.parent,n),children:x(n.children,n),contents:_(i.contents,i),empty:P(i.empty,i),html:C(i.html,i),pluck:function(t){return e.map(this,function(e){return e[t]})},pushStack:function(e){var i=t(e);return i.prevObject=this,i},replaceWith:function(t){return this.before(t).remove()},wrap:function(e){var i=v(e);if(this[0]&&!i)var n=t(e).get(0),r=n.parentNode||this.length>1;return this.each(function(s,o){t(this).wrapAll(i?e.call(this,s,o):r?n.cloneNode(!0):n)})},wrapAll:function(e){if(this[0]){var i;for(t(this[0]).before(e=t(e));(i=e.children()).length;)e=i.first();t(e).append(this)}return this},wrapInner:function(e){var i=v(e);return this.each(function(n,r){var s=t(this),o=s.contents(),a=i?e.call(this,n,r):e;o.length?o.wrapAll(a):s.append(a)})},unwrap:function(e){return 0===this.parent().children().length?this.parent(e).not("body").each(function(){t(this).replaceWith(document.createTextNode(this.childNodes[0].textContent))}):this.parent().each(function(){t(this).replaceWith(t(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},toggle:function(e){return this.each(function(){var i=t(this);(void 0===e?"none"==i.css("display"):e)?i.show():i.hide()})},prev:function(e){return t(this.pluck("previousElementSibling")).filter(e||"*")},prevAll:x(n.previousSiblings,n),next:function(e){return t(this.pluck("nextElementSibling")).filter(e||"*")},nextAll:x(n.nextSiblings,n),siblings:x(n.siblings,n),index:function(e){return e?this.indexOf(t(e)[0]):this.parent().children().indexOf(this[0])}}),t.fn.detach=t.fn.remove,t.fn.hover=function(t,e){return this.mouseenter(t).mouseleave(e||t)};i.traverse;return t.fn.after=b(i.after,i),t.fn.prepend=b(i.prepend,i),t.fn.before=b(i.before,i),t.fn.append=b(i.append,i),e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,i){t.fn[e]=function(e){for(var n,r=[],s=t(e),a=s.length-1,l=0;l<=a;l++)n=l===a?this:this.clone(!0),t(s[l])[i](n),o.apply(r,n.get());return this.pushStack(r)}}),t}();return(S=z).fn.scrollParent=function(t){var e=this.css("position"),i="absolute"===e,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=S(this);return(!i||"static"!==t.css("position"))&&n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&r.length?r:S(this[0].ownerDocument||document)},function(t){t.fn.end=function(){return this.prevObject||t()},t.fn.andSelf=function(){return this.add(this.prevObject||t())},t.fn.addBack=function(t){return this.prevObject?t?this.add(this.prevObject.filter(t)):this.add(this.prevObject):this},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings,prev,prevAll,next,nextAll".split(",").forEach(function(e){var i=t.fn[e];t.fn[e]=function(){var t=i.apply(this,arguments);return t.prevObject=this,t}})}(z),function(t){var s;t.fn.query=t.fn.find,t.fn.place=function(t,s){return e.isString(t)?t=n.descendant(t):r(t)&&(t=t[0]),this.each(function(e,n){switch(s){case"before":i.before(t,n);break;case"after":i.after(t,n);break;case"replace":i.replace(t,n);break;case"only":i.empty(t),i.append(t,n);break;case"first":i.prepend(t,n);break;default:i.append(t,n)}})},t.fn.addContent=function(t,i){return t.template&&(t=e.substitute(t.template,t)),this.append(t)},t.fn.disableSelection=(s="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(s+".ui-disableSelection",function(t){t.preventDefault()})}),t.fn.enableSelection=function(){return this.off(".ui-disableSelection")},t.fn.reflow=function(){return i.flow(this[0])},t.fn.isBlockNode=function(){return i.isBlockNode(this[0])}}(z),z.fn.plugin=function(t,e){var i=a.call(arguments,1),n=this,r=this;return this.each(function(){r=plugins.instantiate.apply(n,[this,t].concat(i))}),r},z.wraps={wrapper_node_operation:b,wrapper_map:_,wrapper_value:C,wrapper_selector:x,wrapper_some_chk:function(t,e){return function(){var i=a.call(arguments);return s.call(this,function(n){return t.apply(e,[n].concat(i))})}},wrapper_selector_until:w,wrapper_every_act_firstArgFunc:function(t,e,i){return function(n){var r=a.call(arguments);return h.call(this,function(s,o){p(s,n,o,i(s));t.apply(e,[s,n].concat(r.slice(1)))}),this}},wrapper_every_act:P,wrapper_name_value:function(t,i,n){return function(r,s){var o=a.call(arguments);return e.isPlainObject(r)||e.isDefined(s)?(h.call(this,function(e,a){n&&p(e,s,a,n(e,r)),t.apply(i,[e].concat(o))}),this):this[0]?t.apply(i,[this[0],r]):void 0}}},t.attach("domx.query",z)}),t("skylark-domx-query/main",["./query"],function(t){return t}),t("skylark-domx-query",["skylark-domx-query/main"],function(t){return t}),t("skylark-domx-velm/velm",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-noder","skylark-domx-finder","skylark-domx-query"],function(t,e,i,n,r){var s=Array.prototype.map,o=Array.prototype.slice,a=e.klass({klassName:"VisualElement",_construct:function(t){e.isString(t)&&(t="<"===t.charAt(0)?i.createFragment(t)[0]:document.getElementById(t)),this._elm=t}});a.prototype.$=a.prototype.query=function(t){return r(t,this._elm)},a.prototype.elm=function(){return this._elm};var l=new a(document.body),h=function(t){return t?new a(t):l};return e.mixin(h,{batch:function(t,e,i){return t.forEach(function(t){var n=t instanceof a?t:h(t);n[e].apply(n,i)}),this},root:new a(document.body),VisualElement:a,partial:function(t,e){var i={};i[t]=e,a.partial(i)},delegate:function(t,i){var n={};t.forEach(function(t){n[t]=function(t,i){return function(){var n=this._elm,r=t.apply(i,[n].concat(o.call(arguments)));if(r){if(r===i)return this;r instanceof HTMLElement?r=new a(r):e.isArrayLike(r)&&(r=s.call(r,function(t){return t instanceof HTMLElement?new a(t):t}))}return r}}(i[t],i)}),a.partial(n)}}),h.delegate(["ancestor","ancestors","children","descendant","find","findAll","firstChild","lastChild","matches","nextSibling","nextSiblings","parent","previousSibling","previousSiblings","siblings"],n),h.find=function(t){return"body"===t?this.root:this.root.descendant(t)},h.delegate(["after","append","before","clone","contains","contents","empty","html","isChildOf","isDocument","isInDocument","isWindow","ownerDoc","prepend","remove","removeChild","replace","reverse","throb","traverse","wrapper","wrapperInner","unwrap"],i),t.attach("domx.velm",h)}),t("skylark-domx-velm/main",["./velm"],function(t){return t}),t("skylark-domx-velm",["skylark-domx-velm/main"],function(t){return t}),t("skylark-domx-data/main",["./data","skylark-domx-velm","skylark-domx-query"],function(t,e,i){return e.delegate(["attr","data","prop","removeAttr","removeData","text","val"],t),i.fn.text=i.wraps.wrapper_value(t.text,t,t.text),i.fn.attr=i.wraps.wrapper_name_value(t.attr,t,t.attr),i.fn.removeAttr=i.wraps.wrapper_every_act(t.removeAttr,t),i.fn.prop=i.wraps.wrapper_name_value(t.prop,t,t.prop),i.fn.removeProp=i.wraps.wrapper_every_act(t.removeProp,t),i.fn.data=i.wraps.wrapper_name_value(t.data,t,t.data),i.fn.removeData=i.wraps.wrapper_every_act(t.removeData,t),i.fn.val=i.wraps.wrapper_value(t.val,t,t.val),t}),t("skylark-domx-data",["skylark-domx-data/main"],function(t){return t}),t("skylark-domx-eventer/eventer",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-browser","skylark-domx-finder","skylark-domx-noder","skylark-domx-data"],function(t,e,i,n,r,s){e.mixin,e.each,Array.prototype.slice;var o=e.uid,a=/^([A-Z]|returnValue$|layer[XY]$)/,l={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},h=/complete|loaded|interactive/;function c(t,i){return!i&&t.isDefaultPrevented||(i||(i=t),e.each(l,function(n,r){var s=i[n];t[n]=function(){return this[r]=e.returnTrue,s&&s.apply(i,arguments)},t[r]=e.returnFalse})),t}function u(t){var e=(""+t).split(".");return{type:e[0],ns:e.slice(1).sort().join(" ")}}var f=function(){var t=[window.CustomEvent,window.CompositionEvent,window.DragEvent,window.Event,window.FocusEvent,window.KeyboardEvent,window.MessageEvent,window.MouseEvent,window.MouseScrollEvent,window.MouseWheelEvent,window.MutationEvent,window.ProgressEvent,window.TextEvent,window.TouchEvent,window.UIEvent,window.WheelEvent,window.ClipboardEvent],i={compositionstart:1,compositionend:1,compositionupdate:1,beforecopy:16,beforecut:16,beforepaste:16,copy:16,cut:16,paste:16,drag:2,dragend:2,dragenter:2,dragexit:2,dragleave:2,dragover:2,dragstart:2,drop:2,abort:3,change:3,error:3,selectionchange:3,submit:3,reset:3,focus:4,blur:4,focusin:4,focusout:4,keydown:5,keypress:5,keyup:5,message:6,click:7,contextmenu:7,dblclick:7,mousedown:7,mouseup:7,mousemove:7,mouseover:7,mouseout:7,mouseenter:7,mouseleave:7,textInput:12,touchstart:13,touchmove:13,touchend:13,load:14,resize:14,select:14,scroll:14,unload:14,wheel:15};return function(n,r){e.isString(n)?r=r||{}:n=(r=n||{}).type||"";var s=u(n);n=s.type,r=e.mixin({bubbles:!0,cancelable:!0},r),s.ns&&(r.namespace=s.ns);var o=function(e){var n=i[e];n||(n=0);return t[n]}(n),a=new o(n,r);return e.safeMixin(a,r),c(a)}}();function p(t,i){var n,r={originalEvent:t};for(n in t)"keyIdentifier"===n||a.test(n)||void 0===t[n]||(r[n]=t[n]);return i&&e.mixin(r,i),c(r,t)}var d={},g="onfocusin"in window,m={focus:"focusin",blur:"focusout"},v={mouseenter:"mouseover",mouseleave:"mouseout"},y=function(t){return v[t]||g&&m[t]||t},k={},b=e.klass({init:function(t,e){this._target=t,this._event=e,this._bindings=[]},add:function(t,i){var s=this._bindings,o={fn:t,options:e.mixin({},i)};s.push(o);var a=this;if(!a._listener){a._listener=function(t){var i=this,s=p(t),o=t._args,l=a._bindings,h=s.namespace;o=e.isDefined(o)?[s].concat(o):[s],e.each(l,function(t,l){var c=i;if(s.isImmediatePropagationStopped&&s.isImmediatePropagationStopped())return!1;var u=l.fn,f=l.options||{},p=f.selector,d=f.one,g=f.data;if(!h||h==f.ns||-1!==f.ns.indexOf(h)){if(p){if(!(c=n.closest(s.target,p))||c===i)return;e.mixin(s,{currentTarget:c,liveFired:i})}var m=a._event;if(m in v){var y=s.relatedTarget;if(y&&(y===c||r.contains(c,y)))return}e.isDefined(g)&&(s.data=g),d&&a.remove(u,f);var k=u.apply(c,o);!1===k&&(s.preventDefault(),s.stopPropagation())}})};var l=a._event;a._target.addEventListener?a._target.addEventListener(y(l),a._listener,!1):console.warn("invalid eventer object",a._target)}},remove:function(t,i){var n,r;(i=e.mixin({},i)).ns&&(r=i.ns,n=new RegExp("(?:^| )"+r.replace(" "," .* ?")+"(?: |$)")),this._bindings=this._bindings.filter(function(e){var r=(!t||t===e.fn)&&(!n||n.test(e.options.ns))&&(!i.selector||i.selector==e.options.selector);return!r}),0==this._bindings.length&&(this._target.removeEventListener&&this._target.removeEventListener(y(this._event),this._listener,!1),this._listener=null)}}),_=e.klass({init:function(t){this._target=t,this._handler={}},register:function(t,i,n){var r=u(t),t=r.type,s=d[t],o=s&&(s.bindType||s.bindEventName),a=this._handler;void 0===a[t]&&(a[t]=new b(this._target,o||t)),a[t].add(i,e.mixin({ns:r.ns},n))},unregister:function(t,i,n){var r=this._handler,s=u(t);if(t=s.type){var o=r[t];o&&o.remove(i,e.mixin({ns:s.ns},n))}else for(t in r){var o=r[t];o.remove(i,e.mixin({ns:s.ns},n))}}}),x=function(t){var e=o(t),i=k[e];return i||(i=k[e]=new _(t)),i};function w(t,i,n,r,s,o){if(e.isPlainObject(i))return e.each(i,function(e,i){w(t,e,n,r,i,o)}),this;e.isString(n)||e.isFunction(s)||(s=r,r=n,n=void 0),e.isFunction(r)&&(s=r,r=void 0),!1===s&&(s=e.returnFalse),"string"==typeof i&&(i=i.indexOf(",")>-1?i.split(","):i.split(/\s/));var a=x(t);return i.forEach(function(t){if("ready"==t)return P(s);a.register(t,s,{data:r,selector:n,one:!!o})}),this}function P(t){return h.test(document.readyState)&&document.body?e.defer(t):document.addEventListener("DOMContentLoaded",t,!1),this}var C={backspace:8,comma:188,delete:46,down:40,end:35,enter:13,escape:27,home:36,left:37,page_down:34,page_up:33,period:190,right:39,space:32,tab:9,up:38};function S(){return S}return i.support.transition&&(d.transitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end}),e.mixin(S,{create:f,keys:C,off:function t(i,n,r,s){if(e.isPlainObject(n))return e.each(n,function(e,n){t(i,e,r,n)}),this;e.isString(r)||e.isFunction(s)||!1===s||(s=r,r=void 0);!1===s&&(s=e.returnFalse);"string"==typeof n&&(n=n.indexOf(",")>-1?n.split(","):n.split(/\s/));var o=x(i);n&&n.forEach(function(t){o.unregister(t,s,{selector:r})});return this},on:w,one:function(t,e,i,n,r){return w(t,e,i,n,r,1),this},proxy:p,ready:P,shortcuts:function(t){var e=s.data(t,"shortcuts");if(!e){e={},s.data(t,"shortcuts",e);var i=function(t,e){var i=e.metaKey||e.ctrlKey;if(t.ctrl==i&&t.alt==e.altKey&&t.shift==e.shiftKey&&(e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode))return e.preventDefault(),"keydown"==e.type&&t.fn(e),!0};w(t,"keyup keypress keydown",function(t){if(!/INPUT|TEXTAREA/.test(t.target.nodeName))for(var n in e)i(e[n],t)})}return{add:function(t,i){(t.indexOf(",")>-1?t.toLowerCase().split(","):t.toLowerCase().split(" ")).forEach(function(t){var n={fn:i,alt:!1,ctrl:!1,shift:!1};t.split("+").forEach(function(t){switch(t){case"alt":case"ctrl":case"shift":n[t]=!0;break;default:n.charCode=t.charCodeAt(0),n.keyCode=C[t]||t.toUpperCase().charCodeAt(0)}});var r=(n.ctrl?"ctrl":"")+","+(n.alt?"alt":"")+","+(n.shift?"shift":"")+","+n.keyCode;e[r]=n})}}},special:d,stop:function(t){window.document.all&&(t.keyCode=0);t.preventDefault&&(t.preventDefault(),t.stopPropagation());return this},trigger:function(t,e,i){var n;n=e instanceof Event?e:f(e,i);n._args=i;var r=t.dispatchEvent||t.trigger;r?r.call(t,n):console.warn("The evented parameter is not a eventable object");return this}}),t.attach("domx.eventer",S)}),t("skylark-domx-eventer/main",["skylark-langx/langx","./eventer","skylark-domx-velm","skylark-domx-query"],function(t,e,i,n){i.delegate(["off","on","one","shortcuts","trigger"],e);return["keyUp","keyDown","mouseOver","mouseOut","click","dblClick","change"].forEach(function(t){var e=t;i.VisualElement.prototype[e]=function(e){return this.on(t.toLowerCase(),e),this}}),n.fn.on=n.wraps.wrapper_every_act(e.on,e),n.fn.off=n.wraps.wrapper_every_act(e.off,e),n.fn.trigger=n.wraps.wrapper_every_act(e.trigger,e),"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error transitionEnd".split(" ").forEach(function(t){n.fn[t]=function(e,i){return 0 in arguments?this.on(t,e,i):this.trigger(t)}}),n.fn.one=function(e,i,n,r){return t.isString(i)||t.isFunction(r)||(r=n,n=i,i=null),t.isFunction(n)&&(r=n,n=null),this.on(e,i,n,r,1)},n.ready=e.ready,e}),t("skylark-domx-eventer",["skylark-domx-eventer/main"],function(t){return t}),t("skylark-domx-styler/styler",["skylark-langx/skylark","skylark-langx/langx"],function(t,e){Array.prototype.every;var i=Array.prototype.forEach,n=e.camelCase,r=e.dasherize;function s(t,e){return"number"!=typeof e||o[r(t)]?e:e+"px"}var o={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},a={};function l(t){return t in a?a[t]:a[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function h(t,e){var i=t.className||"",n=i&&void 0!==i.baseVal;if(void 0===e)return n?i.baseVal:i;n?i.baseVal=e:t.className=e}var c={};function u(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=window),e.getComputedStyle(t)}var f=function(){return f};return e.mixin(f,{autocssfix:!1,cssHooks:{},addClass:function(t,i){if(!i)return this;var n,r=h(t);n=e.isString(i)?i.split(/\s+/g):i;return n.forEach(function(t){var e=l(t);r.match(e)||(r+=(r?" ":"")+t)}),h(t,r),this},className:h,css:function(t,o,a){if(arguments.length<3){var l=u(t);if(e.isString(o))return t.style[n(o)]||l.getPropertyValue(r(o));if(e.isArrayLike(o)){var h={};return i.call(o,function(e){h[e]=t.style[n(e)]||l.getPropertyValue(r(e))}),h}}var c="";if("string"==typeof o)a||0===a?c=r(o)+":"+s(o,a):t.style.removeProperty(r(o));else for(key in o)void 0!==o[key]&&(o[key]||0===o[key]?c+=r(key)+":"+s(key,o[key])+";":t.style.removeProperty(r(key)));return t.style.cssText+=";"+c,this},disabled:function(t,e){if(arguments.length<2)return!!this.dom.disabled;return t.disabled=e,this},hasClass:function(t,e){var i=l(e);return t.className&&t.className.match(i)},hide:function(t){return f.css(t,"display","none"),this},isInvisible:function(t){return"none"==f.css(t,"display")||0==f.css(t,"opacity")},removeClass:function(t,i){if(i){var n=h(t);(e.isString(i)?i.split(/\s+/g):i).forEach(function(t){var e=l(t);n.match(e)&&(n=n.replace(e," "))}),h(t,n.trim())}else h(t,"");return this},show:function(t){f.css(t,"display",""),"none"==f.css(t,"display")&&f.css(t,"display",function(t){var e,i;c[t]||(e=document.createElement(t),document.body.appendChild(e),i=u(e).getPropertyValue("display"),e.parentNode.removeChild(e),"none"==i&&(i="block"),c[t]=i);return c[t]}(t.nodeName));return this},toggleClass:function(t,e,i){var n=this;return e.split(/\s+/g).forEach(function(e){void 0===i&&(i=!n.hasClass(t,e)),i?n.addClass(t,e):n.removeClass(t,e)}),n}}),t.attach("domx.styler",f)}),t("skylark-domx-styler/main",["./styler","skylark-domx-velm","skylark-domx-query"],function(t,e,i){e.delegate(["addClass","className","css","hasClass","hide","isInvisible","removeClass","show","toggleClass"],t);return["position","left","top","right","bottom","width","height","border","borderLeft","borderTop","borderRight","borderBottom","borderColor","display","overflow","margin","marginLeft","marginTop","marginRight","marginBottom","padding","paddingLeft","paddingTop","paddingRight","paddingBottom","color","background","backgroundColor","opacity","fontSize","fontWeight","textAlign","textDecoration","textTransform","cursor","zIndex"].forEach(function(t){var i=t;e.VisualElement.prototype[i]=function(e){return this.css(t,e),this}}),i.fn.style=i.wraps.wrapper_name_value(t.css,t),i.fn.css=i.wraps.wrapper_name_value(t.css,t),i.fn.hasClass=i.wraps.wrapper_some_chk(t.hasClass,t),i.fn.addClass=i.wraps.wrapper_every_act_firstArgFunc(t.addClass,t,t.className),i.fn.removeClass=i.wraps.wrapper_every_act_firstArgFunc(t.removeClass,t,t.className),i.fn.toggleClass=i.wraps.wrapper_every_act_firstArgFunc(t.toggleClass,t,t.className),i.fn.replaceClass=function(t,e){return this.removeClass(e),this.addClass(t),this},i.fn.replaceClass=function(t,e){return this.removeClass(e),this.addClass(t),this},t}),t("skylark-domx-styler",["skylark-domx-styler/main"],function(t){return t}),t("skylark-domx-geom/geom",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-noder","skylark-domx-styler"],function(t,e,i,n){var r,s=/^(?:body|html)$/i,o=e.toPixel,a=i.offsetParent;function l(){if(void 0!==r)return r;var t,e,s=i.createFragment("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>")[0],o=s.childNodes[0];return i.append(document.body,s),t=o.offsetWidth,n.css(s,"overflow","scroll"),e=o.offsetWidth,t===e&&(e=s[0].clientWidth),i.remove(s),r=t-e}function h(t){if(i.isWindow(t))return{left:0,top:0,right:0,bottom:0};var e=getComputedStyle(t);return{left:o(e.borderLeftWidth,t),top:o(e.borderTopWidth,t),right:o(e.borderRightWidth,t),bottom:o(e.borderBottomWidth,t)}}function c(t,e){if(void 0===e)return s.test(t.nodeName)?{top:0,left:0}:t.getBoundingClientRect();var i=a(t),n=c(i),r=d(t),o=h(i);return y(t,{top:e.top-n.top-r.top-o.top,left:e.left-n.left-r.left-o.left}),this}function u(t,e){return void 0===e?t.getBoundingClientRect():(c(t,e),x(t,e),this)}function f(t,e){if(void 0==e)return{width:t.clientWidth,height:t.clientHeight};var i="border-box"===n.css(t,"box-sizing"),r={width:e.width,height:e.height};if(i){var s=h(t);void 0!==r.width&&(r.width=r.width+s.left+s.right),void 0!==r.height&&(r.height=r.height+s.top+s.bottom)}else{var o=m(t);void 0!==r.width&&(r.width=r.width-o.left-o.right),void 0!==r.height&&(r.height=r.height-o.top-o.bottom)}return n.css(t,r),this}function p(t){var e=t.documentElement,i=t.body,n=Math.max,r=n(e.scrollWidth,i.scrollWidth),s=n(e.clientWidth,i.clientWidth),o=n(e.offsetWidth,i.offsetWidth),a=n(e.scrollHeight,i.scrollHeight),l=n(e.clientHeight,i.clientHeight),h=n(e.offsetHeight,i.offsetHeight);return{width:r<o?s:r,height:a<h?l:a}}function d(t){if(i.isWindow(t))return{left:0,top:0,right:0,bottom:0};var e=getComputedStyle(t);return{left:o(e.marginLeft),top:o(e.marginTop),right:o(e.marginRight),bottom:o(e.marginBottom)}}function g(t){var e=x(t),i=d(t);return{width:e.width+i.left+i.right,height:e.height+i.top+i.bottom}}function m(t){if(i.isWindow(t))return{left:0,top:0,right:0,bottom:0};var e=getComputedStyle(t);return{left:o(e.paddingLeft),top:o(e.paddingTop),right:o(e.paddingRight),bottom:o(e.paddingBottom)}}function v(t,e){if(void 0===e){var i=t.getBoundingClientRect();return{left:i.left+window.pageXOffset,top:i.top+window.pageYOffset}}var n=a(t),r=v(n),s=d(t),o=h(n);return y(t,{top:e.top-r.top-s.top-o.top,left:e.left-r.left-s.left-o.left}),this}function y(t,e){if(void 0==e){var i=a(t),r=c(t),s=c(i),o=(d(t),h(i));return{top:r.top-s.top-o.top,left:r.left-s.left-o.left}}var l={top:e.top,left:e.left};return"static"==n.css(t,"position")&&(l.position="relative"),n.css(t,l),this}function k(t,e){if(void 0===e){var i=a(t),n=u(t),r=c(i),s=(d(t),h(i));return{top:n.top-r.top-s.top,left:n.left-r.left-s.left,width:n.width,height:n.height}}return y(t,e),x(t,e),this}function b(t,e){9===t.nodeType&&(t=t.defaultView);var i="scrollLeft"in t;return void 0===e?i?t.scrollLeft:t.pageXOffset:(i?t.scrollLeft=e:t.scrollTo(e,t.scrollY),this)}function _(t,e){9===t.nodeType&&(t=t.defaultView);var i="scrollTop"in t;return void 0===e?i?t.scrollTop:t.pageYOffset:(i?t.scrollTop=e:t.scrollTo(t.scrollX,e),this)}function x(t,i){if(void 0==i)return e.isWindow(t)?{width:t.innerWidth,height:t.innerHeight}:e.isDocument(t)?p(document):{width:t.offsetWidth,height:t.offsetHeight};var r="border-box"===n.css(t,"box-sizing"),s={width:i.width,height:i.height};if(!r){var o=m(t),a=h(t);void 0!==s.width&&""!==s.width&&null!==s.width&&(s.width=s.width-o.left-o.right-a.left-a.right),void 0!==s.height&&""!==s.height&&null!==s.height&&(s.height=s.height-o.top-o.bottom-a.top-a.bottom)}return n.css(t,s),this}function w(){return w}return e.mixin(w,{borderExtents:h,boundingPosition:c,boundingRect:u,clientHeight:function(t,e){return void 0==e?f(t).height:f(t,{height:e})},clientSize:f,clientWidth:function(t,e){return void 0==e?f(t).width:(f(t,{width:e}),this)},contentRect:function(t){var e=f(t),i=m(t);return{left:i.left,top:i.top,width:e.width-i.left-i.right,height:e.height-i.top-i.bottom}},getDocumentSize:p,height:function(t,e){return void 0==e?x(t).height:(x(t,{height:e}),this)},marginExtents:d,marginRect:function(t){var e=k(t),i=d(t);return{left:e.left,top:e.top,width:e.width+i.left+i.right,height:e.height+i.top+i.bottom}},marginSize:g,offsetParent:a,paddingExtents:m,pagePosition:v,pageRect:function(t,e){if(void 0===e){var i=t.getBoundingClientRect();return{left:i.left+window.pageXOffset,top:i.top+window.pageYOffset,width:Math.round(i.width),height:Math.round(i.height)}}return v(t,e),x(t,e),this},relativePosition:y,relativeRect:k,scrollbarWidth:l,scrollIntoView:function(t,e){var i,n,r,s,o,a,l=t.parentNode,h=function(t,e){var i,n,r=t;i=n=0;for(;r&&r!=e&&r.nodeType;)i+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:i,y:n}}(t,l);i=h.x,n=h.y,r=t.offsetWidth,s=t.offsetHeight,o=l.clientWidth,a=l.clientHeight,"end"==e?(i-=o-r,n-=a-s):"center"==e&&(i-=o/2-r/2,n-=a/2-s/2);return l.scrollLeft=i,l.scrollTop=n,this},scrollLeft:b,scrollTop:_,size:x,width:function(t,e){return void 0==e?x(t).width:(x(t,{width:e}),this)}}),function(){var t=Math.max,r=Math.abs,s=/left|center|right/,o=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,c=/%$/;function u(t,e,i){return[parseFloat(t[0])*(c.test(t[0])?e/100:1),parseFloat(t[1])*(c.test(t[1])?i/100:1)]}function f(t,e){return parseInt(n.css(t,e),10)||0}var p={fit:{left:function(e,i){var n,r=i.within,s=r.isWindow?r.scrollLeft:r.offset.left,o=r.width,a=e.left-i.collisionPosition.marginLeft,l=s-a,h=a+i.collisionWidth-o-s;i.collisionWidth>o?l>0&&h<=0?(n=e.left+l+i.collisionWidth-o-s,e.left+=l-n):e.left=h>0&&l<=0?s:l>h?s+o-i.collisionWidth:s:l>0?e.left+=l:h>0?e.left-=h:e.left=t(e.left-a,e.left)},top:function(e,i){var n,r=i.within,s=r.isWindow?r.scrollTop:r.offset.top,o=i.within.height,a=e.top-i.collisionPosition.marginTop,l=s-a,h=a+i.collisionHeight-o-s;i.collisionHeight>o?l>0&&h<=0?(n=e.top+l+i.collisionHeight-o-s,e.top+=l-n):e.top=h>0&&l<=0?s:l>h?s+o-i.collisionHeight:s:l>0?e.top+=l:h>0?e.top-=h:e.top=t(e.top-a,e.top)}},flip:{left:function(t,e){var i,n,s=e.within,o=s.offset.left+s.scrollLeft,a=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-a-l,f="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,d=-2*e.offset[0];c<0?((i=t.left+f+p+d+e.collisionWidth-a-o)<0||i<r(c))&&(t.left+=f+p+d):u>0&&((n=t.left-e.collisionPosition.marginLeft+f+p+d-l)>0||r(n)<u)&&(t.left+=f+p+d)},top:function(t,e){var i,n,s=e.within,o=s.offset.top+s.scrollTop,a=s.height,l=s.isWindow?s.scrollTop:s.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-a-l,f="top"===e.my[1],p=f?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,d="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];c<0?((n=t.top+p+d+g+e.collisionHeight-a-o)<0||n<r(c))&&(t.top+=p+d+g):u>0&&((i=t.top-e.collisionPosition.marginTop+p+d+g-l)>0||r(i)<u)&&(t.top+=p+d+g)}},flipfit:{left:function(){p.flip.left.apply(this,arguments),p.fit.left.apply(this,arguments)},top:function(){p.flip.top.apply(this,arguments),p.fit.top.apply(this,arguments)}}};w.posit=function(c,d){var m,y,k,w,P,C,S=(d=e.extend({},d)).of,E=(A=d.within,I=A||window,H=i.isWindow(I),O=!!I&&9===I.nodeType,D=!H&&!O,W=g(I),{element:I,isWindow:H,isDocument:O,offset:D?v(A):{left:0,top:0},scrollLeft:b(I),scrollTop:_(I),width:W.width,height:W.height}),z=function(t){var e=t.isWindow||t.isDocument?"":n.css(t.element,"overflow-x"),i=t.isWindow||t.isDocument?"":n.css(t.element,"overflow-y"),r="scroll"===e||"auto"===e&&t.width<scrollWidth(t.element);return{width:"scroll"===i||"auto"===i&&t.height<scrollHeight(t.element)?l():0,height:r?l():0}}(E),T=(d.collision||"flip").split(" "),N={};var A,I,H,O,D,W;j=S,C=9===j.nodeType?{size:x(j),offset:{top:0,left:0}}:i.isWindow(j)?{size:x(j),offset:{top:_(j),left:b(j)}}:j.preventDefault?{size:{width:0,height:0},offset:{top:j.pageY,left:j.pageX}}:{size:x(j),offset:v(j)},S.preventDefault&&(d.at="left top");var j;y=C.size.width,k=C.size.height,w=C.offset,P=e.extend({},w),e.each(["my","at"],function(){var t,e,i=(d[this]||"").split(" ");1===i.length&&(i=s.test(i[0])?i.concat(["center"]):o.test(i[0])?["center"].concat(i):["center","center"]),i[0]=s.test(i[0])?i[0]:"center",i[1]=o.test(i[1])?i[1]:"center",t=a.exec(i[0]),e=a.exec(i[1]),N[this]=[t?t[0]:0,e?e[0]:0],d[this]=[h.exec(i[0])[0],h.exec(i[1])[0]]}),1===T.length&&(T[1]=T[0]);"right"===d.at[0]?P.left+=y:"center"===d.at[0]&&(P.left+=y/2);"bottom"===d.at[1]?P.top+=k:"center"===d.at[1]&&(P.top+=k/2);return m=u(N.at,y,k),P.left+=m[0],P.top+=m[1],function(i){var n,s,o=g(i),a=o.width,l=o.height,h=f(i,"marginLeft"),c=f(i,"marginTop"),b=a+h+f(i,"marginRight")+z.width,_=l+c+f(i,"marginBottom")+z.height,x=e.extend({},P),C=u(N.my,o.width,o.height);"right"===d.my[0]?x.left-=a:"center"===d.my[0]&&(x.left-=a/2),"bottom"===d.my[1]?x.top-=l:"center"===d.my[1]&&(x.top-=l/2),x.left+=C[0],x.top+=C[1],n={marginLeft:h,marginTop:c},e.each(["left","top"],function(t,e){p[T[t]]&&p[T[t]][e](x,{targetWidth:y,targetHeight:k,elemWidth:a,elemHeight:l,collisionPosition:n,collisionWidth:b,collisionHeight:_,offset:[m[0]+C[0],m[1]+C[1]],my:d.my,at:d.at,within:E,elem:i})}),d.using&&(s=function(e){var n=w.left-x.left,s=n+y-a,o=w.top-x.top,h=o+k-l,c={target:{element:S,left:w.left,top:w.top,width:y,height:k},element:{element:i,left:x.left,top:x.top,width:a,height:l},horizontal:s<0?"left":n>0?"right":"center",vertical:h<0?"top":o>0?"bottom":"middle"};y<a&&r(n+s)<y&&(c.horizontal="center"),k<l&&r(o+h)<k&&(c.vertical="middle"),t(r(n),r(s))>t(r(o),r(h))?c.important="horizontal":c.important="vertical",d.using.call(this,e,c)}),v(i,e.extend(x,{using:s}))}(c)}}(),t.attach("domx.geom",w)}),t("skylark-domx-geom/main",["skylark-langx/langx","./geom","skylark-domx-velm","skylark-domx-query"],function(t,e,i,n){return i.delegate(["borderExtents","boundingPosition","boundingRect","clientHeight","clientSize","clientWidth","contentRect","height","marginExtents","offsetParent","paddingExtents","pagePosition","pageRect","relativePosition","relativeRect","scrollIntoView","scrollLeft","scrollTop","size","width"],e),n.fn.offset=n.wraps.wrapper_value(e.pagePosition,e,e.pagePosition),n.fn.scrollTop=n.wraps.wrapper_value(e.scrollTop,e),n.fn.scrollLeft=n.wraps.wrapper_value(e.scrollLeft,e),n.fn.position=function(i){if(!this.length)return this;if(i)return i.of&&i.of.length&&((i=t.clone(i)).of=i.of[0]),this.each(function(){e.posit(this,i)});var n=this[0];return e.relativePosition(n)},n.fn.offsetParent=n.wraps.wrapper_map(e.offsetParent,e),n.fn.size=n.wraps.wrapper_value(e.size,e),n.fn.width=n.wraps.wrapper_value(e.width,e,e.width),n.fn.height=n.wraps.wrapper_value(e.height,e,e.height),n.fn.clientSize=n.wraps.wrapper_value(e.clientSize,e.clientSize),["width","height"].forEach(function(t){var i=t.replace(/./,function(t){return t[0].toUpperCase()});n.fn["outer"+i]=function(i,n){if(arguments.length?"boolean"!=typeof i&&(n=i,i=!1):(i=!1,n=void 0),void 0===n){var r=this[0];if(!r)return;var s=e.size(r);if(i){var o=e.marginExtents(r);s.width=s.width+o.left+o.right,s.height=s.height+o.top+o.bottom}return"width"===t?s.width:s.height}return this.each(function(r,s){var o={},a=e.marginExtents(s);"width"===t?(o.width=n,i&&(o.width=o.width-a.left-a.right)):(o.height=n,i&&(o.height=o.height-a.top-a.bottom)),e.size(s,o)})}}),n.fn.innerWidth=n.wraps.wrapper_value(e.clientWidth,e,e.clientWidth),n.fn.innerHeight=n.wraps.wrapper_value(e.clientHeight,e,e.clientHeight),e}),t("skylark-domx-geom",["skylark-domx-geom/main"],function(t){return t}),t("skylark-domx-fx/fx",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-browser","skylark-domx-noder","skylark-domx-geom","skylark-domx-styler","skylark-domx-eventer"],function(t,e,i,n,r,s,o){var a,l,h,c,u,f,p,d=i.normalizeCssEvent("AnimationEnd"),g=i.normalizeCssEvent("TransitionEnd"),m=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,v=i.css3PropPrefix+"transform",y={};function k(t,i,n,k,b,_){var w,P,C,S={},E=[],T="",N=this,A=!1,I=!1;if(e.isPlainObject(n)&&(k=n.easing,b=n.complete,_=n.delay,n=n.duration),e.isString(n)&&(n=z.speeds[n]),void 0===n&&(n=z.speeds.normal),n/=1e3,z.off&&(n=0),e.isFunction(k)?(b=k,eace="swing"):k=k||"swing",_?_/=1e3:_=0,e.isString(i))S[a]=i,S[l]=n+"s",S[h]=k,P=d;else{for(w in i){var H=i[w];if(m.test(w))T+=w+"("+H+") ";else{if("scrollTop"===w&&(I=!0),"clip"==w&&e.isPlainObject(H)){if(S[w]="rect("+H.top+"px,"+H.right+"px,"+H.bottom+"px,"+H.left+"px)","auto"==s.css(t,"clip")){var O=r.size(t);s.css(t,"clip","rect(0px,"+O.width+"px,"+O.height+"px,0px)"),!0}}else S[w]=H;E.push(e.dasherize(w))}}P=g}return T&&(S[v]=T,E.push(v)),n>0&&e.isPlainObject(i)&&(S[c]=E.join(", "),S[u]=n+"s",S[p]=_+"s",S[f]=k),C=function(e){if(A=!0,e){if(e.target!==e.currentTarget)return;o.off(e.target,P,C)}else o.off(t,d,C);s.css(t,y),b&&b.call(this)},n>0&&(o.on(t,P,C),e.debounce(function(){A||C.call(N)},1e3*(n+_)+25)()),t.clientLeft,s.css(t,S),n<=0&&e.debounce(function(){A||C.call(N)},0)(),I&&x(t,i.scrollTop,n,b),this}function b(t,i,n){return s.show(t),i&&(!n&&e.isFunction(i)&&(n=i,i="normal"),s.css(t,"opacity",0),k(t,{opacity:1,scale:"1,1"},i,n)),this}function _(t,i,n){return i?(!n&&e.isFunction(i)&&(n=i,i="normal"),k(t,{opacity:0,scale:"0,0"},i,function(){s.hide(t),n&&n.call(t)})):s.hide(t),this}function x(t,i,n,r){var s=parseInt(t.scrollTop),o=0,a=1e3*n/5,l=parseInt(i),h=setInterval(function(){++o<=a&&(t.scrollTop=(l-s)/a*o+s),o>=a+1&&(clearInterval(h),r&&e.debounce(r,1e3)())},5)}function w(t,e,i,n,r){return k(t,{opacity:i},e,n,r),this}function P(t,e,i,n){var r=s.css(t,"opacity");return r>0?s.css(t,"opacity",0):r=1,s.show(t),w(t,e,r,i,n),this}function C(t,i,n,r){var o,a=s.css(t,"opacity"),l={};return e.isPlainObject(i)?(l.easing=i.easing,l.duration=i.duration,o=i.complete):(l.duration=i,r?(o=r,l.easing=n):o=n),l.complete=function(){s.css(t,"opacity",a),s.hide(t),o&&o.call(t)},w(t,l,0),this}function S(t,e,i){var n=s.css(t,"position");b(t),s.css(t,{position:"absolute",visibility:"hidden"});var r=s.css(t,"margin-top"),o=s.css(t,"margin-bottom"),a=s.css(t,"padding-top"),l=s.css(t,"padding-bottom"),h=s.css(t,"height");return s.css(t,{position:n,visibility:"visible",overflow:"hidden",height:0,marginTop:0,marginBottom:0,paddingTop:0,paddingBottom:0}),k(t,{height:h,marginTop:r,marginBottom:o,paddingTop:a,paddingBottom:l},{duration:e,complete:function(){i&&i.apply(t)}}),this}function E(t,e,i){if(r.height(t)>0){s.css(t,"position");var n=s.css(t,"height"),o=s.css(t,"margin-top"),a=s.css(t,"margin-bottom"),l=s.css(t,"padding-top"),h=s.css(t,"padding-bottom");s.css(t,{visibility:"visible",overflow:"hidden",height:n,marginTop:o,marginBottom:a,paddingTop:l,paddingBottom:h}),k(t,{height:0,marginTop:0,marginBottom:0,paddingTop:0,paddingBottom:0},{duration:e,queue:!1,complete:function(){_(t),s.css(t,{visibility:"visible",overflow:"hidden",height:n,marginTop:o,marginBottom:a,paddingTop:l,paddingBottom:h}),i&&i.apply(t)}})}return this}function z(){return z}return y[a=i.normalizeCssProperty("animation-name")]=y[l=i.normalizeCssProperty("animation-duration")]=y[i.normalizeCssProperty("animation-delay")]=y[h=i.normalizeCssProperty("animation-timing-function")]="",y[c=i.normalizeCssProperty("transition-property")]=y[u=i.normalizeCssProperty("transition-duration")]=y[p=i.normalizeCssProperty("transition-delay")]=y[f=i.normalizeCssProperty("transition-timing-function")]="",e.mixin(z,{off:!1,speeds:{normal:400,fast:200,slow:600},animate:k,emulateTransitionEnd:function(t,e){var n=!1;o.one(t,"transitionEnd",function(){n=!0});return setTimeout(function(){n||o.trigger(t,i.support.transition.end)},e),this},fadeIn:P,fadeOut:C,fadeTo:w,fadeToggle:function(t,e,i,n){s.isInvisible(t)?P(t,e,easing,callback):C(t,e,easing,callback);return this},hide:_,scrollToTop:x,slideDown:S,slideToggle:function(t,e,i){0==r.height(t)?S(t,e,i):E(t,e,i);return this},slideUp:E,show:b,throb:function(t,e){var i,r=(e=e||{}).text,o=(e.style,e.time),a=e.callback,l=n.createElement("div",{class:e.className||"throbber"}),h=(function(t,e){var i=n.createElement("div",e);s.css(i,{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2147483647,opacity:.7}),t.appendChild(i)}(l,{class:"overlay fade"}),n.createElement("div",{class:"throb"})),c=n.createTextNode(r||""),u=function(){i&&(clearTimeout(i),i=null),l&&(n.remove(l),l=null)};e.style&&s.css(l,e.style);h.appendChild(c),l.appendChild(h),t.appendChild(l),o&&(i=setTimeout(function(){u(),a&&a()},o));return{remove:u,update:function(t){t&&t.text&&l&&(c.nodeValue=t.text)}}},toggle:function(t,e,i){s.isInvisible(t)?b(t,e,i):_(t,e,i);return this}}),t.attach("domx.fx",z)}),t("skylark-domx-fx/main",["./fx","skylark-domx-velm","skylark-domx-query"],function(t,e,i){return e.delegate(["animate","emulateTransitionEnd","fadeIn","fadeOut","fadeTo","fadeToggle","hide","scrollToTop","slideDown","slideToggle","slideUp","show","toggle"],t),i.fn.hide=i.wraps.wrapper_every_act(t.hide,t),i.fn.animate=i.wraps.wrapper_every_act(t.animate,t),i.fn.emulateTransitionEnd=i.wraps.wrapper_every_act(t.emulateTransitionEnd,t),i.fn.show=i.wraps.wrapper_every_act(t.show,t),i.fn.hide=i.wraps.wrapper_every_act(t.hide,t),i.fn.toogle=i.wraps.wrapper_every_act(t.toogle,t),i.fn.fadeTo=i.wraps.wrapper_every_act(t.fadeTo,t),i.fn.fadeIn=i.wraps.wrapper_every_act(t.fadeIn,t),i.fn.fadeOut=i.wraps.wrapper_every_act(t.fadeOut,t),i.fn.fadeToggle=i.wraps.wrapper_every_act(t.fadeToggle,t),i.fn.slideDown=i.wraps.wrapper_every_act(t.slideDown,t),i.fn.slideToggle=i.wraps.wrapper_every_act(t.slideToggle,t),i.fn.slideUp=i.wraps.wrapper_every_act(t.slideUp,t),t}),t("skylark-domx-fx",["skylark-domx-fx/main"],function(t){return t}),t("skylark-domx-plugins/plugins",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-eventer","skylark-domx-finder","skylark-domx-geom","skylark-domx-styler","skylark-domx-fx","skylark-domx-query","skylark-domx-velm"],function(t,e,i,n,r,s,o,a,l,h,c){"use strict";var u=Array.prototype.slice,f=(Array.prototype.concat,{}),p={};function d(t,e,i){var r=e.split(":"),s=r[1];e=r[0],s||(s=e);var o=n.data(t,s);if("instance"===i)return o;if("destroy"===i){if(!o)throw new Error("The plugin instance is not existed");o.destroy(),n.removeData(t,e),o=void 0}else if(o)i&&o.reset(i);else{if(void 0!==i&&"object"!=typeof i)throw new Error("The options must be a plain object");var a=f[e];o=new a(t,i),n.data(t,s,o)}return o}var g=e.Evented.inherit({klassName:"Plugin",_construct:function(t,e){this._elm=t,this._initOptions(e)},_initOptions:function(t){var i=this.constructor,n=i.cache=i.cache||{},r=n.defaults;if(!r){var s=[];do{if(s.unshift(i),i===g)break;i=i.superclass}while(i);r=n.defaults={};for(var o=0;o<s.length;o++)(i=s[o]).prototype.hasOwnProperty("options")&&e.mixin(r,i.prototype.options,!0),i.hasOwnProperty("options")&&e.mixin(r,i.options,!0)}return Object.defineProperty(this,"options",{value:e.mixin({},r,t,!0)}),this.options},destroy:function(){this._destroy(),n.removeData(this._elm,this.pluginName)},_destroy:e.noop,_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},option:function(t,i){var n,r,s,o=t;if(0===arguments.length)return e.mixin({},this.options);if("string"==typeof t)if(o={},n=t.split("."),t=n.shift(),n.length){for(r=o[t]=e.mixin({},this.options[t]),s=0;s<n.length-1;s++)r[n[s]]=r[n[s]]||{},r=r[n[s]];if(t=n.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,this},getUID:function(t){t=t||"plugin";do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},elm:function(){return this._elm}});function m(){return m}return h.fn.plugin=function(t,e){var i=u.call(arguments,1),n=this,r=this;return this.each(function(){r=d.apply(n,[this,t].concat(i))}),r},c.partial("plugin",function(t,e){var i=u.call(arguments,1);return d.apply(this,[this.domNode,t].concat(i))}),e.mixin(m,{instantiate:d,Plugin:g,register:function(t,i,n,r){var s=t.prototype.pluginName;if(f[s]=t,i){n&&e.isFunction(n)&&(r=n,n=null),n&&(s=s+":"+n);var o=p[i]=function(t,i){return function(n,r){var s=d(n,t,"instance");if("instance"===r)return s||null;if(s){if(r){var o=u.call(arguments,1);if(i)return i.apply(s,o);if("string"==typeof r){var a=r;if(!s)throw new Error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'");if(!e.isFunction(s[a])||"_"===a.charAt(0))throw new Error("no such method '"+a+"' for "+t+" plugin instance");return s[a].apply(s,o)}}}else s=d(n,t,"object"==typeof r&&r||{})}}(s,r);h.fn[i]=function(t){var e=this;if(this.length||"instance"!==t){var i=u.call(arguments);this.each(function(){var t=u.call(i);t.unshift(this);var n=o.apply(null,t);if(void 0!==n)return e=n,!1})}else e=void 0;return e},c.partial(i,function(t){var e=o(this._elm,t);return void 0===e&&(e=this),e})}},shortcuts:p}),t.attach("domx.plugins",m)}),t("skylark-domx-plugins/main",["./plugins"],function(t){return t}),t("skylark-domx-plugins",["skylark-domx-plugins/main"],function(t){return t}),t("skylark-jquery/JqueryPlugin",["skylark-langx-types","skylark-langx-objects","skylark-langx-arrays","skylark-langx/langx","skylark-domx-data","skylark-domx-eventer","skylark-domx-plugins","skylark-domx-query"],function(t,e,i,n,r,s,o,a){var l=0,h=o.Plugin.inherit({klassName:"JqPlugin",pluginEventPrefix:"",options:{create:null},destroy:function(){this.overrided(),this.element.off(this.eventNamespace),this.bindings.off(this.eventNamespace)},_construct:function(t,e){t=a(t||this.defaultElement||this)[0],this.overrided(t,e),this.element=a(t),this.uuid=l++,this.eventNamespace="."+this.pluginName+this.uuid,this.bindings=a(),this.classesElementLookup={},this.hoverable=a(),this.focusable=a(),t!==this&&(r.data(t,this.pluginName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=a(t.style?t.ownerDocument:t.document||t),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,_classes:function(t){var i=[],r=this;function s(e,s){var o,l;for(l=0;l<e.length;l++)o=r.classesElementLookup[e[l]]||a(),t.add?(t.element.each(function(t,e){var i=n.map(r.classesElementLookup,function(t){return t}).some(function(t){return a(t).is(e)});i||r._on(a(e),{remove:"_untrackClassesElement"})}),o=a(n.uniq(o.get().concat(t.element.get())))):o=a(o.not(t.element).get()),r.classesElementLookup[e[l]]=o,i.push(e[l]),s&&t.classes[e[l]]&&i.push(t.classes[e[l]])}return(t=e.mixin({element:this.element,classes:this.options.classes||{}},t)).keys&&s(t.keys.match(/\S+/g)||[],!0),t.extra&&s(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var e=this;n.each(e.classesElementLookup,function(n,r){-1!==i.inArray(t.target,r)&&(e.classesElementLookup[n]=a(r.not(t.target).get()))}),this._off(a(t.target))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){n="boolean"==typeof n?n:i;var r="string"==typeof t||null===t,s={extra:r?e:i,keys:r?t:e,element:r?this.element:t,add:n};return s.element.toggleClass(this._classes(s),n),this},_on:function(t,i,n){var r,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=r=a(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),e.each(n,function(e,n){function o(){if(t||!0!==s.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"==typeof n?s[n]:n).apply(s,arguments)}"string"!=typeof n&&(o.guid=n.guid=n.guid||o.guid||a.guid++);var l=e.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+s.eventNamespace,c=l[2];c?r.on(h,c,o):i.on(h,o)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e),this.bindings=a(this.bindings.not(t).get()),this.focusable=a(this.focusable.not(t).get()),this.hoverable=a(this.hoverable.not(t).get())},_trigger:function(e,i,n){var r,o,a=this.options[e];if(n=n||{},(i=s.proxy(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(t.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}});return h}),t("skylark-jqueryui-interact/Mouse",["skylark-domx-browser","skylark-domx-data","skylark-domx-query","skylark-domx-plugins","skylark-jquery/JqueryPlugin"],function(t,e,i,n,r){var s=!1;i(document).on("mouseup",function(){s=!1});var o=r.inherit({klassName:"MousePlugin",pluginName:"ui.mouse",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.pluginName,function(e){return t._mouseDown(e)}).on("click."+this.pluginName,function(i){if(!0===e.data(i.target,t.pluginName+".preventClickEvent"))return e.removeData(i.target,t.pluginName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.pluginName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.pluginName,this._mouseMoveDelegate).off("mouseup."+this.pluginName,this._mouseUpDelegate)},_mouseDown:function(t){if(!s){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,r=1===t.which,o=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&i(t.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.pluginName+".preventClickEvent")&&e.removeData(t.target,this.pluginName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.pluginName,this._mouseMoveDelegate).on("mouseup."+this.pluginName,this._mouseUpDelegate),t.preventDefault(),s=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.pluginName,this._mouseMoveDelegate).off("mouseup."+this.pluginName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.pluginName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,s=!1,t.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});return n.register(o),o}),t("skylark-jqueryui-interact/patch",[],function(){return{add:function(t,e,i){var n,r=t.prototype;for(n in i)r.patches[n]=r.patches[n]||[],r.patches[n].push([e,i[n]])},call:function(t,e,i,n){var r,s=t.patches[e];if(s&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<s.length;r++)t.options[s[r][0]]&&s[r][1].apply(t.element,i)}}}),t("skylark-jqueryui-interact/Draggable",["skylark-langx/langx","skylark-domx-eventer","skylark-domx-noder","skylark-domx-query","skylark-domx-plugins","./Mouse","./patch","./ddmanager"],function(t,e,i,n,r,s,o,a){var l=s.inherit({klassName:"Draggable",pluginName:"ui.draggable",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var e=this.options;return!(this.helper||e.disabled||n(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=n(this);return n("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var e=i.active(this.document[0]),r=n(t.target);r.closest(e).length||i.blur(e)},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),a&&(a.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===n(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),a&&!e.dropBehaviour&&a.prepareOffsets(this,t),this._mouseDrag(t,!0),a&&a.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp(new e.create("mouseup",t)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",a&&a.drag(this,t),!1},_mouseStop:function(e){var i=this,r=!1;return a&&!this.options.dropBehaviour&&(r=a.drop(this,e)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),a&&a.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),this.overrided(t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(e.create("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!n(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,r=t.isFunction(i.helper),s=r?n(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),r&&s[0]===this.element[0]&&this._setPositionRelative(),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&i.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,r=this.options,s=this.document[0];this.relativeContainer=null,r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),e=n(r.containment),(i=e[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e)):this.containment=r.containment:this.containment=[0,0,n(s).width()-this.helperProportions.width-this.margins.left,(n(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,n(window).scrollLeft()+n(window).width()-this.helperProportions.width-this.margins.left,n(window).scrollTop()+(n(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,r,s,o=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),o.grid&&(r=o.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,h=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-o.grid[1]:r+o.grid[1]:r,s=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-o.grid[0]:s+o.grid[0]:s),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,e,i){return i=i||this._uiHash(),o.call(this,t,[e,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),this.overrided(t,e,i)},patches:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});return r.register(l,"draggable"),o.add(l,"connectToSortable",{start:function(e,i,r){var s=t.extend({},i,{item:r.element});r.sortables=[],n(r.options.connectToSortable).each(function(){var t=n(this).sortable("instance");t&&!t.options.disabled&&(r.sortables.push(t),t.refreshPositions(),t._trigger("activate",e,s))})},stop:function(e,i,n){var r=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){this.isOver?(this.isOver=0,n.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(e),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",e,r))})},drag:function(e,n,r){t.each(r.sortables,function(){var s=!1,o=this;o.positionAbs=r.positionAbs,o.helperProportions=r.helperProportions,o.offset.click=r.offset.click,o._intersectsWith(o.containerCache)&&(s=!0,t.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&i.contains(o.element[0],this.element[0])&&(s=!1),s})),s?(o.isOver||(o.isOver=1,r._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=r.offset.click.top,o.offset.click.left=r.offset.click.left,o.offset.parent.left-=r.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=r.offset.parent.top-o.offset.parent.top,r._trigger("toSortable",e),r.dropped=o.element,t.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,o.fromOutside=r),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(e),n.position=r._generatePosition(e,!0),r._trigger("fromSortable",e),r.dropped=!1,t.each(r.sortables,function(){this.refreshPositions()}))})}}),o.add(l,"cursor",{start:function(t,e,i){var r=n("body"),s=i.options;r.css("cursor")&&(s._cursor=r.css("cursor")),r.css("cursor",s.cursor)},stop:function(t,e,i){var r=i.options;r._cursor&&n("body").css("cursor",r._cursor)}}),o.add(l,"opacity",{start:function(t,e,i){var r=n(e.helper),s=i.options;r.css("opacity")&&(s._opacity=r.css("opacity")),r.css("opacity",s.opacity)},stop:function(t,e,i){var r=i.options;r._opacity&&n(e.helper).css("opacity",r._opacity)}}),o.add(l,"scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,e,i){var r=i.options,s=!1,o=i.scrollParentNotHidden[0],l=i.document[0];o!==l&&"HTML"!==o.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+o.offsetHeight-t.pageY<r.scrollSensitivity?o.scrollTop=s=o.scrollTop+r.scrollSpeed:t.pageY-i.overflowOffset.top<r.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+o.offsetWidth-t.pageX<r.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+r.scrollSpeed:t.pageX-i.overflowOffset.left<r.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-n(l).scrollTop()<r.scrollSensitivity?s=n(l).scrollTop(n(l).scrollTop()-r.scrollSpeed):n(window).height()-(t.pageY-n(l).scrollTop())<r.scrollSensitivity&&(s=n(l).scrollTop(n(l).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-n(l).scrollLeft()<r.scrollSensitivity?s=n(l).scrollLeft(n(l).scrollLeft()-r.scrollSpeed):n(window).width()-(t.pageX-n(l).scrollLeft())<r.scrollSensitivity&&(s=n(l).scrollLeft(n(l).scrollLeft()+r.scrollSpeed)))),!1!==s&&a&&!r.dropBehaviour&&a.prepareOffsets(i,t)}}),o.add(l,"snap",{start:function(t,e,i){var r=i.options;i.snapElements=[],n(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var t=n(this),e=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(e,n,r){var s,o,a,l,h,c,u,f,p,d,g=r.options,m=g.snapTolerance,v=n.offset.left,y=v+r.helperProportions.width,k=n.offset.top,b=k+r.helperProportions.height;for(p=r.snapElements.length-1;p>=0;p--)h=r.snapElements[p].left-r.margins.left,c=h+r.snapElements[p].width,u=r.snapElements[p].top-r.margins.top,f=u+r.snapElements[p].height,y<h-m||v>c+m||b<u-m||k>f+m||!i.contains(r.snapElements[p].item.ownerDocument,r.snapElements[p].item)?(r.snapElements[p].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,e,t.extend(r._uiHash(),{snapItem:r.snapElements[p].item})),r.snapElements[p].snapping=!1):("inner"!==g.snapMode&&(s=Math.abs(u-b)<=m,o=Math.abs(f-k)<=m,a=Math.abs(h-y)<=m,l=Math.abs(c-v)<=m,s&&(n.position.top=r._convertPositionTo("relative",{top:u-r.helperProportions.height,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:f,left:0}).top),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h-r.helperProportions.width}).left),l&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c}).left)),d=s||o||a||l,"outer"!==g.snapMode&&(s=Math.abs(u-k)<=m,o=Math.abs(f-b)<=m,a=Math.abs(h-v)<=m,l=Math.abs(c-y)<=m,s&&(n.position.top=r._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:f-r.helperProportions.height,left:0}).top),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h}).left),l&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left)),!r.snapElements[p].snapping&&(s||o||a||l||d)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,e,t.extend(r._uiHash(),{snapItem:r.snapElements[p].item})),r.snapElements[p].snapping=s||o||a||l||d)}}),o.add(l,"stack",{start:function(e,i,r){var s,o=r.options,a=t.makeArray(n(o.stack)).sort(function(t,e){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(e).css("zIndex"),10)||0)});a.length&&(s=parseInt(n(a[0]).css("zIndex"),10)||0,n(a).each(function(t){n(this).css("zIndex",s+t)}),this.css("zIndex",s+a.length))}}),o.add(l,"zIndex",{start:function(t,e,i){var r=n(e.helper),s=i.options;r.css("zIndex")&&(s._zIndex=r.css("zIndex")),r.css("zIndex",s.zIndex)},stop:function(t,e,i){var r=i.options;r._zIndex&&n(e.helper).css("zIndex",r._zIndex)}}),l}),t("skylark-jqueryui-interact/Droppable",["skylark-langx/langx","skylark-domx-eventer","skylark-domx-noder","skylark-domx-query","skylark-domx-plugins","skylark-jquery/JqueryPlugin","./patch","./ddmanager"],function(t,e,i,n,r,s,o,a){var l=s.inherit({klassName:"Droppable",pluginName:"ui.Droppable",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){a.droppables[t]=a.droppables[t]||[],a.droppables[t].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=a.droppables[this.options.scope];this._splice(t)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var n=a.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(t){var e=a.current;this._addActiveClass(),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=a.current;this._removeActiveClass(),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=a.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=a.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(e)))},_drop:function(e,i){var r=i||a.current,s=!1;return!(!r||(r.currentItem||r.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=n(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===r.options.scope&&i.accept.call(i.element[0],r.currentItem||r.element)&&a.intersect(r,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e))return s=!0,!1}),!s&&(!!this.accept.call(this.element[0],r.currentItem||r.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(r)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});return r.register(l,"droppable"),l}),t("skylark-jqueryui-interact/Resizable",["skylark-langx/langx","skylark-domx-data","skylark-domx-eventer","skylark-domx-noder","skylark-domx-query","skylark-domx-plugins","./Mouse","./patch","./ddmanager"],function(t,e,i,n,r,s,o,a,l){var h=o.inherit({klassName:"Resizable",pluginName:"ui.resizable",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(t,e){if("hidden"===r(t).css("overflow"))return!1;var i=e&&"left"===e?"scrollLeft":"scrollTop",n=!1;return t[i]>0||(t[i]=1,n=t[i]>0,t[i]=0,n)},_create:function(){var e,i=this.options,n=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(r("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&r(this.element).on("mouseenter",function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();var t,e=function(t){r(t).removeData("resizable").removeData("ui-resizable").off(".resizable")};return this.elementIsWrapper&&(e(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!e}},_setupHandles:function(){var e,i,n,s,o,a=this.options,l=this;if(this.handles=a.handles||(r(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=r(),this._addedHandles=r(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;i<n.length;i++)e=t.trim(n[i]),s="ui-resizable-"+e,o=r("<div>"),this._addClass(o,"ui-resizable-handle "+s),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.children(this.handles[e]).length||(this.element.append(o),this._addedHandles=this._addedHandles.add(o));this._renderAxis=function(t){var e,i,n,s;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=r(this.handles[e]),this._on(this.handles[e],{mousedown:l._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=r(this.handles[e],this.element),s=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth(),n=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(n,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){l.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),l.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(t){var e,i,s=!1;for(e in this.handles)((i=r(this.handles[e])[0])===t.target||n.contains(i,t.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(t){var e,i,n,s=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),s.containment&&(e+=r(s.containment).scrollLeft()||0,i+=r(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:e,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=r(".ui-resizable-"+this.axis).css("cursor"),r("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(e){var i,n,r=this.originalMousePosition,s=this.axis,o=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[s];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[e,o,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,n,s,o,a,l,h,c=this.options;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),s=n&&this._hasScroll(i[0],"left")?0:this.sizeDiff.height,o=n?0:this.sizeDiff.width,a={width:this.helper.width()-o,height:this.helper.height()-s},l=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,h=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,c.animate||this.element.css(t.extend(a,{top:h,left:l})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!c.animate&&this._proportionallyResize()),r("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,r,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(e=s.minHeight*this.aspectRatio,n=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,r=s.maxWidth/this.aspectRatio,e>s.minWidth&&(s.minWidth=e),n>s.minHeight&&(s.minHeight=n),i<s.maxWidth&&(s.maxWidth=i),r<s.maxHeight&&(s.maxHeight=r)),this._vBoundaries=s},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,s=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,o=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return s&&(t.width=e.minWidth),o&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),s&&h&&(t.left=a-e.minWidth),n&&h&&(t.left=a-e.maxWidth),o&&c&&(t.top=l-e.minHeight),r&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseFloat(n[e])||0,i[e]+=parseFloat(r[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||r("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(t,e){a.call(this,t,[e,this.ui(),this],!0),"resize"!==t&&this._trigger(t,e,this.ui())},patches:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});return a.add(h,"animate",{stop:function(e){var i=r(this).resizable("instance"),n=i.options,s=i._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),a=o&&i._hasScroll(s[0],"left")?0:i.sizeDiff.height,l=o?0:i.sizeDiff.width,h={width:i.size.width-l,height:i.size.height-a},c=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,u=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var t={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};s&&s.length&&r(s[0]).css({width:t.width,height:t.height}),i._updateCache(t),i._propagate("resize",e)}})}}),a.add(h,"containment",{start:function(){var t,e,i,n,s,o,a,l=r(this).resizable("instance"),h=l.options,c=l.element,u=h.containment,f=u instanceof r?u.get(0):/parent/.test(u)?c.parent().get(0):u;f&&(l.containerElement=r(f),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:r(document),left:0,top:0,width:r(document).width(),height:r(document).height()||document.body.parentNode.scrollHeight}):(t=r(f),e=[],r(["Top","Right","Left","Bottom"]).each(function(i,n){e[i]=l._num(t.css("padding"+n))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-e[3],width:t.innerWidth()-e[1]},i=l.containerOffset,n=l.containerSize.height,s=l.containerSize.width,o=l._hasScroll(f,"left")?f.scrollWidth:s,a=l._hasScroll(f)?f.scrollHeight:n,l.parentData={element:f,left:i.left,top:i.top,width:o,height:a}))},resize:function(t){var e,i,n,s,o=r(this).resizable("instance"),a=o.options,l=o.containerOffset,h=o.position,c=o._aspectRatio||t.shiftKey,u={top:0,left:0},f=o.containerElement,p=!0;f[0]!==document&&/static/.test(f.css("position"))&&(u=l),h.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=a.helper?l.left:0),h.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?l.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),n&&s?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),e=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-u.left:o.offset.left-l.left)),i=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-u.top:o.offset.top-l.top)),e+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-e,c&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),i+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-i,c&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=r(this).resizable("instance"),e=t.options,i=t.containerOffset,n=t.containerPosition,s=t.containerElement,o=r(t.helper),a=o.offset(),l=o.outerWidth()-t.sizeDiff.width,h=o.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(s.css("position"))&&r(this).css({left:a.left-n.left-i.left,width:l,height:h}),t._helper&&!e.animate&&/static/.test(s.css("position"))&&r(this).css({left:a.left-n.left-i.left,width:l,height:h})}}),a.add(h,"alsoResize",{start:function(){var t=r(this).resizable("instance"),e=t.options;r(e.alsoResize).each(function(){var t=r(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(e,i){var n=r(this).resizable("instance"),s=n.options,o=n.originalSize,a=n.originalPosition,l={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0};r(s.alsoResize).each(function(){var e=r(this),n=r(this).data("ui-resizable-alsoresize"),s={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(n[e]||0)+(l[e]||0);i&&i>=0&&(s[e]=i||null)}),e.css(s)})},stop:function(){r(this).removeData("ui-resizable-alsoresize")}}),a.add(h,"ghost",{start:function(){var t=r(this).resizable("instance"),e=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),t.ghost.appendTo(t.helper)},resize:function(){var t=r(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=r(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),a.add(h,"grid",{resize:function(){var t,e=r(this).resizable("instance"),i=e.options,n=e.size,s=e.originalSize,o=e.originalPosition,a=e.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,h=l[0]||1,c=l[1]||1,u=Math.round((n.width-s.width)/h)*h,f=Math.round((n.height-s.height)/c)*c,p=s.width+u,d=s.height+f,g=i.maxWidth&&i.maxWidth<p,m=i.maxHeight&&i.maxHeight<d,v=i.minWidth&&i.minWidth>p,y=i.minHeight&&i.minHeight>d;i.grid=l,v&&(p+=h),y&&(d+=c),g&&(p-=h),m&&(d-=c),/^(se|s|e)$/.test(a)?(e.size.width=p,e.size.height=d):/^(ne)$/.test(a)?(e.size.width=p,e.size.height=d,e.position.top=o.top-f):/^(sw)$/.test(a)?(e.size.width=p,e.size.height=d,e.position.left=o.left-u):((d-c<=0||p-h<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),d-c>0?(e.size.height=d,e.position.top=o.top-f):(d=c-t.height,e.size.height=d,e.position.top=o.top+s.height-d),p-h>0?(e.size.width=p,e.position.left=o.left-u):(p=h-t.width,e.size.width=p,e.position.left=o.left+s.width-p))}}),s.register(h,"resizable"),h}),t("skylark-jqueryui-interact/Selectable",["skylark-langx/langx","skylark-domx-data","skylark-domx-eventer","skylark-domx-noder","skylark-domx-query","skylark-domx-plugins","./Mouse"],function(t,e,i,n,r,s,o){var a=o.inherit({klassName:"Selectable",pluginName:"ui.selectable",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t.elementPos=r(t.element[0]).offset(),t.selectees=r(t.options.filter,t.element[0]),t._addClass(t.selectees,"ui-selectee"),t.selectees.each(function(){var i=r(this),n=i.offset(),s={left:n.left-t.elementPos.left,top:n.top-t.elementPos.top};e.data(this,"selectable-item",{element:this,$element:i,left:s.left,top:s.top,right:s.left+i.outerWidth(),bottom:s.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=r("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.elementPos=r(this.element[0]).offset(),this.options.disabled||(this.selectees=r(n.filter,this.element[0]),this._trigger("start",t),r(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),r(t.target).parents().addBack().each(function(){var n,r=e.data(this,"selectable-item");if(r)return n=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),i._removeClass(r.$element,n?"ui-unselecting":"ui-selected")._addClass(r.$element,n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,s=this.opos[0],o=this.opos[1],a=t.pageX,l=t.pageY;return s>a&&(i=a,a=s,s=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:s,top:o,width:a-s,height:l-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),h=!1,c={};i&&i.element!==n.element[0]&&(c.left=i.left+n.elementPos.left,c.right=i.right+n.elementPos.left,c.top=i.top+n.elementPos.top,c.bottom=i.bottom+n.elementPos.top,"touch"===r.tolerance?h=!(c.left>a||c.right<s||c.top>l||c.bottom<o):"fit"===r.tolerance&&(h=c.left>s&&c.right<a&&c.top>o&&c.bottom<l),h?(i.selected&&(n._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(n._addClass(i.$element,"ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,n._addClass(i.$element,"ui-selected"),i.selected=!0):(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,r(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),r(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");i._removeClass(n.$element,"ui-selecting")._addClass(n.$element,"ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}});return s.register(a,"selectable"),a}),t("skylark-jqueryui-interact/Sortable",["skylark-langx/langx","skylark-domx-data","skylark-domx-eventer","skylark-domx-noder","skylark-domx-query","skylark-domx-plugins","./Mouse","./ddmanager"],function(t,e,i,n,r,s,o,a){var l=o.inherit({klassName:"Sortable",pluginName:"ui.sortable",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.pluginName+"-item");return this},_mouseCapture:function(t,i){var n=null,s=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),r(t.target).parents().each(function(){if(e.data(this,o.pluginName+"-item")===o)return n=r(this),!1}),e.data(t.target,o.pluginName+"-item")===o&&(n=r(t.target)),!!n&&(!(this.options.handle&&!i&&(r(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(s=!0)}),!s))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,n){var s,o,l=this.options;if(this.currentContainer=this,this.refreshPositions(),this.appendTo=r("parent"!==l.appendTo?l.appendTo:this.currentItem.parent()),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),l.cursorAt&&this._adjustOffsetFromHelper(l.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),t.extend(this.offset,{parent:this._getParentOffset()}),l.containment&&this._setContainment(),l.cursor&&"auto"!==l.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",l.cursor),this.storedStylesheet=r("<style>*{ cursor: "+l.cursor+" !important; }</style>").appendTo(o)),l.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",l.zIndex)),l.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",l.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",e,this._uiHash(this));return a&&(a.current=this),a&&!l.dropBehaviour&&a.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(e),!0},_scroll:function(t){var e=this.options,i=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<e.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+e.scrollSpeed:t.pageY-this.overflowOffset.top<e.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-e.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<e.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+e.scrollSpeed:t.pageX-this.overflowOffset.left<e.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-e.scrollSpeed)):(t.pageY-this.document.scrollTop()<e.scrollSensitivity?i=this.document.scrollTop(this.document.scrollTop()-e.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<e.scrollSensitivity&&(i=this.document.scrollTop(this.document.scrollTop()+e.scrollSpeed)),t.pageX-this.document.scrollLeft()<e.scrollSensitivity?i=this.document.scrollLeft(this.document.scrollLeft()-e.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<e.scrollSensitivity&&(i=this.document.scrollLeft(this.document.scrollLeft()+e.scrollSpeed))),i},_mouseDrag:function(t){var e,i,r,s,o=this.options;if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),this._contactContainers(t),null!==this.innermostContainer)for(o.scroll&&!1!==this._scroll(t)&&(this._refreshItemPositions(!0),a&&!o.dropBehaviour&&a.prepareOffsets(this,t)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},e=this.items.length-1;e>=0;e--)if(i=this.items[e],r=i.item[0],(s=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===s?"next":"prev"]()[0]===r||n.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&n.contains(this.element[0],r))){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return a&&a.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(a&&!this.options.dropBehaviour&&a.drop(this,t),this.options.revert){var i=this,n=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,r(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new i.create("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?r(this.domPosition.prev).after(this.currentItem):r(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r(e).each(function(){var e=(r(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&i.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e.each(function(){i.push(r(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,s=t.left,o=s+t.width,a=t.top,l=a+t.height,h=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||n+h>a&&n+h<l,f="y"===this.options.axis||e+c>s&&e+c<o,p=u&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:s<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=n&&r;return!!s&&(e=this.dragDirection.vertical,i=this.dragDirection.horizontal,this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this.dragDirection.vertical,r=this.dragDirection.horizontal;return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(i){var n,s,o,a,l=[],h=[],c=this._connectWith();if(c&&i)for(n=c.length-1;n>=0;n--)for(o=r(c[n],this.document[0]),s=o.length-1;s>=0;s--)(a=e.data(o[s],this.pluginName))&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):r(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);function u(){l.push(this)}for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):r(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=h.length-1;n>=0;n--)h[n][0].each(u);return r(l)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.pluginName+"-item)");this.items=this.items.filter(function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(i){this.items=[],this.containers=[this];var n,s,o,a,l,h,c,u,f=this.items,p=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],i,{item:this.currentItem}):r(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(o=r(d[n],this.document[0]),s=o.length-1;s>=0;s--)(a=e.data(o[s],this.pluginName))&&a!==this&&!a.options.disabled&&(p.push([t.isFunction(a.options.items)?a.options.items.call(a.element[0],i,{item:this.currentItem}):r(a.options.items,a.element),a]),this.containers.push(a));for(n=p.length-1;n>=0;n--)for(l=p[n][1],h=p[n][0],s=0,u=h.length;s<u;s++)(c=r(h[s])).data(this.pluginName+"-item",l),f.push({item:c,instance:l,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(t){var e,i,n,s;for(e=this.items.length-1;e>=0;e--)i=this.items[e],this.currentContainer&&i.instance!==this.currentContainer&&i.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?r(this.options.toleranceElement,i.item):i.item,t||(i.width=n.outerWidth(),i.height=n.outerHeight()),s=n.offset(),i.left=s.left,i.top=s.top)},refreshPositions:function(t){var e,i;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),null!==this.innermostContainer&&this._refreshItemPositions(t),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;e>=0;e--)i=this.containers[e].element.offset(),this.containers[e].containerCache.left=i.left,this.containers[e].containerCache.top=i.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(t){var e,i,n=(t=t||this).options;n.placeholder&&n.placeholder.constructor!==String||(e=n.placeholder,i=t.currentItem[0].nodeName.toLowerCase(),n.placeholder={element:function(){var n=r("<"+i+">",t.document[0]);return t._addClass(n,"ui-sortable-placeholder",e||t.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),r("<tr>",t.document[0]).appendTo(n)):"tr"===i?t._createTrPlaceholder(t.currentItem,n):"img"===i&&n.attr("src",t.currentItem.attr("src")),e||n.css("visibility","hidden"),n},update:function(r,s){e&&!n.forcePlaceholderSize||(s.height()&&(!n.forcePlaceholderSize||"tbody"!==i&&"tr"!==i)||s.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=r(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,e){var i=this;t.children().each(function(){r("<td>&#160;</td>",i.document[0]).attr("colspan",r(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){var e,i,r,s,o,a,l,h,c,u,f=null,p=null;for(e=this.containers.length-1;e>=0;e--)if(!n.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(f&&n.contains(this.containers[e].element[0],f.element[0]))continue;f=this.containers[e],p=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",t,this._uiHash(this)),this.containers[e].containerCache.over=0);if(this.innermostContainer=f,f)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,s=null,c=f.floating||this._isFloating(this.currentItem),o=c?"left":"top",a=c?"width":"height",u=c?"pageX":"pageY",i=this.items.length-1;i>=0;i--)n.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[o],h=!1,t[u]-l>this.items[i][a]/2&&(h=!0),Math.abs(t[u]-l)<r&&(r=Math.abs(t[u]-l),s=this.items[i],this.direction=h?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?r(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||this.appendTo[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=r(n.containment)[0],e=r(n.containment).offset(),i="hidden"!==r(t).css("overflow"),this.containment=[e.left+(parseInt(r(t).css("borderLeftWidth"),10)||0)+(parseInt(r(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(r(t).css("borderTopWidth"),10)||0)+(parseInt(r(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(r(t).css("borderLeftWidth"),10)||0)-(parseInt(r(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(r(t).css("borderTopWidth"),10)||0)-(parseInt(r(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(r[0].tagName);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:r.scrollTop())*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:r.scrollLeft())*i}},_generatePosition:function(t){var e,i,r=this.options,s=t.pageX,o=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),r.grid&&(e=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1],o=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-r.grid[1]:e+r.grid[1]:e,i=this.originalPageX+Math.round((s-this.originalPageX)/r.grid[0])*r.grid[0],s=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function r(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||n.push(r("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(r("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(t,e,i){!1===this.overrided(t,e,i)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||r([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}});return s.register(l,"sortable"),l}),t("skylark-jqueryui-interact/main",["./ddmanager","./Draggable","./Droppable","./Mouse","./Resizable","./Selectable","./Sortable"],function(t,e,i,n,r,s,o){return{ddmanager:t,Draggable:e,Droppable:i,Mouse:n,Resizable:r,Selectable:s,Sortable:o}}),t("skylark-jqueryui-interact",["skylark-jqueryui-interact/main"],function(t){return t})}(n,r),!s){var l=r("skylark-langx/skylark");o?module.exports=l:e.skylarkjs=l}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-jqueryui-interact-all.js.map
