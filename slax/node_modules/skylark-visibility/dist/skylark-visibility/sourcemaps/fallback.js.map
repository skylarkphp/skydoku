{"version":3,"sources":["fallback.js"],"names":["define","document","visibilityState","webkitVisibilityState","hidden","event","fireEvent","createEvent","initEvent","dispatchEvent","Visibility","_change","call","onFocus","onBlur","addEventListener","window","attachEvent"],"mappings":";;;;;;;AAAAA,UAAU,WACN,IAAKC,SAASC,kBAAmBD,SAASE,sBAA1C,CAIAF,SAASG,QAAS,EAClBH,SAASC,gBAAkB,UAE3B,IAAIG,EAAQ,KAERC,EAAY,WACRL,SAASM,aACHF,IACFA,EAAQJ,SAASM,YAAY,eACvBC,UAAU,oBAAoB,GAAM,GAE9CP,SAASQ,cAAcJ,IAEI,iBAAhB,YACPK,WAAWC,QAAQC,KAAKF,gBAKhCG,EAAU,WACVZ,SAASG,QAAS,EAClBH,SAASC,gBAAkB,UAC3BI,KAEAQ,EAAU,WACVb,SAASG,QAAS,EAClBH,SAASC,gBAAkB,SAC3BI,KAGCL,SAASc,kBACVC,OAAOD,iBAAiB,QAASF,GAAS,GAC1CG,OAAOD,iBAAiB,OAASD,GAAS,KAE1Cb,SAASgB,YAAY,YAAcJ,GACnCZ,SAASgB,YAAY,aAAcH","file":"../fallback.js","sourcesContent":["define([],function(){\n    if ( document.visibilityState || document.webkitVisibilityState ) {\n        return;\n    }\n\n    document.hidden = false;\n    document.visibilityState = 'visible';\n\n    var event = null\n    var i = 0\n    var fireEvent = function () {\n        if( document.createEvent ) {\n            if ( !event ) {\n                event = document.createEvent('HTMLEvents');\n                event.initEvent('visibilitychange', true, true);\n            }\n            document.dispatchEvent(event);\n        } else {\n            if ( typeof(Visibility) == 'object' ) {\n                Visibility._change.call(Visibility, { });\n            }\n        }\n    }\n\n    var onFocus = function () {\n        document.hidden = false;\n        document.visibilityState = 'visible';\n        fireEvent();\n    };\n    var onBlur  = function () {\n        document.hidden = true;\n        document.visibilityState = 'hidden';\n        fireEvent();\n    }\n\n    if ( document.addEventListener ) {\n        window.addEventListener('focus', onFocus, true);\n        window.addEventListener('blur',  onBlur,  true);\n    } else {\n        document.attachEvent('onfocusin',  onFocus);\n        document.attachEvent('onfocusout', onBlur);\n    }\n});\n"]}