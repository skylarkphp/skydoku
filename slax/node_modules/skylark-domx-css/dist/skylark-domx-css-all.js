/**
 * skylark-domx-css - The skylark css library for dom api extension.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(t,e){var n=e.define,r=e.require,i="function"==typeof n&&n.amd,a=!i&&"undefined"!=typeof exports;if(!i&&!n){var o={};n=e.define=function(t,e,n){"function"==typeof n?(o[t]={factory:n,deps:e.map(function(e){return function(t,e){if("."!==t[0])return t;var n=e.split("/"),r=t.split("/");n.pop();for(var i=0;i<r.length;i++)"."!=r[i]&&(".."==r[i]?n.pop():n.push(r[i]));return n.join("/")}(e,t)}),resolved:!1,exports:null},r(t)):o[t]={factory:null,resolved:!0,exports:n}},r=e.require=function(t){if(!o.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var n=o[t];if(!n.resolved){var i=[];n.deps.forEach(function(t){i.push(r(t))}),n.exports=n.factory.apply(e,i)||null,n.resolved=!0}return n.exports}}if(!n)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,e){t("skylark-langx-ns/_attach",[],function(){return function(t,e,n){"string"==typeof e&&(e=e.split("."));for(var r=e.length,i=t,a=0,o=e[a++];a<r;)i=i[o]=i[o]||{},o=e[a++];return i[o]=n}}),t("skylark-langx-ns/ns",["./_attach"],function(t){var e={attach:function(n,r){return t(e,n,r)}};return e}),t("skylark-langx-ns/main",["./ns"],function(t){return t}),t("skylark-langx-ns",["skylark-langx-ns/main"],function(t){return t}),t("skylark-langx/skylark",["skylark-langx-ns"],function(t){return t}),t("skylark-langx-types/types",["skylark-langx-ns"],function(t){var e,n={}.toString,r=(e={},"Boolean Number String Function Array Date RegExp Object Error Symbol".split(" ").forEach(function(t){e["[object "+t+"]"]=t.toLowerCase()}),function(t){return null==t?String(t):e[n.call(t)]||"object"});function i(t){var e;for(e in t)if(null!==t[e])return!1;return!0}function a(t){return"function"==r(t)}function o(t){return t&&t.nodeType}function s(t){return"number"==typeof t}function u(t){return"object"==r(t)}function l(t){return"string"==typeof t}function c(t){return t&&t==t.window}return t.attach("langx.types",{isArray:function(t){return t&&t.constructor===Array},isArrayLike:function(t){return!l(t)&&!o(t)&&"number"==typeof t.length&&!a(t)},isBoolean:function(t){return"boolean"==typeof t},isDefined:function(t){return void 0!==t},isDocument:function(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE},isEmpty:i,isEmptyObject:i,isFunction:a,isHtmlNode:o,isNull:function(t){return"null"===r(t)},isNumber:s,isNumeric:s,isObject:u,isPlainObject:function(t){return u(t)&&!c(t)&&Object.getPrototypeOf(t)==Object.prototype},isString:l,isSameOrigin:function(t){if(t){var e=location.protocol+"//"+location.hostname;return location.port&&(e+=":"+location.port),t.startsWith(e)}},isSymbol:function(t){return"symbol"==typeof t||isObjectLike(t)&&objectToString.call(t)==symbolTag},isUndefined:function(t){return void 0===t},isWindow:c,type:r})}),t("skylark-langx-types/main",["./types"],function(t){return t}),t("skylark-langx-types",["skylark-langx-types/main"],function(t){return t}),t("skylark-langx-numbers/numbers",["skylark-langx-ns","skylark-langx-types"],function(t,e){var n=e.isObject,r=e.isSymbol,i=1/0,a=1.7976931348623157e308,o=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;function h(t){if(!t)return 0===t?t:0;if((t=p(t))===i||t===-i){var e=t<0?-1:1;return e*a}return t==t?t:0}function p(t){if("number"==typeof t)return t;if(r(t))return o;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var i=l.test(t);return i||c.test(t)?f(t.slice(2),i?2:8):u.test(t)?o:+t}return t.attach("langx.numbers",{toFinite:h,toNumber:p,toInteger:function(t){var e=h(t),n=e%1;return e==e?n?e-n:e:0}})}),t("skylark-langx-numbers/main",["./numbers"],function(t){return t}),t("skylark-langx-numbers",["skylark-langx-numbers/main"],function(t){return t}),t("skylark-langx-objects/objects",["skylark-langx-ns/ns","skylark-langx-ns/_attach","skylark-langx-types","skylark-langx-numbers"],function(t,e,n,r){var i,a,o=Object.prototype.hasOwnProperty,s=Array.prototype.slice,u=n.isBoolean,l=n.isFunction,c=n.isObject,f=n.isPlainObject,h=n.isArray,p=n.isArrayLike,d=n.isString,y=r.toInteger;var g,v,k="undefined"!=typeof Symbol?Symbol.prototype:null;function m(t){if(!c(t))return[];var e=[];for(var n in t)e.push(n);return e}function x(t,e){if(!h(e))return null!=t&&o.call(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!o.call(t,i))return!1;t=t[i]}return!!n}function b(t,e,n,r){for(var i in e)r&&void 0!==t[i]||(n&&(f(e[i])||h(e[i]))?(f(e[i])&&!f(t[i])&&(t[i]={}),h(e[i])&&!h(t[i])&&(t[i]=[]),b(t[i],e[i],n,r)):void 0!==e[i]&&(t[i]=e[i]));return t}function w(t){var e=s.call(arguments,0),n=e.shift(),r=!1;return u(e[e.length-1])&&(r=e.pop()),{target:n,sources:e,deep:r}}function _(){var t=w.apply(this,arguments);return t.sources.forEach(function(e){b(t.target,e,t.deep,!1)}),t.target}function E(t){for(var e=m(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}return i=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&a(t,e,n,r)},a=function(t,e,n,r){var a=toString.call(t);if(a!==toString.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return k.valueOf.call(t)===k.valueOf.call(e)}var o="[object Array]"===a;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,u=e.constructor;if(s!==u&&!(l(s)&&s instanceof s&&l(u)&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),o){if((c=t.length)!==e.length)return!1;for(;c--;)if(!i(t[c],e[c],n,r))return!1}else{var f,h=Object.keys(t);if(c=h.length,Object.keys(e).length!==c)return!1;for(;c--;)if(f=h[c],void 0===e[f]||!i(t[f],e[f],n,r))return!1}return n.pop(),r.pop(),!0},t.attach("langx.objects",{allKeys:m,attach:e,clone:function t(e,n){var r;if(void 0===e||null===e)r=e;else if(n&&e.clone)r=e.clone();else if(h(e)){r=[];for(var i=0;i<e.length;i++)r.push(t(e[i]))}else if(f(e))for(var a in r={},e)r[a]=t(e[a]);else r=e;return r},defaults:(g=m,v=!0,function(t){var e=arguments.length;if(v&&(t=Object(t)),e<2||null==t)return t;for(var n=1;n<e;n++)for(var r=arguments[n],i=g(r),a=i.length,o=0;o<a;o++){var s=i[o];v&&void 0!==t[s]||(t[s]=r[s])}return t}),each:function(t,e){var n,r,i,a;if(t)if(void 0===(n=t.length)){for(r in t)if(t.hasOwnProperty(r)&&(a=t[r],!1===e.call(a,r,a)))break}else for(i=0;i<n&&(a=t[i],!1!==e.call(a,i,a));i++);return this},extend:function(t){var e,n=s.call(arguments,1);"boolean"==typeof t&&(e=t,t=n.shift());0==n.length&&(n=[t],t=this);return n.forEach(function(n){_(t,n,e)}),t},has:x,isEqual:function(t,e){return i(t,e)},includes:function(t,e,n,r){t=p(t)?t:E(t),n=n&&!r?y(n):0;var i=t.length;n<0&&(n=nativeMax(i+n,0));return d(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&baseIndexOf(t,e,n)>-1},isMatch:function(t,e){var n=n(e),r=n.length;if(null==t)return!r;for(var i=Object(t),a=0;a<r;a++){var o=n[a];if(e[o]!==i[o]||!(o in i))return!1}return!0},keys:function(t){if(c(t))return[];var e=[];for(var n in t)x(t,n)&&e.push(n);return e},mixin:_,omit:function(t,e,n){if(!t)return null;for(var r=_({},t),i=1;i<arguments.length;i++){var a=arguments[i];a in t&&delete r[a]}return r},pick:function(t,e,n){if(!t)return null;for(var r={},i=1;i<arguments.length;i++){var a=arguments[i];a in t&&(r[a]=t[a])}return r},removeItem:function(t,e){if(h(t)){var n=t.indexOf(e);-1!=n&&t.splice(n,1)}else if(f(t))for(var r in t)if(t[r]==e){delete t[r];break}return this},result:function(t,e,n){h(e)||(e=e.split("."));var r=e.length;if(!r)return l(n)?n.call(t):n;for(var i=0;i<r;i++){var a=null==t?void 0:t[e[i]];void 0===a&&(a=n,i=r),t=l(a)?a.call(t):a}return t},safeMixin:function(){var t=w.apply(this,arguments);return t.sources.forEach(function(e){b(t.target,e,t.deep,!0)}),t.target},values:E})}),t("skylark-langx-objects/main",["./objects"],function(t){return t}),t("skylark-langx-objects",["skylark-langx-objects/main"],function(t){return t}),t("skylark-langx-arrays/arrays",["skylark-langx-ns/ns","skylark-langx-types","skylark-langx-objects"],function(t,e,n){var r=Array.prototype.filter,i=e.isArrayLike;function a(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function o(t){return t!=t}function s(t){if(i(t)){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(i(r))for(var a=0;a<r.length;a++)e.push(r[a]);else e.push(r)}return e}return t}return t.attach("langx.arrays",{baseFindIndex:a,baseIndexOf:function(t,e,n){if(e!=e)return a(t,o,n);var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1},compact:function(t){return r.call(t,function(t){return null!=t})},first:function(t,e){return e?t.slice(0,e):t[0]},filter:function(t,e){return r.call(t,e)},flatten:s,grep:function(t,e){var r=[];return n.each(t,function(t,n){e(n,t)&&r.push(n)}),r},inArray:function(t,e){if(!e)return-1;var n;if(e.indexOf)return e.indexOf(t);n=e.length;for(;n--;)if(e[n]===t)return n;return-1},makeArray:function(t,e,n){if(i(t))return(n||[]).concat(Array.prototype.slice.call(t,e||0));return[t]},merge:function(t,e){var n=e.length,r=t.length,i=0;if("number"==typeof n)for(;i<n;i++)t[r++]=e[i];else for(;void 0!==e[i];)t[r++]=e[i++];return t.length=r,t},forEach:function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n)},map:function(t,e){var n,r,a,o=[];if(i(t))for(r=0;r<t.length;r++)null!=(n=e.call(t[r],t[r],r))&&o.push(n);else for(a in t)null!=(n=e.call(t[a],t[a],a))&&o.push(n);return s(o)},reduce:function(t,e,n){return Array.prototype.reduce.call(t,e,n)},uniq:function(t){return r.call(t,function(e,n){return t.indexOf(e)==n})}})}),t("skylark-langx-arrays/main",["./arrays"],function(t){return t}),t("skylark-langx-arrays",["skylark-langx-arrays/main"],function(t){return t}),t("skylark-langx/arrays",["skylark-langx-arrays"],function(t){return t}),t("skylark-langx-klass/klass",["skylark-langx-ns/ns","skylark-langx-types","skylark-langx-objects","skylark-langx-arrays"],function(t,e,n,r){var i=r.uniq,a=n.has,o=n.mixin,s=e.isArray,u=e.isDefined;var l=function(){function t(){return this._construct?this._construct.apply(this,arguments):this.init?this.init.apply(this,arguments):void 0}return function n(r,l,c,f){s(l)&&(f=c,c=l,l=null),l=l||Object,u(c)&&!s(c)&&(f=c,c=!1);var h=l;c&&(c=function(t,e){var n=[];return e.forEach(function(t){if(a(t,"__mixins__"))throw new Error("nested mixins");for(var e=[];t;)e.unshift(t),t=t.superclass;n=n.concat(e)}),(n=(n=i(n)).filter(function(e){for(var n=t;n;){if(e===n)return!1;if(a(n,"__mixins__"))for(var r=n.__mixins__,i=0;i<r.length;i++)if(r[i]===e)return!1;n=n.superclass}return!0})).length>0&&n}(h,c)),c&&(h=function(t,e){for(var n=t,r=0;r<e.length;r++){var i=new Function;i.prototype=Object.create(n.prototype),i.__proto__=n,i.superclass=null,o(i.prototype,e[r].prototype),i.prototype.__mixin__=e[r],n=i}return n}(h,c));var p=r.klassName||"",d=new Function("return function "+p+"() {var inst = this, ctor = arguments.callee;if (!(inst instanceof ctor)) {inst = Object.create(ctor.prototype);}return ctor._constructor.apply(inst, arguments) || inst;}")();return d.prototype=Object.create(h.prototype),d.prototype.constructor=d,d.superclass=l,d.__proto__=h,d._constructor||(d._constructor=t),c&&(d.__mixins__=c),d.partial||(d.partial=function(t,n){return function(t,n,r){var i=t.prototype,a=t.superclass.prototype,o=r&&r.noOverrided;r&&r.overrides;for(var s in n)if("constructor"!==s){var u=n[s];"function"==typeof n[s]?i[s]=u._constructor||o||"function"!=typeof a[s]?u:function(t,e,n){return function(){var t=this.overrided;this.overrided=n;var r=e.apply(this,arguments);return this.overrided=t,r}}(0,u,a[s]):e.isPlainObject(u)&&null!==u&&u.get?Object.defineProperty(i,s,u):i[s]=u}return t}(this,t,n)}),d.inherit||(d.inherit=function(t,e,r){return n(t,this,e,r)}),d.partial(r,f),d}}();return t.attach("langx.klass",l)}),t("skylark-langx-klass/main",["./klass"],function(t){return t}),t("skylark-langx-klass",["skylark-langx-klass/main"],function(t){return t}),t("skylark-langx/klass",["skylark-langx-klass"],function(t){return t}),t("skylark-langx/ArrayStore",["./klass"],function(t){var e=function(t){if(!t)return t;var n=!!t.then;function r(r){t[r]=function(){var i=arguments,a=Deferred.when(t,function(t){return e(Array.prototype[r].apply(t,i))});if("forEach"!==r||n)return a}}return n&&(t=Object.delegate(t)),r("forEach"),r("filter"),r("map"),null==t.total&&(t.total=Deferred.when(t,function(t){return t.length})),t},n=t({klassName:"ArrayStore",queryEngine:function(t,e){switch(typeof t){default:throw new Error("Can not query with a "+typeof t);case"object":case"undefined":var n=t;t=function(t){for(var e in n){var r=n[e];if(r&&r.test){if(!r.test(t[e],t))return!1}else if(r!=t[e])return!1}return!0};break;case"string":if(!this[t])throw new Error("No filter function "+t+" was found in store");t=this[t];case"function":}function r(n){var r=function(t,e,n){var r,i=0,a=t&&t.length||0,o=[];a&&"string"==typeof t&&(t=t.split(""));"string"==typeof e&&(e=cache[e]||buildFn(e));if(n)for(;i<a;++i)r=t[i],e.call(n,r,i,t)&&o.push(r);else for(;i<a;++i)r=t[i],e(r,i,t)&&o.push(r);return o}(n,t),i=e&&e.sort;if(i&&r.sort("function"==typeof i?i:function(t,e){for(var n,r=0;n=i[r];r++){var a=t[n.attribute],o=e[n.attribute];if(a=null!=a?a.valueOf():a,o=null!=o?o.valueOf():o,a!=o)return!!n.descending==(null==a||a>o)?-1:1}return 0}),e&&(e.start||e.count)){var a=r.length;(r=r.slice(e.start||0,(e.start||0)+(e.count||1/0))).total=a}return r}return r.matches=t,r},idProperty:"id",get:function(t){return this.data[this.index[t]]},getIdentity:function(t){return t[this.idProperty]},put:function(t,e){var n=this.data,r=this.index,i=this.idProperty,a=t[i]=e&&"id"in e?e.id:i in t?t[i]:Math.random();if(a in r){if(e&&!1===e.overwrite)throw new Error("Object already exists");n[r[a]]=t}else r[a]=n.push(t)-1;return a},add:function(t,e){return(e=e||{}).overwrite=!1,this.put(t,e)},remove:function(t){var e=this.index,n=this.data;if(t in e)return n.splice(e[t],1),this.setData(n),!0},query:function(t,n){return e(this.queryEngine(t,n)(this.data))},setData:function(t){t.items?(this.idProperty=t.identifier||this.idProperty,t=this.data=t.items):this.data=t,this.index={};for(var e=0,n=t.length;e<n;e++)this.index[t[e][this.idProperty]]=e},init:function(t){for(var e in t)this[e]=t[e];this.setData(this.data||[])}});return n}),t("skylark-langx-aspect/aspect",["skylark-langx-ns"],function(t){var e,n=0;function r(t){return function(r,i,a,o){var s,u=r[i];u&&u.target==r||(r[i]=s=function(){for(var t=n,r=arguments,i=s.before;i;)r=i.advice.apply(this,r)||r,i=i.next;if(s.around)var a=s.around.advice(this,r);for(var o=s.after;o&&o.id<t;){if(o.receiveArguments){var u=o.advice.apply(this,r);a=u===e?a:u}else a=o.advice.call(this,a,r);o=o.next}return a},u&&(s.around={advice:function(t,e){return u.apply(t,e)}}),s.target=r);var l=function(t,e,r,i){var a,o=t[e],s="around"==e;if(s){var u=r(function(){return o.advice(this,arguments)});a={remove:function(){u&&(u=t=r=null)},advice:function(t,e){return u?u.apply(t,e):o.advice(t,e)}}}else a={remove:function(){if(a.advice){var n=a.previous,i=a.next;i||n?(n?n.next=i:t[e]=i,i&&(i.previous=n)):delete t[e],t=r=a.advice=null}},id:n++,advice:r,receiveArguments:i};if(o&&!s)if("after"==e){for(;o.next&&(o=o.next););o.next=a,a.previous=o}else"before"==e&&(t[e]=a,a.next=o,o.previous=a);else t[e]=a;return a}(s||u,t,a,o);return a=null,l}}return t.attach("langx.aspect",{after:r("after"),around:r("around"),before:r("before")})}),t("skylark-langx-aspect/main",["./aspect"],function(t){return t}),t("skylark-langx-aspect",["skylark-langx-aspect/main"],function(t){return t}),t("skylark-langx/aspect",["skylark-langx-aspect"],function(t){return t}),t("skylark-langx-funcs/funcs",["skylark-langx-ns/ns","skylark-langx-types","skylark-langx-objects"],function(t,e,n){var r=n.mixin,i=Array.prototype.slice,a=e.isFunction,o=e.isString;var s=function(){function t(){}return function(e,n){t.prototype=e;var i=new t;return t.prototype=null,n&&r(i,n),i}}(),u={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};return t.attach("langx.funcs",{debounce:function(t,e){var n;return function(){var r=this,i=arguments;n&&clearTimeout(n),n=setTimeout(function(){n=null,t.apply(r,i)},e)}},delegate:s,defer:function(t){requestAnimationFrame?requestAnimationFrame(t):setTimeoutout(t);return this},noop:function(){},proxy:function t(e,n){var r=2 in arguments&&i.call(arguments,2);if(a(e)){return function(){return e.apply(n,r?r.concat(i.call(arguments)):arguments)}}if(o(n))return r?(r.unshift(e[n],e),t.apply(null,r)):t(e[n],e);throw new TypeError("expected function")},returnTrue:function(){return!0},returnFalse:function(){return!1},templateSettings:u,template:function(t,e,r){!e&&r&&(e=r);e=n.defaults({},e,u);var i,a=RegExp([(e.escape||noMatch).source,(e.interpolate||noMatch).source,(e.evaluate||noMatch).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(a,function(e,n,r,i,a){return s+=t.slice(o,a).replace(escapeRegExp,escapeChar),o=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),e}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n");s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(e.variable||"obj","_",s)}catch(t){throw t.source=s,t}var l=function(t){return i.call(this,t,_)},c=e.variable||"obj";return l.source="function("+c+"){\n"+s+"}",l}})}),t("skylark-langx-funcs/main",["./funcs"],function(t){return t}),t("skylark-langx-funcs",["skylark-langx-funcs/main"],function(t){return t}),t("skylark-langx-async/Deferred",["skylark-langx-arrays","skylark-langx-funcs","skylark-langx-objects"],function(t,e,n){"use strict";var r=Symbol?Symbol():"__pglisteners",i=Symbol?Symbol():"__pgnotifies",a=Array.prototype.slice,o=e.proxy,s=t.makeArray,u=n.result,l=n.mixin;l(Promise.prototype,{always:function(t){return this.then(t,t),this},done:function(){for(var t=0;t<arguments.length;t++)this.then(arguments[t]);return this},fail:function(t){return this.catch(t),this}});var c=function(){var t=this,e=this.promise=new Promise(function(e,n){t._resolve=e,t._reject=n});f(e,t),this[r]=[],this[i]=[]};function f(t,e){var n={state:function(){return e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},then:function(t,e,n){return n&&this.progress(n),f(Promise.prototype.then.call(this,t&&function(e){return e&&void 0!==e.__ctx__?t.apply(e.__ctx__,e):t(e)},e&&function(t){return t&&void 0!==t.__ctx__?e.apply(t.__ctx__,t):e(t)}))},progress:function(t){return e[i].forEach(function(e){t(e)}),e[r].push(t),this}};return n.pipe=n.then,l(t,n)}return c.prototype.resolve=function(t){var e=a.call(arguments);return this.resolveWith(null,e)},c.prototype.resolveWith=function(t,e){return(e=e?s(e):[]).__ctx__=t,this._resolve(e),this._resolved=!0,this},c.prototype.notify=function(t){try{return this[i].push(t),this[r].forEach(function(e){return e(t)})}catch(t){this.reject(t)}return this},c.prototype.reject=function(t){var e=a.call(arguments);return this.rejectWith(null,e)},c.prototype.rejectWith=function(t,e){return(e=e?s(e):[]).__ctx__=t,this._reject(e),this._rejected=!0,this},c.prototype.isResolved=function(){return!!this._resolved},c.prototype.isRejected=function(){return!!this._rejected},c.prototype.then=function(t,e,n){var r=u(this,"promise");return r.then(t,e,n)},c.prototype.progress=function(t){var e=u(this,"promise");return e.progress(t)},c.prototype.catch=function(t){var e=u(this,"promise");return e.catch(t)},c.prototype.done=function(){var t=u(this,"promise");return t.done.apply(t,arguments)},c.prototype.fail=function(t){var e=u(this,"promise");return e.fail(t)},c.all=function(t){var e=new c;return Promise.all(t).then(e.resolve.bind(e),e.reject.bind(e)),u(e,"promise")},c.first=function(t){return f(Promise.race(t))},c.when=function(t,e,n,r){var i=t&&"function"==typeof t.then,a=i&&t instanceof Promise;if(!i)return arguments.length>1?e?e(t):t:(new c).resolve(t);if(!a){var s=new c(t.cancel);t.then(o(s.resolve,s),o(s.reject,s),s.notify),t=s.promise}return e||n||r?t.then(e,n,r):t},c.reject=function(t){var e=new c;return e.reject(t),e.promise},c.immediate=c.resolve=function(t){var e=new c;return e.resolve.apply(e,arguments),e.promise},c}),t("skylark-langx-async/async",["skylark-langx-ns","skylark-langx-objects","./Deferred"],function(t,e,n){var r=e.each,i={Deferred:n,parallel:function(t,e,i){var a=[];return i=i||null,e=e||[],r(t,function(t,n){a.push(n.apply(i,e))}),n.all(a)},series:function(t,e,i){var a=[],o=new n,s=o.promise;return i=i||null,e=e||[],o.resolve(),r(t,function(t,n){s=s.then(function(){return n.apply(i,e)}),a.push(s)}),n.all(a)},waterful:function(t,e,i){var a=new n,o=a.promise;return i=i||null,e=e||[],a.resolveWith(i,e),r(t,function(t,e){o=o.then(e)}),o}};return t.attach("langx.async",i)}),t("skylark-langx-async/main",["./async"],function(t){return t}),t("skylark-langx-async",["skylark-langx-async/main"],function(t){return t}),t("skylark-langx/async",["skylark-langx-async"],function(t){return t}),t("skylark-langx-datetimes/datetimes",["skylark-langx-ns"],function(t){return t.attach("langx.datetimes",{parseMilliSeconds:function(t){var e=t.split(" "),n=parseInt(e[0]);if(isNaN(n))return 0;switch(e[1].trim().replace(/\./g,"")){case"minutes":case"minute":case"min":case"mm":case"m":return 6e4*n;case"hours":case"hour":case"HH":case"hh":case"h":case"H":return 36e5*n;case"seconds":case"second":case"sec":case"ss":case"s":return 1e3*n;case"days":case"day":case"DD":case"dd":case"d":return 864e5*n;case"months":case"month":case"MM":case"M":return 24192e5*n;case"weeks":case"week":case"W":case"w":return 6048e5*n;case"years":case"year":case"yyyy":case"yy":case"y":return 31536e6*n;default:return 0}}})}),t("skylark-langx-datetimes/main",["./datetimes"],function(t){return t}),t("skylark-langx-datetimes",["skylark-langx-datetimes/main"],function(t){return t}),t("skylark-langx/datetimes",["skylark-langx-datetimes"],function(t){return t}),t("skylark-langx/Deferred",["skylark-langx-async/Deferred"],function(t){return t}),t("skylark-langx-emitter/Evented",["skylark-langx-ns/ns","skylark-langx-types","skylark-langx-objects","skylark-langx-arrays","skylark-langx-klass"],function(t,e,n,r,i){var a=Array.prototype.slice,o=r.compact,s=e.isDefined,u=e.isPlainObject,l=e.isFunction,c=e.isString,f=e.isEmptyObject,h=n.mixin;function p(t){var e=(""+t).split(".");return{name:e[0],ns:e.slice(1).join(" ")}}var d=i({on:function(t,e,n,r,i,a){var o=this,s=this._hub||(this._hub={});return u(t)?(i=r,each(t,function(t,r){o.on(t,e,n,r,i,a)}),this):(c(e)||l(r)||(i=r,r=n,n=e,e=void 0),l(n)&&(i=r,r=n,n=null),c(t)&&(t=t.split(/\s/)),t.forEach(function(t){var o=p(t),u=o.name,l=o.ns;(s[u]||(s[u]=[])).push({fn:r,selector:e,data:n,ctx:i,ns:l,one:a})}),this)},one:function(t,e,n,r,i){return this.on(t,e,n,r,i,1)},trigger:function(t){if(!this._hub)return this;var e=this;c(t)&&(t=new CustomEvent(t)),Object.defineProperty(t,"target",{value:this});var n=a.call(arguments,1);return n=s(n)?[t].concat(n):[t],[t.type||t.name,"all"].forEach(function(r){var i=p(r),a=i.name,s=i.ns,u=e._hub[a];if(u){for(var l=u.length,c=!1,f=0;f<l;f++){var d=u[f];(!s||d.ns&&d.ns.startsWith(s))&&(t.data?d.data&&(t.data=h({},d.data,t.data)):t.data=d.data||null,d.fn.apply(d.ctx,n),d.one&&(u[f]=null,c=!0))}c&&(e._hub[r]=o(u))}}),this},listened:function(t){var e=(this._hub||(this._events={}))[t]||[];return e.length>0},listenTo:function(t,e,n,r){if(!t)return this;c(n)&&(n=this[n]),r?t.one(e,n,this):t.on(e,n,this);for(var i,a=this._listeningTo||(this._listeningTo=[]),o=0;o<a.length;o++)if(a[o].obj==t){i=a[o];break}i||a.push(i={obj:t,events:{}});var s=i.events,u=s[e]=s[e]||[];return-1==u.indexOf(n)&&u.push(n),this},listenToOnce:function(t,e,n){return this.listenTo(t,e,n,1)},off:function(t,e){var n=this._hub||(this._hub={});return c(t)&&(t=t.split(/\s/)),t.forEach(function(t){var r=p(t),i=r.name,a=r.ns,o=n[i];if(o){var s=[];if(e||a)for(var u=0,l=o.length;u<l;u++)e&&o[u].fn!==e&&o[u].fn._!==e?s.push(o[u]):!a||o[u].ns&&0==o[u].ns.indexOf(a)||s.push(o[u]);s.length?n[i]=s:delete n[i]}}),this},unlistenTo:function(t,e,n){var r=this._listeningTo;if(!r)return this;for(var i=0;i<r.length;i++){var a=r[i];if(!t||t==a.obj){var s=a.events;for(var u in s)if(!e||e==u){for(var l=s[u],c=0;c<l.length;c++)n&&n!=l[i]||(a.obj.off(u,l[i],this),l[i]=null);l=s[u]=o(l),f(l)&&(s[u]=null)}f(s)&&(r[i]=null)}}return r=this._listeningTo=o(r),f(r)&&(this._listeningTo=null),this}});return t.attach("langx.Evented",d)}),t("skylark-langx-emitter/main",["./Evented"],function(t){return t}),t("skylark-langx-emitter",["skylark-langx-emitter/main"],function(t){return t}),t("skylark-langx/Evented",["skylark-langx-emitter"],function(t){return t}),t("skylark-langx/funcs",["skylark-langx-funcs"],function(t){return t}),t("skylark-langx-hoster/hoster",["skylark-langx-ns"],function(t){var n={isBrowser:!0,isNode:null,global:this,browser:null,node:null};"object"==typeof process&&process.versions&&process.versions.node&&process.versions.v8&&(n.isNode=!0,n.isBrowser=!1),n.global=function(){return"undefined"!=typeof global&&"function"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this}();var r=null;if(Object.defineProperty(n,"document",function(){if(!r){var t="undefined"==typeof window?e("html-element"):window;r=t.document}return r}),n.isBrowser){var i=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}}(navigator.userAgent),a=n.browser={};i.browser&&(a[i.browser]=!0,a.version=i.version),a.chrome?a.webkit=!0:a.webkit&&(a.safari=!0)}return t.attach("langx.hoster",n)}),t("skylark-langx-hoster/main",["./hoster"],function(t){return t}),t("skylark-langx-hoster",["skylark-langx-hoster/main"],function(t){return t}),t("skylark-langx/hoster",["skylark-langx-hoster"],function(t){return t}),t("skylark-langx/numbers",["skylark-langx-numbers"],function(t){return t}),t("skylark-langx/objects",["skylark-langx-objects"],function(t){return t}),t("skylark-langx-strings/strings",["skylark-langx-ns"],function(t){var e=Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"});function n(t){return e[t]}var r=/[&<>"'`=]/g;var i=0;function a(t,e){var n,r,i,a,o,s,u,l=arguments.callee;return l.cache[t]||(l.cache[t]=(n=t,r=/^[\w\-]+$/.test(t)?l.get(t):(n="template(string)",t),i=1,a=("try { "+(l.variable?"var "+l.variable+" = this.stash;":"with (this.stash) { ")+"this.ret += '"+r.replace(/<%/g,"").replace(/%>/g,"").replace(/'(?![^\x11\x13]+?\x13)/g,"\\x27").replace(/^\s*|\s*$/g,"").replace(/\n|\r\n/g,function(){return"';\nthis.line = "+ ++i+"; this.ret += '\\n"}).replace(/\x11=raw(.+?)\x13/g,"' + ($1) + '").replace(/\x11=(.+?)\x13/g,"' + this.escapeHTML($1) + '").replace(/\x11(.+?)\x13/g,"'; $1; this.ret += '")+"'; "+(l.variable?"":"}")+"return this.ret;} catch (e) { throw 'TemplateError: ' + e + ' (on "+n+"' + ' line ' + this.line + ')'; } //@ sourceURL="+n+"\n").replace(/this\.ret \+= '';/g,""),o=new Function(a),s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#x22;","'":"&#x27;"},u=function(t){return(""+t).replace(/[&<>\'\"]/g,function(t){return s[t]})},function(t){return o.call(l.context={escapeHTML:u,line:1,ret:"",stash:t})})),e?l.cache[t](e):l.cache[t]}return a.cache={},a.get=function(t){return document.getElementById(t).innerHTML},t.attach("langx.strings",{camelCase:function(t){return t.replace(/-([\da-z])/g,function(t){return t.toUpperCase().replace("-","")})},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},deserializeValue:function(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?JSON.parse(t):t):t}catch(e){return t}},escapeHTML:function(t){if(null==t)return"";if(!t)return String(t);return t.toString().replace(r,n)},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)})},lowerFirst:function(t){return t.charAt(0).toLowerCase()+t.slice(1)},rtrim:function(t){return t.replace(/\s+$/g,"")},serializeValue:function(t){return JSON.stringify(t)},substitute:function(t,e,n,r){function i(t,e){if(t.match(/\./)){var n,r=function(t,e){var i=t.pop();return i?e[i]?r(t,n=e[i]):null:n};return r(t.split(".").reverse(),e)}return e[t]}return r=r||window,n=n?proxy(r,n):function(t){return t},t.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(t,a,o){var s=i(a,e);return o&&(s=i(o,r).call(r,s,a)),n(s,a).toString()})},slugify:function(t){t=(t=t.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var e="ÁÄÂÀÃÅČÇĆĎÉĚËÈÊẼĔȆÍÌÎÏŇÑÓÖÒÔÕØŘŔŠŤÚŮÜÙÛÝŸŽáäâàãåčçćďéěëèêẽĕȇíìîïňñóöòôõøðřŕšťúůüùûýÿžþÞĐđßÆa·/_,:;",n=0,r=e.length;n<r;n++)t=t.replace(new RegExp(e.charAt(n),"g"),"AAAAAACCCDEEEEEEEEIIIINNOOOOOORRSTUUUUUYYZaaaaaacccdeeeeeeeeiiiinnooooooorrstuuuuuyyzbBDdBAa------".charAt(n));return t=t.replace(/\s+/g,"-").replace(/-+/g,"-")},template:a,trim:function(t){return null==t?"":String.prototype.trim.call(t)},uniqueId:function(t){var e=++i+"";return t?t+e:e},upperFirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}})}),t("skylark-langx-strings/main",["./strings"],function(t){return t}),t("skylark-langx-strings",["skylark-langx-strings/main"],function(t){return t}),t("skylark-langx/strings",["skylark-langx-strings"],function(t){return t}),t("skylark-langx/Stateful",["./Evented","./strings","./objects"],function(t,e,n){var r=n.isEqual,i=n.mixin,a=n.result,o=n.isEmptyObject,s=n.clone,u=e.uniqueId,l=t.inherit({_construct:function(t,e){var n=t||{};e||(e={}),this.cid=u(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var r=a(this,"defaults");n=i({},r,n),this.set(n,e),this.changed={}},changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",toJSON:function(t){return s(this.attributes)},get:function(t){return this.attributes[t]},has:function(t){return null!=this.get(t)},set:function(t,e,n){if(null==t)return this;var i;if("object"==typeof t?(i=t,n=e):(i={})[t]=e,n||(n={}),!this._validate(i,n))return!1;var a=n.unset,o=n.silent,u=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=s(this.attributes),this.changed={});var c=this.attributes,f=this.changed,h=this._previousAttributes;for(var p in i)e=i[p],r(c[p],e)||u.push(p),r(h[p],e)?delete f[p]:f[p]=e,a?delete c[p]:c[p]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!o){u.length&&(this._pending=n);for(var d=0;d<u.length;d++)this.trigger("change:"+u[d],this,c[u[d]],n)}if(l)return this;if(!o)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i({},t,{unset:!0}))},hasChanged:function(t){return null==t?!o(this.changed):void 0!==this.changed[t]},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&s(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var i in t){var a=t[i];r(e[i],a)||(n[i]=a)}return!o(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return s(this._previousAttributes)},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i(e,{validationError:n})),!1)}});return l}),t("skylark-langx-topic/topic",["skylark-langx-ns","skylark-langx-emitter/Evented"],function(t,e){var n=new e;return t.attach("langx.topic",{publish:function(t,e,r){var i=[].slice.call(arguments,1);return n.trigger({type:t,data:i})},subscribe:function(t,e,r){var i=function(t){e.apply(r,t.data)};return n.on(t,i),{remove:function(){n.off(t,i)}}}})}),t("skylark-langx-topic/main",["./topic"],function(t){return t}),t("skylark-langx-topic",["skylark-langx-topic/main"],function(t){return t}),t("skylark-langx/topic",["skylark-langx-topic"],function(t){return t}),t("skylark-langx/types",["skylark-langx-types"],function(t){return t}),t("skylark-langx/langx",["./skylark","./arrays","./ArrayStore","./aspect","./async","./datetimes","./Deferred","./Evented","./funcs","./hoster","./klass","./numbers","./objects","./Stateful","./strings","./topic","./types"],function(t,e,n,r,i,a,o,s,u,l,c,f,h,p,d,y,g){"use strict";Array.prototype.concat,Array.prototype.indexOf,Array.prototype.slice,Array.prototype.filter;var v=h.mixin,k=h.safeMixin,m=g.isFunction;var x=1;function b(){return b}return v(b,{createEvent:function(t,e){var n=new CustomEvent(t,e);return k(n,e)},funcArg:function(t,e,n,r){return m(e)?e.call(t,n,r):e},getQueryParams:function(t){var e=(t=t||window.location.href).split("?"),n={};e.length>1&&e[1].split("&").forEach(function(t){var e=t.split("=");n[e[0]]=e[1]});return n},toPixel:function(t){return parseFloat(t)||0},uid:function(t){return t._uid||(t._uid=x++)},URL:"undefined"!=typeof window?window.URL||window.webkitURL:null}),v(b,e,r,a,u,f,h,d,g,{ArrayStore:n,async:i,Deferred:o,Evented:s,hoster:l,klass:c,Restful:Restful,Stateful:Stateful,topic:y}),t.langx=b}),t("skylark-domx-browser/browser",["skylark-langx/skylark","skylark-langx/langx"],function(t,e){"use strict";var n,r,i=e.hoster.browser,a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},o=null,s="",u="",l={},c={},f=/^(Webkit|webkit|O|Moz|moz|ms)(.*)$/,h=window.document,p=h.createElement("div"),d=p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.matchesSelector,y=p.requestFullscreen||p.webkitRequestFullscreen||p.mozRequestFullScreen||p.msRequestFullscreen,g=(h.exitFullscreen||h.webkitCancelFullScreen||h.mozCancelFullScreen||h.msExitFullscreen,p.style);for(var v in g){var k=v.match(r||f);if(k){r||(n=k[1],r=new RegExp("^("+n+")(.*)$"),n,s="-"+n.toLowerCase()+"-",u=n.toLowerCase()),l[e.lowerFirst(k[2])]=v;var m=e.dasherize(k[2]);c[m]=s+m,a[v]&&(o=a[v])}}return o||void 0!==g.transition&&(o=a.transition),e.mixin(i,{css3PropPrefix:s,isIE:!!/msie/i.exec(window.navigator.userAgent),normalizeStyleProperty:function(t){return l[t]||t},normalizeCssProperty:function(t){return c[t]||t},normalizeCssEvent:function(t){return u?u+t:t.toLowerCase()},matchesSelector:d,requestFullScreen:y,exitFullscreen:y,location:function(){return window.location},support:{}}),o&&(i.support.transition={end:o}),p=null,t.attach("domx.browser",i)}),t("skylark-domx-browser/main",["./browser"],function(t){return t}),t("skylark-domx-browser",["skylark-domx-browser/main"],function(t){return t}),t("skylark-domx-noder/noder",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-browser"],function(t,e,n){var r=!!navigator.userAgent.match(/Trident/g)||!!navigator.userAgent.match(/MSIE/g),i=/^\s*<(\w+|!)[^>]*>/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,o=document.createElement("div"),s=document.createElement("table"),u=document.createElement("tbody"),l=document.createElement("tr"),c={tr:u,tbody:s,thead:s,tfoot:s,td:l,th:l,"*":o},f=/^(?:body|html)$/i,h=Array.prototype.map,p=Array.prototype.slice;function d(t,n){return e.isArrayLike(t)||(t=[t]),n&&(t=h.call(t,function(t){return t.cloneNode(!0)})),e.flatten(t)}function y(t,e){var n=t.nodeName&&t.nodeName.toLowerCase();return void 0!==e?n===e.toLowerCase():n}function g(t,n){if(e.isFunction(t))return t.apply(n,[]);if(e.isArrayLike(t)){for(var r,i=0;i<t.length;i++)e.isFunction(t[i])&&(t[i]=t[i].apply(n,[]),e.isArrayLike(t[i])&&(r=!0));r&&(t=e.flatten(t))}return t}function v(t,e,n){e=g(e,t);for(var r=t,i=d(e,n),a=0;a<i.length;a++)r.appendChild(i[a]);return this}function k(t,e,n){var r=document.createElement(t);if(e)for(var i in e)r.setAttribute(i,e[i]);return n&&v(n,r),r}var m=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;function x(t,e,n){if(n)return t.parentNode===e;if(document.documentElement.contains)return e.contains(t);for(;t;){if(e===t)return!0;t=t.parentNode}return!1}function b(t){return t?9==t.nodeType?t:t.ownerDocument:document}function w(){return w}return e.mixin(w,{active:function(t){var e;t=t||document;try{e=t.activeElement}catch(n){e=t.body}e||(e=t.body);e.nodeName||(e=t.body);return e},blur:function(t){t.blur()},body:function(){return document.body},clone:function(t,e){var n,i=this;if(!r||1!==t.nodeType||e)return t.cloneNode(e);if(!e)return n=document.createElement(t.nodeName),each(i.getAttribs(t),function(e){i.setAttrib(n,e.nodeName,i.getAttrib(t,e.nodeName))}),n},contents:function(t){if(y(t,"iframe"))return t.contentDocument;return t.childNodes},createElement:k,createFragment:function(t){if(t=e.trim(t),a.test(t))return[k(RegExp.$1)];var n=i.test(t)&&RegExp.$1;n in c||(n="*");var r=c[n];return r.innerHTML=""+t,dom=p.call(r.childNodes),dom.forEach(function(t){r.removeChild(t)}),dom},contains:function(t,e){return x(e,t)},createTextNode:function(t){return document.createTextNode(t)},doc:function(){return document},empty:function(t){for(;t.hasChildNodes();){var e=t.firstChild;t.removeChild(e)}return this},fullScreen:function(t){if(!1===t)n.exitFullScreen.apply(document);else{if(!t)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;n.requestFullScreen.apply(t),t}},focusable:function(t,e){var n,r,i,a,o,s=t.nodeName.toLowerCase();if("area"===s)return n=t.parentNode,r=n.name,!(!t.href||!r||"map"!==n.nodeName.toLowerCase())&&((i=$("img[usemap='#"+r+"']")).length>0&&i.is(":visible"));/^(input|select|textarea|button|object)$/.test(s)?(a=!t.disabled)&&(o=$(t).closest("fieldset")[0])&&(a=!o.disabled):a="a"===s&&t.href||e;return a&&$(t).is(":visible")&&visible($(t))},html:function(t,n){if(void 0===n)return t.innerHTML;if(this.empty(t),n=n||"",e.isString(n)&&(n=n.replace(m,"<$1></$2>")),e.isString(n)||e.isNumber(n))t.innerHTML=n;else if(e.isArrayLike(n))for(var r=0;r<n.length;r++)t.appendChild(n[r]);else t.appendChild(n)},isChildOf:x,isDocument:function(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE},isInDocument:function(t){return t===document.body||document.body.contains(t)},isWindow:e.isWindow,nodeName:y,offsetParent:function(t){var e=t.offsetParent||document.body;for(;e&&!f.test(e.nodeName)&&"static"==document.defaultView.getComputedStyle(e).position;)e=e.offsetParent;return e},ownerDoc:b,ownerWindow:function(t){var e=b(t);return e.defaultView||e.parentWindow},after:function(t,e,n){e=g(e,t);var r=(a=t).parentNode;if(r)for(var i=d(e,n),a=a.nextSibling,o=0;o<i.length;o++)a?r.insertBefore(i[o],a):r.appendChild(i[o]);return this},before:function(t,e,n){e=g(e,t);var r=t,i=r.parentNode;if(i)for(var a=d(e,n),o=0;o<a.length;o++)i.insertBefore(a[o],r);return this},prepend:function(t,e,n){for(var r=t,i=r.firstChild,a=d(e,n),o=0;o<a.length;o++)i?r.insertBefore(a[o],i):r.appendChild(a[o]);return this},append:v,reflow:function(t){null==el&&(t=document);return t.offsetHeight,this},remove:function(t){if(t&&t.parentNode)try{t.parentNode.removeChild(t)}catch(t){console.warn("The node is already removed",t)}return this},removeChild:function(t,n){e.isArrayLike(n)||(n=[n]);for(var r=0;r<n.length;r++)t.removeChild(n[r]);return this},replace:function(t,e){return e.parentNode.replaceChild(t,e),this},traverse:function t(e,n){n(e);for(var r=0,i=e.childNodes.length;r<i;r++)t(e.childNodes[r],n);return this},reverse:function(t){for(var e=t.firstChild,n=t.children.length-1;n>0;n--)if(n>0){var r=t.children[n];t.insertBefore(r,e)}},wrapper:function(t,n){e.isString(n)&&(n=this.createFragment(n).firstChild);t.parentNode.insertBefore(n,t),n.appendChild(t)},wrapperInner:function(t,e){var n=p.call(t.childNodes);t.appendChild(e);for(var r=0;r<n.length;r++)e.appendChild(n[r]);return this},unwrap:function(t){var e=t.parentNode;if(e){if(this.isDoc(e.parentNode))return;e.parentNode.insertBefore(t,e)}}}),t.attach("domx.noder",w)}),t("skylark-domx-noder/main",["./noder"],function(t){return t}),t("skylark-domx-noder",["skylark-domx-noder/main"],function(t){return t}),t("skylark-domx-css/css",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-noder"],function(t,e,n){"use strict";var r,i=document.getElementsByTagName("head")[0],a=0,o={},s={},u=p(),l=s[u],c="cssRules"in l?"cssRules":"rules",f=l.deleteRule||l.removeRule;if(l.insertRule){var h=l.insertRule;r=function(t,e,n){h.call(this,t+"{"+e+"}",n)}}else r=l.addRule;function p(t,r){var o,u={type:"text/css"},l=a++;return(r=r||{}).media&&(u.media=r.media),o=t?n.create("link",e.mixin(u,{rel:"stylesheet",async:!1})):n.createElement("style",u),n.append(i,o),s[l]={id:l,node:o},l}function d(t,n){var r=s[t];return e.isNumber(n)?f.call(r,n):e.each(r[c],function(t,e){if(n===e)return f.call(r,t),!1}),this}function y(t,r){var i,a=s[t];return i=e.isString(r)?r:v(r),n.append(a.node,n.createTextNode(i)),this}function g(t){return t.startsWith("@")}function v(t){var n=function(t,e,n){return t&&(g(t)?n+=1:e=t+" "+e),{name:e,depth:n}},r=function(t,i,a){var o="",s=g(t);if(g(t))e.isString(i)?o=k.SPACE.repeat(a)+t.trim()+' "'+i.trim()+' ";\n':(o+=k.SPACE.repeat(a)+t.trim()+" {\n",o+=r("",i,a+1),o+=k.SPACE.repeat(a)+" }\n");else if(e.isString(i))o=k.SPACE.repeat(a)+t.trim(),o=s?o+' "'+i.trim()+' ";\n':o+": "+i.trim()+";\n";else if(e.isArray(i))for(var u=0;u<i.length;u++)o+=r(t,i[u],a);else{if(t){for(var u in o+=k.SPACE.repeat(a)+t.trim()+" {\n",i){var l=i[u];e.isString(l)&&(o+=r(u,l,a+1))}o+=k.SPACE.repeat(a)+"}\n"}for(var u in i){var l=i[u];if(!e.isString(l)){var c=n(t,u,a);o+=r(c.name,l,c.depth)}}}return o};return r("",t,0)}function k(){return k}return e.mixin(k,{SPACE:"\t",addRules:function(t){return this.addRules(u,t)},addSheetRules:y,createStyleSheet:function(t,e){e||(e={});var n=p(!1,e);t&&y(n,t);return n},deleteSheetRule:d,deleteRule:function(t){return d(u,t),this},insertRule:function(t,e,n){return this.insertSheetRule(u,t,e,n)},insertSheetRule:function(t,e,n,i){if(!e||!n)return-1;var a=s[t];return i=i||a[c].length,r.call(a,e,n,i)},loadStyleSheet:function(t,n,r,i){e.isFunction(n)&&(i=r,r=n,n={});var a=o[t];if(!a){var u=p(!0,n);a=o[t]=s[u],e.mixin(a,{state:0,url:t,deferred:new e.Deferred});var l=a.node;startTime=(new Date).getTime(),l.onload=function(){a.state=1,a.deferred.resolve(a.id)},l.onerror=function(t){a.state=-1,a.deferred.reject(t)},l.href=a.url}(r||i)&&a.deferred.promise.then(r,i);return a.id},removeStyleSheet:function(t){if(t===u)throw new Error("The default stylesheet can not be deleted");var e=s[t];return delete s[t],n.remove(e.node),this},toString:v}),t.attach("domx.css",k)}),t("skylark-domx-css/main",["./css"],function(t){return t}),t("skylark-domx-css",["skylark-domx-css/main"],function(t){return t})}(n,r),!i){var s=r("skylark-langx/skylark");a?module.exports=s:e.skylarkjs=s}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-domx-css-all.js.map
