{"version":3,"sources":["skylark-langx-strings-all.js"],"names":["define","obj1","path","obj2","split","length","ns","i","name","_attach","skylark","attach","obj","main","escapeCharMap","Object","freeze","&","<",">","\"","'","`","=","replaceChar","c","escapeChars","idCounter","template","id","data","string","line","body","func","map","escapeHTML","me","arguments","callee","cache","test","get","variable","replace","Function","_","stash","call","context","ret","document","getElementById","innerHTML","camelCase","str","a","toUpperCase","dasherize","toLowerCase","deserializeValue","value","JSON","parse","e","String","toString","generateUUID","r","Math","random","v","lowerFirst","charAt","slice","rtrim","serializeValue","stringify","substitute","transform","thisObject","getObject","key","match","retVal","getValue","keys","_k","pop","reverse","window","proxy","format","slugify","from","l","RegExp","trim","prototype","uniqueId","prefix","upperFirst","strings"],"mappings":"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","file":"../skylark-langx-strings-all.js","sourcesContent":["define('skylark-langx-ns/_attach',[],function(){\r\n    return  function attach(obj1,path,obj2) {\r\n        if (typeof path == \"string\") {\r\n            path = path.split(\".\");//[path]\r\n        };\r\n        var length = path.length,\r\n            ns=obj1,\r\n            i=0,\r\n            name = path[i++];\r\n\r\n        while (i < length) {\r\n            ns = ns[name] = ns[name] || {};\r\n            name = path[i++];\r\n        }\r\n\r\n        return ns[name] = obj2;\r\n    }\r\n});\ndefine('skylark-langx-ns/ns',[\r\n    \"./_attach\"\r\n], function(_attach) {\r\n    var skylark = {\r\n    \tattach : function(path,obj) {\r\n    \t\treturn _attach(skylark,path,obj);\r\n    \t}\r\n    };\r\n    return skylark;\r\n});\r\n\ndefine('skylark-langx-ns/main',[\r\n\t\"./ns\"\r\n],function(skylark){\r\n\treturn skylark;\r\n});\ndefine('skylark-langx-ns', ['skylark-langx-ns/main'], function (main) { return main; });\n\ndefine('skylark-langx-strings/strings',[\r\n    \"skylark-langx-ns\"\r\n],function(skylark){\r\n    // add default escape function for escaping HTML entities\r\n    var escapeCharMap = Object.freeze({\r\n        '&': '&amp;',\r\n        '<': '&lt;',\r\n        '>': '&gt;',\r\n        '\"': '&quot;',\r\n        \"'\": '&#x27;',\r\n        '`': '&#x60;',\r\n        '=': '&#x3D;',\r\n    });\r\n    function replaceChar(c) {\r\n        return escapeCharMap[c];\r\n    }\r\n    var escapeChars = /[&<>\"'`=]/g;\r\n\r\n\r\n     /*\r\n     * Converts camel case into dashes.\r\n     * @param {String} str\r\n     * @return {String}\r\n     * @exapmle marginTop -> margin-top\r\n     */\r\n    function dasherize(str) {\r\n        return str.replace(/::/g, '/')\r\n            .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\r\n            .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\r\n            .replace(/_/g, '-')\r\n            .toLowerCase();\r\n    }\r\n\r\n    function deserializeValue(value) {\r\n        try {\r\n            return value ?\r\n                value == \"true\" ||\r\n                (value == \"false\" ? false :\r\n                    value == \"null\" ? null :\r\n                    +value + \"\" == value ? +value :\r\n                    /^[\\[\\{]/.test(value) ? JSON.parse(value) :\r\n                    value) : value;\r\n        } catch (e) {\r\n            return value;\r\n        }\r\n    }\r\n\r\n    function escapeHTML(str) {\r\n        if (str == null) {\r\n            return '';\r\n        }\r\n        if (!str) {\r\n            return String(str);\r\n        }\r\n\r\n        return str.toString().replace(escapeChars, replaceChar);\r\n    }\r\n\r\n    function generateUUID() {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0;\r\n            var v = c === 'x' ? r : ((r & 0x3) | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    }\r\n\r\n    function trim(str) {\r\n        return str == null ? \"\" : String.prototype.trim.call(str);\r\n    }\r\n\r\n    function substitute( /*String*/ template,\r\n        /*Object|Array*/\r\n        map,\r\n        /*Function?*/\r\n        transform,\r\n        /*Object?*/\r\n        thisObject) {\r\n        // summary:\r\n        //    Performs parameterized substitutions on a string. Throws an\r\n        //    exception if any parameter is unmatched.\r\n        // template:\r\n        //    a string with expressions in the form `${key}` to be replaced or\r\n        //    `${key:format}` which specifies a format function. keys are case-sensitive.\r\n        // map:\r\n        //    hash to search for substitutions\r\n        // transform:\r\n        //    a function to process all parameters before substitution takes\r\n\r\n\r\n        thisObject = thisObject || window;\r\n        transform = transform ?\r\n            proxy(thisObject, transform) : function(v) {\r\n                return v;\r\n            };\r\n\r\n        function getObject(key, map) {\r\n            if (key.match(/\\./)) {\r\n                var retVal,\r\n                    getValue = function(keys, obj) {\r\n                        var _k = keys.pop();\r\n                        if (_k) {\r\n                            if (!obj[_k]) return null;\r\n                            return getValue(keys, retVal = obj[_k]);\r\n                        } else {\r\n                            return retVal;\r\n                        }\r\n                    };\r\n                return getValue(key.split(\".\").reverse(), map);\r\n            } else {\r\n                return map[key];\r\n            }\r\n        }\r\n\r\n        return template.replace(/\\$\\{([^\\s\\:\\}]+)(?:\\:([^\\s\\:\\}]+))?\\}/g,\r\n            function(match, key, format) {\r\n                var value = getObject(key, map);\r\n                if (format) {\r\n                    value = getObject(format, thisObject).call(thisObject, value, key);\r\n                }\r\n                return transform(value, key).toString();\r\n            }); // String\r\n    }\r\n\r\n    var idCounter = 0;\r\n    function uniqueId (prefix) {\r\n        var id = ++idCounter + '';\r\n        return prefix ? prefix + id : id;\r\n    }\r\n\r\n\r\n    /**\r\n     * https://github.com/cho45/micro-template.js\r\n     * (c) cho45 http://cho45.github.com/mit-license\r\n     */\r\n    function template (id, data) {\r\n\r\n        function include(name, args) {\r\n            var stash = {};\r\n            for (var key in template.context.stash) if (template.context.stash.hasOwnProperty(key)) {\r\n                stash[key] = template.context.stash[key];\r\n            }\r\n            if (args) for (var key in args) if (args.hasOwnProperty(key)) {\r\n                stash[key] = args[key];\r\n            }\r\n            var context = template.context;\r\n            context.ret += template(name, stash);\r\n            template.context = context;\r\n        }\r\n\r\n        function wrapper(name, fun) {\r\n            var current = template.context.ret;\r\n            template.context.ret = '';\r\n            fun.apply(template.context);\r\n            var content = template.context.ret;\r\n            var orig_content = template.context.stash.content;\r\n            template.context.stash.content = content;\r\n            template.context.ret = current + template(name, template.context.stash);\r\n            template.context.stash.content = orig_content;\r\n        }\r\n\r\n        var me = arguments.callee;\r\n        if (!me.cache[id]) me.cache[id] = (function () {\r\n            var name = id, string = /^[\\w\\-]+$/.test(id) ? me.get(id): (name = 'template(string)', id); // no warnings\r\n            var line = 1, body = (\r\n                \"try { \" +\r\n                    (me.variable ?  \"var \" + me.variable + \" = this.stash;\" : \"with (this.stash) { \") +\r\n                        \"this.ret += '\"  +\r\n                        string.\r\n                            replace(/<%/g, '\\x11').replace(/%>/g, '\\x13'). // if you want other tag, just edit this line\r\n                            replace(/'(?![^\\x11\\x13]+?\\x13)/g, '\\\\x27').\r\n                            replace(/^\\s*|\\s*$/g, '').\r\n                            replace(/\\n|\\r\\n/g, function () { return \"';\\nthis.line = \" + (++line) + \"; this.ret += '\\\\n\" }).\r\n                            replace(/\\x11=raw(.+?)\\x13/g, \"' + ($1) + '\").\r\n                            replace(/\\x11=(.+?)\\x13/g, \"' + this.escapeHTML($1) + '\").\r\n                            replace(/\\x11(.+?)\\x13/g, \"'; $1; this.ret += '\") +\r\n                    \"'; \" + (me.variable ? \"\" : \"}\") + \"return this.ret;\" +\r\n                \"} catch (e) { throw 'TemplateError: ' + e + ' (on \" + name + \"' + ' line ' + this.line + ')'; } \" +\r\n                \"//@ sourceURL=\" + name + \"\\n\" // source map\r\n            ).replace(/this\\.ret \\+= '';/g, '');\r\n            var func = new Function(body);\r\n            var map  = { '&' : '&amp;', '<' : '&lt;', '>' : '&gt;', '\\x22' : '&#x22;', '\\x27' : '&#x27;' };\r\n            var escapeHTML = function (string) { return (''+string).replace(/[&<>\\'\\\"]/g, function (_) { return map[_] }) };\r\n            return function (stash) { return func.call(me.context = { escapeHTML: escapeHTML, line: 1, ret : '', stash: stash }) };\r\n        })();\r\n        return data ? me.cache[id](data) : me.cache[id];\r\n    }\r\n\r\n    template.cache = {};\r\n    \r\n\r\n    template.get = function (id) {\r\n        return document.getElementById(id).innerHTML;\r\n    };\r\n\r\n    function rtrim(str) {\r\n        return str.replace(/\\s+$/g, '');\r\n    }\r\n\r\n    // Slugify a string\r\n    function slugify(str) {\r\n        str = str.replace(/^\\s+|\\s+$/g, '');\r\n\r\n        // Make the string lowercase\r\n        str = str.toLowerCase();\r\n\r\n        // Remove accents, swap ñ for n, etc\r\n        var from = \"ÁÄÂÀÃÅČÇĆĎÉĚËÈÊẼĔȆÍÌÎÏŇÑÓÖÒÔÕØŘŔŠŤÚŮÜÙÛÝŸŽáäâàãåčçćďéěëèêẽĕȇíìîïňñóöòôõøðřŕšťúůüùûýÿžþÞĐđßÆa·/_,:;\";\r\n        var to   = \"AAAAAACCCDEEEEEEEEIIIINNOOOOOORRSTUUUUUYYZaaaaaacccdeeeeeeeeiiiinnooooooorrstuuuuuyyzbBDdBAa------\";\r\n        for (var i=0, l=from.length ; i<l ; i++) {\r\n            str = str.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i));\r\n        }\r\n\r\n        // Remove invalid chars\r\n        //str = str.replace(/[^a-z0-9 -]/g, '') \r\n        // Collapse whitespace and replace by -\r\n        str = str.replace(/\\s+/g, '-') \r\n        // Collapse dashes\r\n        .replace(/-+/g, '-'); \r\n\r\n        return str;\r\n    }    \r\n\r\n    // return boolean if string 'true' or string 'false', or if a parsable string which is a number\r\n    // also supports JSON object and/or arrays parsing\r\n    function toType(str) {\r\n        var type = typeof str;\r\n        if (type !== 'string') {\r\n            return str;\r\n        }\r\n        var nb = parseFloat(str);\r\n        if (!isNaN(nb) && isFinite(str)) {\r\n            return nb;\r\n        }\r\n        if (str === 'false') {\r\n            return false;\r\n        }\r\n        if (str === 'true') {\r\n            return true;\r\n        }\r\n\r\n        try {\r\n            str = JSON.parse(str);\r\n        } catch (e) {}\r\n\r\n        return str;\r\n    }\r\n\r\n\treturn skylark.attach(\"langx.strings\",{\r\n        camelCase: function(str) {\r\n            return str.replace(/-([\\da-z])/g, function(a) {\r\n                return a.toUpperCase().replace('-', '');\r\n            });\r\n        },\r\n\r\n        dasherize: dasherize,\r\n\r\n        deserializeValue: deserializeValue,\r\n\r\n        escapeHTML : escapeHTML,\r\n\r\n        generateUUID : generateUUID,\r\n\r\n        lowerFirst: function(str) {\r\n            return str.charAt(0).toLowerCase() + str.slice(1);\r\n        },\r\n\r\n        rtrim : rtrim,\r\n\r\n        serializeValue: function(value) {\r\n            return JSON.stringify(value)\r\n        },\r\n\r\n\r\n        substitute: substitute,\r\n\r\n        slugify : slugify,\r\n\r\n        template : template,\r\n\r\n        trim: trim,\r\n\r\n        uniqueId: uniqueId,\r\n\r\n        upperFirst: function(str) {\r\n            return str.charAt(0).toUpperCase() + str.slice(1);\r\n        }\r\n\t}) ; \r\n\r\n});\ndefine('skylark-langx-strings/main',[\r\n\t\"./strings\"\r\n],function(strings){\r\n\treturn strings;\r\n});\ndefine('skylark-langx-strings', ['skylark-langx-strings/main'], function (main) { return main; });\n\n"]}