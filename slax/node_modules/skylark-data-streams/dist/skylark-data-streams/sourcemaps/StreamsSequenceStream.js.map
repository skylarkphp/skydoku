{"version":3,"sources":["StreamsSequenceStream.js"],"names":["define","skylark","langx","streams","DecodeStream","StreamsSequenceStream","inherit","klassName","init","this","dict","stream","prototype","call","readBlock","length","chunk","shift","getBytes","bufferLength","newLength","ensureBuffer","set","eof"],"mappings":";;;;;;;AACAA,QACI,wBACA,sBACA,YACA,kBACD,SAASC,EAASC,EAAOC,EAASC,GAEjC,IAAIC,EAAwBD,EAAaE,SACrCC,UAAY,wBAEZC,KAAO,SAASL,GACZM,KAAKC,KAAOC,OAAOD,KACnBN,EAAaQ,UAAUJ,KAAKK,KAAKJ,OAGrCK,UAAY,WACR,IAAIX,EAAUM,KAAKN,QACnB,GAAsB,GAAlBA,EAAQY,OAAZ,CAIA,IACIC,EADSb,EAAQc,QACFC,WACfC,EAAeV,KAAKU,aACpBC,EAAYD,EAAeH,EAAMD,OACxBN,KAAKY,aAAaD,GACxBE,IAAIN,EAAOG,GAClBV,KAAKU,aAAeC,OAThBX,KAAKc,KAAM,KAavB,OAAOpB,EAAQE,sBAAwBA","file":"../StreamsSequenceStream.js","sourcesContent":["\r\ndefine([\r\n    \"skylark-langx/skylark\",\r\n    \"skylark-langx/langx\",\r\n    \"./streams\",\r\n    \"./DecodeStream\"\r\n], function(skylark, langx, streams, DecodeStream) {\r\n\r\n    var StreamsSequenceStream = DecodeStream.inherit({\r\n        klassName : \"StreamsSequenceStream\",\r\n\r\n        init : function(streams) {\r\n            this.dict = stream.dict;\r\n            DecodeStream.prototype.init.call(this);          \r\n        },\r\n\r\n        readBlock : function() {\r\n            var streams = this.streams;\r\n            if (streams.length == 0) {\r\n                this.eof = true;\r\n                return;\r\n            }\r\n            var stream = streams.shift();\r\n            var chunk = stream.getBytes();\r\n            var bufferLength = this.bufferLength;\r\n            var newLength = bufferLength + chunk.length;\r\n            var buffer = this.ensureBuffer(newLength);\r\n            buffer.set(chunk, bufferLength);\r\n            this.bufferLength = newLength;\r\n        }\r\n    });\r\n\r\n    return streams.StreamsSequenceStream = StreamsSequenceStream;\r\n});\r\n"]}