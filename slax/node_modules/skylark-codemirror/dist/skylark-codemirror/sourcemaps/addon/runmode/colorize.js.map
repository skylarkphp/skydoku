{"version":3,"sources":["addon/runmode/colorize.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","isBlock","textContent","node","out","nodeType","push","nodeValue","ch","firstChild","nextSibling","test","colorize","collection","defaultMode","document","body","getElementsByTagName","i","length","mode","getAttribute","text","innerHTML","runMode","join","className"],"mappings":";;;;;;;CAGA,SAAUA,GACc,iBAAXC,SAAwC,iBAAVC,OACvCF,EAAIG,QAAQ,wBAAyBA,QAAQ,cACrB,mBAAVC,QAAwBA,OAAOC,IAC7CD,QAAQ,uBAAwB,aAAcJ,GAE9CA,EAAIM,YANR,CAOG,SAASA,GACV,aAEA,IAAIC,EAAU,sCAEd,SAASC,EAAYC,EAAMC,GACzB,GAAqB,GAAjBD,EAAKE,SAAe,OAAOD,EAAIE,KAAKH,EAAKI,WAC7C,IAAK,IAAIC,EAAKL,EAAKM,WAAYD,EAAIA,EAAKA,EAAGE,YACzCR,EAAYM,EAAIJ,GACZH,EAAQU,KAAKR,EAAKE,WAAWD,EAAIE,KAAK,MAI9CN,EAAWY,SAAW,SAASC,EAAYC,GACpCD,IAAYA,EAAaE,SAASC,KAAKC,qBAAqB,QAEjE,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAWM,SAAUD,EAAG,CAC1C,IAAIf,EAAOU,EAAWK,GAClBE,EAAOjB,EAAKkB,aAAa,cAAgBP,EAC7C,GAAKM,EAAL,CAEA,IAAIE,KACJpB,EAAYC,EAAMmB,GAClBnB,EAAKoB,UAAY,GACjBvB,EAAWwB,QAAQF,EAAKG,KAAK,IAAKL,EAAMjB,GAExCA,EAAKuB,WAAa","file":"../../../addon/runmode/colorize.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./runmode\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./runmode\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var isBlock = /^(p|li|div|h\\\\d|pre|blockquote|td)$/;\n\n  function textContent(node, out) {\n    if (node.nodeType == 3) return out.push(node.nodeValue);\n    for (var ch = node.firstChild; ch; ch = ch.nextSibling) {\n      textContent(ch, out);\n      if (isBlock.test(node.nodeType)) out.push(\"\\n\");\n    }\n  }\n\n  CodeMirror.colorize = function(collection, defaultMode) {\n    if (!collection) collection = document.body.getElementsByTagName(\"pre\");\n\n    for (var i = 0; i < collection.length; ++i) {\n      var node = collection[i];\n      var mode = node.getAttribute(\"data-lang\") || defaultMode;\n      if (!mode) continue;\n\n      var text = [];\n      textContent(node, text);\n      node.innerHTML = \"\";\n      CodeMirror.runMode(text.join(\"\"), mode, node);\n\n      node.className += \" cm-s-default\";\n    }\n  };\n});\n"]}