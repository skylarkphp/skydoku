{"version":3,"sources":["test/asyncjs/utils.js"],"names":["define","require","exports","module","plugin","delay","this","each","item","next","setTimeout","timeout","source","callback","called","id","err","value","clearTimeout","constructor","get","key","map","inspect","console","log","JSON","stringify","print"],"mappings":";;;;;;;AAMAA,OAAO,SAASC,QAASC,QAASC,QAEtBF,QAAQ,iBAEdG,QACFC,MAAO,SAASA,GACZ,OAAOC,KAAKC,KAAK,SAASC,EAAMC,GAC5BC,WAAW,WACPD,KACDJ,MAIXM,QAAS,SAASA,GACdA,EAAUA,GAAW,EACrB,IAAIC,EAASN,KAAKM,OAmBlB,OAjBAN,KAAKG,KAAO,SAASI,GACjB,IAAIC,EACAC,EAAKL,WAAW,WAChBI,GAAS,EACTD,EAAS,gCAAkCF,EAAU,QACtDA,GAEHC,EAAOH,KAAK,SAASO,EAAKC,GAClBH,IAGJA,GAAS,EACTI,aAAaH,GAEbF,EAASG,EAAKC,OAGf,IAAIX,KAAKa,YAAYb,OAGhCc,IAAK,SAASC,GACV,OAAOf,KAAKgB,IAAI,SAASL,EAAOR,GAC5BA,EAAK,KAAMQ,EAAMI,OAIzBE,QAAS,WACL,OAAOjB,KAAKC,KAAK,SAASC,EAAMC,GAC5Be,QAAQC,IAAIC,KAAKC,UAAUnB,IAC3BC,OAIRmB,MAAO,WACH,OAAOtB,KAAKC,KAAK,SAASC,EAAMC,GAC5Be,QAAQC,IAAIjB,GACZC","file":"../../../test/asyncjs/utils.js","sourcesContent":["/*!\r\n * async.js\r\n * Copyright(c) 2010 Fabian Jakobs <fabian.jakobs@web.de>\r\n * MIT Licensed\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n\r\nvar async = require(\"asyncjs/async\")\r\n\r\nasync.plugin({\r\n    delay: function(delay) {\r\n        return this.each(function(item, next) {\r\n            setTimeout(function() {\r\n                next();\r\n            }, delay)\r\n        })\r\n    },\r\n    \r\n    timeout: function(timeout) {\r\n        timeout = timeout || 0\r\n        var source = this.source\r\n        \r\n        this.next = function(callback) {\r\n            var called            \r\n            var id = setTimeout(function() {\r\n                called = true\r\n                callback(\"Source did not respond after \" + timeout + \"ms!\")\r\n            }, timeout)\r\n            \r\n            source.next(function(err, value) {\r\n                if (called)\r\n                    return\r\n\r\n                called = true\r\n                clearTimeout(id)\r\n                \r\n                callback(err, value)\r\n            })\r\n        }\r\n        return new this.constructor(this)\r\n    },\r\n    \r\n    get: function(key) {\r\n        return this.map(function(value, next) {\r\n            next(null, value[key])\r\n        })\r\n    },\r\n    \r\n    inspect: function() {\r\n        return this.each(function(item, next) {\r\n            console.log(JSON.stringify(item))\r\n            next()\r\n        })\r\n    },\r\n    \r\n    print: function() {\r\n        return this.each(function(item, next) {\r\n            console.log(item)\r\n            next()\r\n        })\r\n    }    \r\n})\r\n\r\n})\r\n"]}