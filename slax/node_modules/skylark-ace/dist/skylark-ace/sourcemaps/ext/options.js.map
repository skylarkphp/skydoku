{"version":3,"sources":["ext/options.js"],"names":["define","require","exports","module","overlayPage","dom","oop","EventEmitter","buildDom","modelist","themes","Bright","Dark","forEach","x","isDark","push","caption","value","theme","optionGroups","Main","Mode","path","type","items","modes","map","mode","Theme","Keybinding","Font Size","defaultValue","defaults","Soft Wrap","Cursor Style","Folding","Soft Tabs","values","Overscroll","More","Atomic soft tabs","Enable Behaviours","Full Line Selection","Highlight Active Line","Show Invisibles","Show Indent Guides","Persistent Scrollbar","Animate scrolling","Show Gutter","Show Line Numbers","Relative Line Numbers","Fixed Gutter Width","Show Print Margin","Indented Soft Wrap","Highlight selected word","Fade Fold Widgets","Use textarea for IME","Merge Undo Deltas","Elastic Tabstops","Incremental Search","Read-only","Copy without selection","Live Autocompletion","OptionPanel","editor","element","this","container","document","createElement","groups","options","implement","add","config","mixin","render","innerHTML","id","renderOptionGroup","colspan","group","Object","keys","key","i","item","position","label","sort","a","b","renderOption","renderOptionControl","option","control","self","Array","isArray","getOption","split","v","name","ace_selected_button","onclick","setOption","nodes","parentNode","querySelectorAll","length","removeAttribute","setAttribute","desc","style","oninput","parseInt","input","firstChild","buildItems","onchange","checked","$options","safeKey","class","for","undefined","parseFloat","toString","_signal","getValue","call","prototype"],"mappings":"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","file":"../../ext/options.js","sourcesContent":["define(function(require, exports, module) {\r\n\"use strict\";\r\nvar overlayPage = require('./menu_tools/overlay_page').overlayPage;\r\n\r\n \r\nvar dom = require(\"../lib/dom\");\r\nvar oop = require(\"../lib/oop\");\r\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\r\nvar buildDom = dom.buildDom;\r\n\r\nvar modelist = require(\"./modelist\");\r\nvar themelist = require(\"./themelist\");\r\n\r\nvar themes = { Bright: [], Dark: [] };\r\nthemelist.themes.forEach(function(x) {\r\n    themes[x.isDark ? \"Dark\" : \"Bright\"].push({ caption: x.caption, value: x.theme });\r\n});\r\n\r\nvar modes = modelist.modes.map(function(x){ \r\n    return { caption: x.caption, value: x.mode }; \r\n});\r\n\r\n\r\nvar optionGroups = {\r\n    Main: {\r\n        Mode: {\r\n            path: \"mode\",\r\n            type: \"select\",\r\n            items: modes\r\n        },\r\n        Theme: {\r\n            path: \"theme\",\r\n            type: \"select\",\r\n            items: themes\r\n        },\r\n        \"Keybinding\": {\r\n            type: \"buttonBar\",\r\n            path: \"keyboardHandler\",\r\n            items: [\r\n                { caption : \"Ace\", value : null },\r\n                { caption : \"Vim\", value : \"ace/keyboard/vim\" },\r\n                { caption : \"Emacs\", value : \"ace/keyboard/emacs\" },\r\n                { caption : \"Sublime\", value : \"ace/keyboard/sublime\" }\r\n            ]\r\n        },\r\n        \"Font Size\": {\r\n            path: \"fontSize\",\r\n            type: \"number\",\r\n            defaultValue: 12,\r\n            defaults: [\r\n                {caption: \"12px\", value: 12},\r\n                {caption: \"24px\", value: 24}\r\n            ]\r\n        },\r\n        \"Soft Wrap\": {\r\n            type: \"buttonBar\",\r\n            path: \"wrap\",\r\n            items: [\r\n               { caption : \"Off\",  value : \"off\" },\r\n               { caption : \"View\", value : \"free\" },\r\n               { caption : \"margin\", value : \"printMargin\" },\r\n               { caption : \"40\",   value : \"40\" }\r\n            ]\r\n        },\r\n        \"Cursor Style\": {\r\n            path: \"cursorStyle\",\r\n            items: [\r\n               { caption : \"Ace\",    value : \"ace\" },\r\n               { caption : \"Slim\",   value : \"slim\" },\r\n               { caption : \"Smooth\", value : \"smooth\" },\r\n               { caption : \"Smooth And Slim\", value : \"smooth slim\" },\r\n               { caption : \"Wide\",   value : \"wide\" }\r\n            ]\r\n        },\r\n        \"Folding\": {\r\n            path: \"foldStyle\",\r\n            items: [\r\n                { caption : \"Manual\", value : \"manual\" },\r\n                { caption : \"Mark begin\", value : \"markbegin\" },\r\n                { caption : \"Mark begin and end\", value : \"markbeginend\" }\r\n            ]\r\n        },\r\n        \"Soft Tabs\": [{\r\n            path: \"useSoftTabs\"\r\n        }, {\r\n            path: \"tabSize\",\r\n            type: \"number\",\r\n            values: [2, 3, 4, 8, 16]\r\n        }],\r\n        \"Overscroll\": {\r\n            type: \"buttonBar\",\r\n            path: \"scrollPastEnd\",\r\n            items: [\r\n               { caption : \"None\",  value : 0 },\r\n               { caption : \"Half\",   value : 0.5 },\r\n               { caption : \"Full\",   value : 1 }\r\n            ]\r\n        }\r\n    },\r\n    More: {\r\n        \"Atomic soft tabs\": {\r\n            path: \"navigateWithinSoftTabs\"\r\n        },\r\n        \"Enable Behaviours\": {\r\n            path: \"behavioursEnabled\"\r\n        },\r\n        \"Full Line Selection\": {\r\n            type: \"checkbox\",\r\n            values: \"text|line\",\r\n            path: \"selectionStyle\"\r\n        },\r\n        \"Highlight Active Line\": {\r\n            path: \"highlightActiveLine\"\r\n        },\r\n        \"Show Invisibles\": {\r\n            path: \"showInvisibles\"\r\n        },\r\n        \"Show Indent Guides\": {\r\n            path: \"displayIndentGuides\"\r\n        },\r\n        \"Persistent Scrollbar\": [{\r\n            path: \"hScrollBarAlwaysVisible\"\r\n        }, {\r\n            path: \"vScrollBarAlwaysVisible\"\r\n        }],\r\n        \"Animate scrolling\": {\r\n            path: \"animatedScroll\"\r\n        },\r\n        \"Show Gutter\": {\r\n            path: \"showGutter\"\r\n        },\r\n        \"Show Line Numbers\": {\r\n            path: \"showLineNumbers\"\r\n        },\r\n        \"Relative Line Numbers\": {\r\n            path: \"relativeLineNumbers\"\r\n        },\r\n        \"Fixed Gutter Width\": {\r\n            path: \"fixedWidthGutter\"\r\n        },\r\n        \"Show Print Margin\": [{\r\n            path: \"showPrintMargin\"\r\n        }, {\r\n            type: \"number\",\r\n            path: \"printMarginColumn\"\r\n        }],\r\n        \"Indented Soft Wrap\": {\r\n            path: \"indentedSoftWrap\"\r\n        },\r\n        \"Highlight selected word\": {\r\n            path: \"highlightSelectedWord\"\r\n        },\r\n        \"Fade Fold Widgets\": {\r\n            path: \"fadeFoldWidgets\"\r\n        },\r\n        \"Use textarea for IME\": {\r\n            path: \"useTextareaForIME\"\r\n        },\r\n        \"Merge Undo Deltas\": {\r\n            path: \"mergeUndoDeltas\",\r\n            items: [\r\n               { caption : \"Always\",  value : \"always\" },\r\n               { caption : \"Never\",   value : \"false\" },\r\n               { caption : \"Timed\",   value : \"true\" }\r\n            ]\r\n        },\r\n        \"Elastic Tabstops\": {\r\n            path: \"useElasticTabstops\"\r\n        },\r\n        \"Incremental Search\": {\r\n            path: \"useIncrementalSearch\"\r\n        },\r\n        \"Read-only\": {\r\n            path: \"readOnly\"\r\n        },\r\n        \"Copy without selection\": {\r\n            path: \"copyWithEmptySelection\"\r\n        },\r\n        \"Live Autocompletion\": {\r\n            path: \"enableLiveAutocompletion\"\r\n        }\r\n    }\r\n};\r\n\r\n\r\nvar OptionPanel = function(editor, element) {\r\n    this.editor = editor;\r\n    this.container = element || document.createElement(\"div\");\r\n    this.groups = [];\r\n    this.options = {};\r\n};\r\n\r\n(function() {\r\n    \r\n    oop.implement(this, EventEmitter);\r\n    \r\n    this.add = function(config) {\r\n        if (config.Main)\r\n            oop.mixin(optionGroups.Main, config.Main);\r\n        if (config.More)\r\n            oop.mixin(optionGroups.More, config.More);\r\n    };\r\n    \r\n    this.render = function() {\r\n        this.container.innerHTML = \"\";\r\n        buildDom([\"table\", {id: \"controls\"}, \r\n            this.renderOptionGroup(optionGroups.Main),\r\n            [\"tr\", null, [\"td\", {colspan: 2},\r\n                [\"table\", {id: \"more-controls\"}, \r\n                    this.renderOptionGroup(optionGroups.More)\r\n                ]\r\n            ]]\r\n        ], this.container);\r\n    };\r\n    \r\n    this.renderOptionGroup = function(group) {\r\n        return Object.keys(group).map(function(key, i) {\r\n            var item = group[key];\r\n            if (!item.position)\r\n                item.position = i / 10000;\r\n            if (!item.label)\r\n                item.label = key;\r\n            return item;\r\n        }).sort(function(a, b) {\r\n            return a.position - b.position;\r\n        }).map(function(item) {\r\n            return this.renderOption(item.label, item);\r\n        }, this);\r\n    };\r\n    \r\n    this.renderOptionControl = function(key, option) {\r\n        var self = this;\r\n        if (Array.isArray(option)) {\r\n            return option.map(function(x) {\r\n                return self.renderOptionControl(key, x);\r\n            });\r\n        }\r\n        var control;\r\n        \r\n        var value = self.getOption(option);\r\n        \r\n        if (option.values && option.type != \"checkbox\") {\r\n            if (typeof option.values == \"string\")\r\n                option.values = option.values.split(\"|\");\r\n            option.items = option.values.map(function(v) {\r\n                return { value: v, name: v };\r\n            });\r\n        }\r\n        \r\n        if (option.type == \"buttonBar\") {\r\n            control = [\"div\", option.items.map(function(item) {\r\n                return [\"button\", { \r\n                    value: item.value, \r\n                    ace_selected_button: value == item.value, \r\n                    onclick: function() {\r\n                        self.setOption(option, item.value);\r\n                        var nodes = this.parentNode.querySelectorAll(\"[ace_selected_button]\");\r\n                        for (var i = 0; i < nodes.length; i++) {\r\n                            nodes[i].removeAttribute(\"ace_selected_button\");\r\n                        }\r\n                        this.setAttribute(\"ace_selected_button\", true);\r\n                    } \r\n                }, item.desc || item.caption || item.name];\r\n            })];\r\n        } else if (option.type == \"number\") {\r\n            control = [\"input\", {type: \"number\", value: value || option.defaultValue, style:\"width:3em\", oninput: function() {\r\n                self.setOption(option, parseInt(this.value));\r\n            }}];\r\n            if (option.defaults) {\r\n                control = [control, option.defaults.map(function(item) {\r\n                    return [\"button\", {onclick: function() {\r\n                        var input = this.parentNode.firstChild;\r\n                        input.value = item.value;\r\n                        input.oninput();\r\n                    }}, item.caption];\r\n                })];\r\n            }\r\n        } else if (option.items) {\r\n            var buildItems = function(items) {\r\n                return items.map(function(item) {\r\n                    return [\"option\", { value: item.value || item.name }, item.desc || item.caption || item.name];\r\n                });\r\n            };\r\n            \r\n            var items = Array.isArray(option.items) \r\n                ? buildItems(option.items)\r\n                : Object.keys(option.items).map(function(key) {\r\n                    return [\"optgroup\", {\"label\": key}, buildItems(option.items[key])];\r\n                });\r\n            control = [\"select\", { id: key, value: value, onchange: function() {\r\n                self.setOption(option, this.value);\r\n            } }, items];\r\n        } else {\r\n            if (typeof option.values == \"string\")\r\n                option.values = option.values.split(\"|\");\r\n            if (option.values) value = value == option.values[1];\r\n            control = [\"input\", { type: \"checkbox\", id: key, checked: value || null, onchange: function() {\r\n                var value = this.checked;\r\n                if (option.values) value = option.values[value ? 1 : 0];\r\n                self.setOption(option, value);\r\n            }}];\r\n            if (option.type == \"checkedNumber\") {\r\n                control = [control, []];\r\n            }\r\n        }\r\n        return control;\r\n    };\r\n    \r\n    this.renderOption = function(key, option) {\r\n        if (option.path && !option.onchange && !this.editor.$options[option.path])\r\n            return;\r\n        this.options[option.path] = option;\r\n        var safeKey = \"-\" + option.path;\r\n        var control = this.renderOptionControl(safeKey, option);\r\n        return [\"tr\", {class: \"ace_optionsMenuEntry\"}, [\"td\",\r\n            [\"label\", {for: safeKey}, key]\r\n        ], [\"td\", control]];\r\n    };\r\n    \r\n    this.setOption = function(option, value) {\r\n        if (typeof option == \"string\")\r\n            option = this.options[option];\r\n        if (value == \"false\") value = false;\r\n        if (value == \"true\") value = true;\r\n        if (value == \"null\") value = null;\r\n        if (value == \"undefined\") value = undefined;\r\n        if (typeof value == \"string\" && parseFloat(value).toString() == value)\r\n            value = parseFloat(value);\r\n        if (option.onchange)\r\n            option.onchange(value);\r\n        else if (option.path)\r\n            this.editor.setOption(option.path, value);\r\n        this._signal(\"setOption\", {name: option.path, value: value});\r\n    };\r\n    \r\n    this.getOption = function(option) {\r\n        if (option.getValue)\r\n            return option.getValue();\r\n        return this.editor.getOption(option.path);\r\n    };\r\n    \r\n}).call(OptionPanel.prototype);\r\n\r\nexports.OptionPanel = OptionPanel;\r\n\r\n});\r\n"]}