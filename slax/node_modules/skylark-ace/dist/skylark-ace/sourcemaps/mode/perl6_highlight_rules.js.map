{"version":3,"sources":["mode/perl6_highlight_rules.js"],"names":["define","require","exports","module","oop","TextHighlightRules","Perl6HighlightRules","hex","token","regex","num_rat","num_with_","complex_numbers","booleans","versions","lang_keywords","this","createKeywordMapper","keyword","storage.type","constant.language","support.function","keyword.operator","variables","vars_special","ops_char","constants_unicode","qstrings","regexp","$rules","start","next","qqstring","defaultToken","qqinterpolation","block_comment","qheredoc","qqheredoc","qqheredocinterpolation","inherits"],"mappings":";;;;;;;AA8BAA,OAAO,SAASC,QAASC,QAASC,QAClC,aAEA,IAAIC,EAAMH,QAAQ,cACdI,EAAqBJ,QAAQ,0BAA0BI,mBAEvDC,EAAsB,WAEtB,IAsKCC,GAAQC,MAAQ,mBAAoBC,MAAQ,qBAE5CC,GAAYF,MAAQ,mBAAoBC,MAAQ,oDAEhDE,GAAcH,MAAQ,mBAAoBC,MAAQ,sBAElDG,GAAoBJ,MAAQ,mBAAoBC,MAAQ,gBAExDI,GAAaL,MAAQ,4BAA6BC,MAAQ,qBAE1DK,GAAaN,MAAQ,iBAAkBC,MAAQ,iCAE/CM,GAAkBP,MA5BFQ,KAAKC,qBACxBC,QAvJiB,8aAwJjBC,eA/Ic,+nIAgJdC,oBATqB,kBAUrBC,mBA1FyB,45LA2FzBC,mBATa,wGAUX,cAsB0Cb,MAAQ,gCAEjDc,GAAcf,MAAQ,oBAAqBC,MAAQ,kCAEnDe,GAAiBhB,MAAO,oBAAqBC,MAAQ,mBAErDgB,GAAajB,MAAQ,mBAAoBC,MAAQ,+DAGjDiB,GAAsBlB,MAAQ,oBAAqBC,MAAQ,YAE3DkB,GAAanB,MAAQ,uBAAwBC,MAAQ,sCAIrDmB,GACDpB,MAAQ,gBACRC,MAAQ,uFAGXO,KAAKa,QACJC,QAEEtB,MAAQ,gBACRC,MAAQ,mBAERD,MAAQ,gBACRC,MAAQ,mBAERD,MAAQ,cACRC,MAAQ,iBACRsB,KAAO,kBAEPvB,MAAQ,kBACRC,MAAQ,qBACRsB,KAAO,aAEPvB,MAAQ,kBACRC,MAAQ,sBACRsB,KAAO,aAERH,EACAD,GAECnB,MAAQ,uBACRC,MAAQ,IACRsB,KAAO,aAjCWvB,MAAQ,uBAAwBC,MAAQ,4BAqC1DD,OAAQ,UAAW,OAAQ,mBAC3BC,MAAO,qDAERF,EACAG,EACAC,EACAC,EACAC,EACAC,EACAC,EACAQ,EACAC,EACAC,EACAC,GAEClB,MAAQ,UACRC,MAAQ,SAERD,MAAQ,SACRC,MAAQ,UAERD,MAAQ,SACRC,MAAQ,YAERD,MAAQ,OACRC,MAAQ,SAGVuB,WAEExB,MAAQ,2BACRC,MAAQ,sDAETc,EACAC,GAEChB,MAAQ,SACRC,MAAQ,IACRsB,KAAO,oBAEPvB,MAAQ,uBACRC,MAAQ,IACRsB,KAAO,UAEPE,aAAe,yBAGjBC,iBACC3B,EACAG,EACAC,EACAC,EACAC,EACAC,EACAC,EACAQ,EACAC,EACAC,EACAC,EACAC,EACAC,GAGCpB,MAAO,SACPC,MAAO,IACPsB,KAAO,aAGTI,gBAEE3B,MAAO,cACPC,MAAO,uBACPsB,KAAM,UAGNE,aAAc,gBAGhBG,WAEE5B,MAAO,kBACPC,MAAO,OACPsB,KAAM,UAENE,aAAc,oBAGhBI,WACCd,EACAC,GAEChB,MAAQ,SACRC,MAAQ,IACRsB,KAAO,2BAEPvB,MAAO,kBACPC,MAAO,OACPsB,KAAM,UAENE,aAAc,oBAGhBK,wBACC/B,EACAG,EACAC,EACAC,EACAC,EACAC,EACAC,EACAQ,EACAC,EACAC,EACAC,EACAC,EACAC,GAECpB,MAAO,SACPC,MAAO,IACPsB,KAAO,gBAMX3B,EAAImC,SAASjC,EAAqBD,GAElCH,QAAQI,oBAAsBA","file":"../../mode/perl6_highlight_rules.js","sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\r\n * Distributed under the BSD license:\r\n *\r\n * Copyright (c) 2010, Ajax.org B.V.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *     * Redistributions of source code must retain the above copyright\r\n *       notice, this list of conditions and the following disclaimer.\r\n *     * Redistributions in binary form must reproduce the above copyright\r\n *       notice, this list of conditions and the following disclaimer in the\r\n *       documentation and/or other materials provided with the distribution.\r\n *     * Neither the name of Ajax.org B.V. nor the\r\n *       names of its contributors may be used to endorse or promote products\r\n *       derived from this software without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\r\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n * ***** END LICENSE BLOCK ***** */\r\n\r\ndefine(function(require, exports, module) {\r\n\"use strict\";\r\n\r\nvar oop = require(\"../lib/oop\");\r\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\r\n\r\nvar Perl6HighlightRules = function() {\r\n\r\n    var keywords = (\r\n        \"my|our|class|role|grammar|is|does|sub|method|submethod|try|\" +\r\n        \"default|when|if|elsif|else|unless|with|orwith|without|for|given|proceed|\" +\r\n        \"succeed|loop|while|until|repeat|module|use|need|import|require|unit|\" +\r\n        \"constant|enum|multi|return|has|token|rule|make|made|proto|state|augment|\" +\r\n        \"but|anon|supersede|let|subset|gather|returns|return-rw|temp|\" +\r\n        \"BEGIN|CHECK|INIT|END|CLOSE|ENTER|LEAVE|KEEP|UNDO|PRE|POST|FIRST|NEXT|LAST|CATCH|CONTROL|QUIT|DOC\"\r\n    );\r\n\r\n    var types = (\r\n        \"Any|Array|Associative|AST|atomicint|Attribute|Backtrace|Backtrace::Frame|\" +\r\n        \"Bag|Baggy|BagHash|Blob|Block|Bool|Buf|Callable|CallFrame|Cancellation|\" +\r\n        \"Capture|Channel|Code|compiler|Complex|ComplexStr|Cool|CurrentThreadScheduler|\" +\r\n        \"Cursor|Date|Dateish|DateTime|Distro|Duration|Encoding|Exception|Failure|\"+\r\n        \"FatRat|Grammar|Hash|HyperWhatever|Instant|Int|IntStr|IO|IO::ArgFiles|\"+\r\n        \"IO::CatHandle|IO::Handle|IO::Notification|IO::Path|IO::Path::Cygwin|\"+\r\n        \"IO::Path::QNX|IO::Path::Unix|IO::Path::Win32|IO::Pipe|IO::Socket|\"+\r\n        \"IO::Socket::Async|IO::Socket::INET|IO::Spec|IO::Spec::Cygwin|IO::Spec::QNX|\"+\r\n        \"IO::Spec::Unix|IO::Spec::Win32|IO::Special|Iterable|Iterator|Junction|Kernel|\"+\r\n        \"Label|List|Lock|Lock::Async|Macro|Map|Match|Metamodel::AttributeContainer|\"+\r\n        \"Metamodel::C3MRO|Metamodel::ClassHOW|Metamodel::EnumHOW|Metamodel::Finalization|\"+\r\n        \"Metamodel::MethodContainer|Metamodel::MROBasedMethodDispatch|Metamodel::MultipleInheritance|\"+\r\n        \"Metamodel::Naming|Metamodel::Primitives|Metamodel::PrivateMethodContainer|\"+\r\n        \"Metamodel::RoleContainer|Metamodel::Trusting|Method|Mix|MixHash|Mixy|Mu|\"+\r\n        \"NFC|NFD|NFKC|NFKD|Nil|Num|Numeric|NumStr|ObjAt|Order|Pair|Parameter|Perl|\"+\r\n        \"Pod::Block|Pod::Block::Code|Pod::Block::Comment|Pod::Block::Declarator|\"+\r\n        \"Pod::Block::Named|Pod::Block::Para|Pod::Block::Table|Pod::Heading|Pod::Item|\"+\r\n        \"Positional|PositionalBindFailover|Proc|Proc::Async|Promise|Proxy|PseudoStash|\"+\r\n        \"QuantHash|Range|Rat|Rational|RatStr|Real|Regex|Routine|Scalar|Scheduler|\"+\r\n        \"Semaphore|Seq|Set|SetHash|Setty|Signature|Slip|Stash|Str|StrDistance|Stringy|\"+\r\n        \"Sub|Submethod|Supplier|Supplier::Preserving|Supply|Systemic|Tap|Telemetry|\"+\r\n        \"Telemetry::Instrument::Thread|Telemetry::Instrument::Usage|Telemetry::Period|\"+\r\n        \"Telemetry::Sampler|Thread|ThreadPoolScheduler|UInt|Uni|utf8|Variable|Version|\"+\r\n        \"VM|Whatever|WhateverCode|WrapHandle|int|uint|num|str|\"+\r\n        \"int8|int16|int32|int64|uint8|uint16|uint32|uint64|long|longlong|num32|num64|size_t|bool|CArray|Pointer|\"+\r\n\t\t\"Backtrace|Backtrace::Frame|Exception|Failure|X::AdHoc|X::Anon::Augment|X::Anon::Multi|\"+\r\n\t\t\"X::Assignment::RO|X::Attribute::NoPackage|X::Attribute::Package|X::Attribute::Undeclared|\"+\r\n\t\t\"X::Augment::NoSuchType|X::Bind|X::Bind::NativeType|X::Bind::Slice|X::Caller::NotDynamic|\"+\r\n\t\t\"X::Channel::ReceiveOnClosed|X::Channel::SendOnClosed|X::Comp|X::Composition::NotComposable|\"+\r\n\t\t\"X::Constructor::Positional|X::ControlFlow|X::ControlFlow::Return|X::DateTime::TimezoneClash|\"+\r\n\t\t\"X::Declaration::Scope|X::Declaration::Scope::Multi|X::Does::TypeObject|X::Eval::NoSuchLang|\"+\r\n\t\t\"X::Export::NameClash|X::IO|X::IO::Chdir|X::IO::Chmod|X::IO::Copy|X::IO::Cwd|X::IO::Dir|\"+\r\n\t\t\"X::IO::DoesNotExist|X::IO::Link|X::IO::Mkdir|X::IO::Move|X::IO::Rename|X::IO::Rmdir|X::IO::Symlink|\"+\r\n\t\t\"X::IO::Unlink|X::Inheritance::NotComposed|X::Inheritance::Unsupported|X::Method::InvalidQualifier|\"+\r\n\t\t\"X::Method::NotFound|X::Method::Private::Permission|X::Method::Private::Unqualified|\"+\r\n\t\t\"X::Mixin::NotComposable|X::NYI|X::NoDispatcher|X::Numeric::Real|X::OS|X::Obsolete|X::OutOfRange|\"+\r\n\t\t\"X::Package::Stubbed|X::Parameter::Default|X::Parameter::MultipleTypeConstraints|\"+\r\n\t\t\"X::Parameter::Placeholder|X::Parameter::Twigil|X::Parameter::WrongOrder|X::Phaser::Multiple|\"+\r\n\t\t\"X::Phaser::PrePost|X::Placeholder::Block|X::Placeholder::Mainline|X::Pod|X::Proc::Async|\"+\r\n\t\t\"X::Proc::Async::AlreadyStarted|X::Proc::Async::CharsOrBytes|X::Proc::Async::MustBeStarted|\"+\r\n\t\t\"X::Proc::Async::OpenForWriting|X::Proc::Async::TapBeforeSpawn|X::Proc::Unsuccessful|\"+\r\n\t\t\"X::Promise::CauseOnlyValidOnBroken|X::Promise::Vowed|X::Redeclaration|X::Role::Initialization|\"+\r\n\t\t\"X::Seq::Consumed|X::Sequence::Deduction|X::Signature::NameClash|X::Signature::Placeholder|\"+\r\n\t\t\"X::Str::Numeric|X::StubCode|X::Syntax|X::Syntax::Augment::WithoutMonkeyTyping|\"+\r\n\t\t\"X::Syntax::Comment::Embedded|X::Syntax::Confused|X::Syntax::InfixInTermPosition|\"+\r\n\t\t\"X::Syntax::Malformed|X::Syntax::Missing|X::Syntax::NegatedPair|X::Syntax::NoSelf|\"+\r\n\t\t\"X::Syntax::Number::RadixOutOfRange|X::Syntax::P5|X::Syntax::Regex::Adverb|\"+\r\n\t\t\"X::Syntax::Regex::SolitaryQuantifier|X::Syntax::Reserved|X::Syntax::Self::WithoutObject|\"+\r\n\t\t\"X::Syntax::Signature::InvocantMarker|X::Syntax::Term::MissingInitializer|X::Syntax::UnlessElse|\"+\r\n\t\t\"X::Syntax::Variable::Match|X::Syntax::Variable::Numeric|X::Syntax::Variable::Twigil|X::Temporal|\"+\r\n\t\t\"X::Temporal::InvalidFormat|X::TypeCheck|X::TypeCheck::Assignment|X::TypeCheck::Binding|\"+\r\n\t\t\"X::TypeCheck::Return|X::TypeCheck::Splice|X::Undeclared\"\r\n\t\t);\r\n\r\n    var builtinFunctions = (\r\n        \"abs|abs2rel|absolute|accept|ACCEPTS|accessed|acos|acosec|acosech|acosh|\"+\r\n        \"acotan|acotanh|acquire|act|action|actions|add|add_attribute|add_enum_value|\"+\r\n        \"add_fallback|add_method|add_parent|add_private_method|add_role|add_trustee|\"+\r\n        \"adverb|after|all|allocate|allof|allowed|alternative-names|annotations|antipair|\"+\r\n        \"antipairs|any|anyof|app_lifetime|append|arch|archname|args|arity|asec|asech|\"+\r\n        \"asin|asinh|ASSIGN-KEY|ASSIGN-POS|assuming|ast|at|atan|atan2|atanh|AT-KEY|\"+\r\n        \"atomic-assign|atomic-dec-fetch|atomic-fetch|atomic-fetch-add|atomic-fetch-dec|\"+\r\n        \"atomic-fetch-inc|atomic-fetch-sub|atomic-inc-fetch|AT-POS|attributes|auth|await|\"+\r\n        \"backtrace|Bag|BagHash|base|basename|base-repeating|batch|BIND-KEY|BIND-POS|\"+\r\n        \"bind-stderr|bind-stdin|bind-stdout|bind-udp|bits|bless|block|bool-only|\"+\r\n        \"bounds|break|Bridge|broken|BUILD|build-date|bytes|cache|callframe|calling-package|\"+\r\n        \"CALL-ME|callsame|callwith|can|cancel|candidates|cando|canonpath|caps|caption|\"+\r\n        \"Capture|cas|catdir|categorize|categorize-list|catfile|catpath|cause|ceiling|\"+\r\n        \"cglobal|changed|Channel|chars|chdir|child|child-name|child-typename|chmod|chomp|\"+\r\n        \"chop|chr|chrs|chunks|cis|classify|classify-list|cleanup|clone|close|closed|\"+\r\n        \"close-stdin|code|codes|collate|column|comb|combinations|command|comment|\"+\r\n        \"compiler|Complex|compose|compose_type|composer|condition|config|configure_destroy|\"+\r\n        \"configure_type_checking|conj|connect|constraints|construct|contains|contents|copy|\"+\r\n        \"cos|cosec|cosech|cosh|cotan|cotanh|count|count-only|cpu-cores|cpu-usage|CREATE|\"+\r\n        \"create_type|cross|cue|curdir|curupdir|d|Date|DateTime|day|daycount|day-of-month|\"+\r\n        \"day-of-week|day-of-year|days-in-month|declaration|decode|decoder|deepmap|\"+\r\n        \"defined|DEFINITE|delayed|DELETE-KEY|DELETE-POS|denominator|desc|DESTROY|destroyers|\"+\r\n        \"devnull|did-you-mean|die|dir|dirname|dir-sep|DISTROnames|do|done|duckmap|dynamic|\"+\r\n        \"e|eager|earlier|elems|emit|enclosing|encode|encoder|encoding|end|ends-with|enum_from_value|\"+\r\n        \"enum_value_list|enum_values|enums|eof|EVAL|EVALFILE|exception|excludes-max|excludes-min|\"+\r\n        \"EXISTS-KEY|EXISTS-POS|exit|exitcode|exp|expected|explicitly-manage|expmod|extension|f|\"+\r\n        \"fail|fc|feature|file|filename|find_method|find_method_qualified|finish|first|flat|flatmap|\"+\r\n        \"flip|floor|flush|fmt|format|formatter|freeze|from|from-list|from-loop|from-posix|full|\"+\r\n        \"full-barrier|get|get_value|getc|gist|got|grab|grabpairs|grep|handle|handled|handles|\"+\r\n        \"hardware|has_accessor|head|headers|hh-mm-ss|hidden|hides|hour|how|hyper|id|illegal|\"+\r\n        \"im|in|indent|index|indices|indir|infinite|infix|install_method_cache|\"+\r\n        \"Instant|instead|int-bounds|interval|in-timezone|invalid-str|invert|invocant|IO|\"+\r\n        \"IO::Notification.watch-path|is_trusted|is_type|isa|is-absolute|is-hidden|is-initial-thread|\"+\r\n        \"is-int|is-lazy|is-leap-year|isNaN|is-prime|is-relative|is-routine|is-setting|is-win|item|\"+\r\n        \"iterator|join|keep|kept|KERNELnames|key|keyof|keys|kill|kv|kxxv|l|lang|last|lastcall|later|\"+\r\n        \"lazy|lc|leading|level|line|lines|link|listen|live|local|lock|log|log10|lookup|lsb|\"+\r\n        \"MAIN|match|max|maxpairs|merge|message|method_table|methods|migrate|min|minmax|\"+\r\n        \"minpairs|minute|misplaced|Mix|MixHash|mkdir|mode|modified|month|move|mro|msb|multiness|\"+\r\n        \"name|named|named_names|narrow|nativecast|native-descriptor|nativesizeof|new|new_type|\"+\r\n        \"new-from-daycount|new-from-pairs|next|nextcallee|next-handle|nextsame|nextwith|NFC|NFD|\"+\r\n        \"NFKC|NFKD|nl-in|nl-out|nodemap|none|norm|not|note|now|nude|numerator|Numeric|of|\"+\r\n        \"offset|offset-in-hours|offset-in-minutes|old|on-close|one|on-switch|open|opened|\"+\r\n        \"operation|optional|ord|ords|orig|os-error|osname|out-buffer|pack|package|package-kind|\"+\r\n        \"package-name|packages|pair|pairs|pairup|parameter|params|parent|parent-name|parents|parse|\"+\r\n        \"parse-base|parsefile|parse-names|parts|path|path-sep|payload|peer-host|peer-port|periods|\"+\r\n        \"perl|permutations|phaser|pick|pickpairs|pid|placeholder|plus|polar|poll|polymod|pop|pos|\"+\r\n        \"positional|posix|postfix|postmatch|precomp-ext|precomp-target|pred|prefix|prematch|prepend|\"+\r\n        \"print|printf|print-nl|print-to|private|private_method_table|proc|produce|Promise|prompt|\"+\r\n        \"protect|pull-one|push|push-all|push-at-least|push-exactly|push-until-lazy|put|\"+\r\n        \"qualifier-type|quit|r|race|radix|rand|range|raw|re|read|readchars|readonly|\"+\r\n        \"ready|Real|reallocate|reals|reason|rebless|receive|recv|redispatcher|redo|reduce|\"+\r\n        \"rel2abs|relative|release|rename|repeated|replacement|report|reserved|resolve|\"+\r\n        \"restore|result|resume|rethrow|reverse|right|rindex|rmdir|roles_to_compose|\"+\r\n        \"rolish|roll|rootdir|roots|rotate|rotor|round|roundrobin|routine-type|run|rwx|s|\"+\r\n        \"samecase|samemark|samewith|say|schedule-on|scheduler|scope|sec|sech|second|seek|\"+\r\n        \"self|send|Set|set_hidden|set_name|set_package|set_rw|set_value|SetHash|\"+\r\n        \"set-instruments|setup_finalization|shape|share|shell|shift|sibling|sigil|\"+\r\n        \"sign|signal|signals|signature|sin|sinh|sink|sink-all|skip|skip-at-least|\"+\r\n        \"skip-at-least-pull-one|skip-one|sleep|sleep-timer|sleep-until|Slip|slurp|\"+\r\n        \"slurp-rest|slurpy|snap|snapper|so|socket-host|socket-port|sort|source|\"+\r\n        \"source-package|spawn|SPEC|splice|split|splitdir|splitpath|sprintf|spurt|\"+\r\n        \"sqrt|squish|srand|stable|start|started|starts-with|status|stderr|stdout|\"+\r\n        \"sub_signature|subbuf|subbuf-rw|subname|subparse|subst|subst-mutate|\"+\r\n        \"substr|substr-eq|substr-rw|succ|sum|Supply|symlink|t|tail|take|take-rw|\"+\r\n        \"tan|tanh|tap|target|target-name|tc|tclc|tell|then|throttle|throw|timezone|\"+\r\n        \"tmpdir|to|today|toggle|to-posix|total|trailing|trans|tree|trim|trim-leading|\"+\r\n        \"trim-trailing|truncate|truncated-to|trusts|try_acquire|trying|twigil|type|\"+\r\n        \"type_captures|typename|uc|udp|uncaught_handler|unimatch|uniname|uninames|\"+\r\n        \"uniparse|uniprop|uniprops|unique|unival|univals|unlink|unlock|unpack|unpolar|\"+\r\n        \"unshift|unwrap|updir|USAGE|utc|val|value|values|VAR|variable|verbose-config|\"+\r\n        \"version|VMnames|volume|vow|w|wait|warn|watch|watch-path|week|weekday-of-month|\"+\r\n        \"week-number|week-year|WHAT|WHERE|WHEREFORE|WHICH|WHO|whole-second|WHY|\"+\r\n        \"wordcase|words|workaround|wrap|write|write-to|yada|year|yield|yyyy-mm-dd|\"+\r\n        \"z|zip|zip-latest|\"+\r\n        \"plan|done-testing|bail-out|todo|skip|skip-rest|diag|subtest|pass|flunk|ok|\"+\r\n        \"nok|cmp-ok|is-deeply|isnt|is-approx|like|unlike|use-ok|isa-ok|does-ok|\"+\r\n        \"can-ok|dies-ok|lives-ok|eval-dies-ok|eval-lives-ok|throws-like|fails-like|\"+\r\n\t\t\"rw|required|native|repr|export|symbol\"\r\n\t);\r\n\tvar constants_ascii = (\"pi|Inf|tau|time\");\r\n\t\r\n\tvar ops_txt = (\"eq|ne|gt|lt|le|ge|div|gcd|lcm|leg|cmp|ff|fff|\"+\r\n\t\t\"x|before|after|Z|X|and|or|andthen|notandthen|orelse|xor\"\r\n\t);\r\n\r\n\tvar keywordMapper = this.createKeywordMapper({\r\n\t\t\"keyword\": keywords,\r\n\t\t\"storage.type\" : types,\r\n\t\t\"constant.language\": constants_ascii,\r\n\t\t\"support.function\": builtinFunctions,\r\n\t\t\"keyword.operator\": ops_txt\r\n\t}, \"identifier\");\r\n\r\n\t// regexp must not have capturing parentheses. Use (?:) instead.\r\n\t// regexps are ordered -> the first match is used\r\n\t\r\n\tvar moduleName = \"[a-zA-Z_][a-zA-Z_0-9:-]*\\\\b\";\r\n\t\r\n\t// Common rules used in the start block and in qqstrings and in qq-heredocs for interpolation\r\n\t\r\n\t// Numbers - Hexadecimal\r\n\tvar hex = {\ttoken : \"constant.numeric\", regex : \"0x[0-9a-fA-F]+\\\\b\" };\r\n\t// Numbers - Num & Rat\r\n\tvar num_rat = { token : \"constant.numeric\", regex : \"[+-.]?\\\\d+(?:(?:\\\\.\\\\d*)?(?:[eE][+-]?\\\\d+)?)?\\\\b\" };\r\n\t// Numbers - With _\r\n\tvar num_with_ = { token : \"constant.numeric\", regex : \"(?:\\\\d+_?\\\\d+)+\\\\b\" };\r\n\t// Numbers - Complex\r\n\tvar complex_numbers = { token : \"constant.numeric\", regex : \"\\\\+?\\\\d+i\\\\b\" };\r\n\t// Booleans\r\n\tvar booleans = { token : \"constant.language.boolean\", regex : \"(?:True|False)\\\\b\" };\r\n\t// Versions\r\n\tvar versions = { token : \"constant.other\", regex : \"v[0-9](?:\\\\.[a-zA-Z0-9*])*\\\\b\" };\r\n\t// Keywords\r\n\tvar lang_keywords = { token : keywordMapper, regex : \"[a-zA-Z][\\\\:a-zA-Z0-9_-]*\\\\b\" };\r\n\t// Variables - also matches $_ and $1 $2 (regex match) etc.\r\n\tvar variables = { token : \"variable.language\", regex : \"[$@%&][?*!.]?[a-zA-Z0-9_-]+\\\\b\" };\r\n\t// Special variables - matches $ $/ $! and @$/\r\n\tvar vars_special = { token: \"variable.language\", regex : \"\\\\$[/|!]?|@\\\\$/\" };\r\n\t// Operators characters\r\n\tvar ops_char = { token : \"keyword.operator\", regex : \"=|<|>|\\\\+|\\\\*|-|/|~|%|\\\\?|!|\\\\^|\\\\.|\\\\:|\\\\,|\"+\r\n\t\"»|«|\\\\||\\\\&|⚛|∘\" };\r\n\t// Unicode Constants\r\n\tvar constants_unicode = { token : \"constant.language\", regex : \"𝑒|π|τ|∞\" };\r\n\t// qstrings\r\n\tvar qstrings = { token : \"string.quoted.single\", regex : \"['](?:(?:\\\\\\\\.)|(?:[^'\\\\\\\\]))*?[']\" };\r\n\t// Word Quoting\r\n\tvar word_quoting = { token : \"string.quoted.single\", regex : \"[<](?:[a-zA-Z0-9 ])*[>]\"};\r\n\t//Regexp\r\n\tvar regexp = {\r\n\t\t\t\ttoken : \"string.regexp\",\r\n\t\t\t\tregex : \"[m|rx]?[/](?:(?:\\\\[(?:\\\\\\\\]|[^\\\\]])+\\\\])|(?:\\\\\\\\/|[^\\\\]/]))*[/]\\\\w*\\\\s*(?=[).,;]|$)\" };\r\n\t\r\n\t\r\n\tthis.$rules = {\r\n\t\t\"start\" : [\r\n\t\t\t{\r\n\t\t\t\ttoken : \"comment.block\", // Embedded Comments - Parentheses\r\n\t\t\t\tregex : \"#[`|=]\\\\(.*\\\\)\"\r\n\t\t\t}, {\r\n\t\t\t\ttoken : \"comment.block\", // Embedded Comments - Brackets\r\n\t\t\t\tregex : \"#[`|=]\\\\[.*\\\\]\"\r\n\t\t\t}, {\r\n\t\t\t\ttoken : \"comment.doc\", // Multiline Comments\r\n\t\t\t\tregex : \"^=(?:begin)\\\\b\",\r\n\t\t\t\tnext : \"block_comment\"\r\n\t\t\t}, {\r\n\t\t\t\ttoken : \"string.unquoted\", // q Heredocs\r\n\t\t\t\tregex : \"q[x|w]?\\\\:to/END/;\",\r\n\t\t\t\tnext : \"qheredoc\"\r\n\t\t\t}, {\r\n\t\t\t\ttoken : \"string.unquoted\", // qq Heredocs\r\n\t\t\t\tregex : \"qq[x|w]?\\\\:to/END/;\",\r\n\t\t\t\tnext : \"qqheredoc\"\r\n\t\t\t},\r\n\t\t\tregexp,\r\n\t\t\tqstrings\r\n\t\t\t, {\r\n\t\t\t\ttoken : \"string.quoted.double\", // Double Quoted String\r\n\t\t\t\tregex : '\"',\r\n\t\t\t\tnext : \"qqstring\"\r\n\t\t\t},\r\n\t\t\tword_quoting\r\n\t\t\t, {\r\n\t\t\t\ttoken: [\"keyword\", \"text\", \"variable.module\"], // use - Module Names, Pragmas, etc.\r\n\t\t\t\tregex: \"(use)(\\\\s+)((?:\"+moduleName+\"\\\\.?)*)\"\r\n\t\t\t},\r\n\t\t\thex,\r\n\t\t\tnum_rat,\r\n\t\t\tnum_with_,\r\n\t\t\tcomplex_numbers,\r\n\t\t\tbooleans,\r\n\t\t\tversions,\r\n\t\t\tlang_keywords,\r\n\t\t\tvariables,\r\n\t\t\tvars_special,\r\n\t\t\tops_char,\r\n\t\t\tconstants_unicode\r\n\t\t\t, {\r\n\t\t\t\ttoken : \"comment\", // Sigle Line Comments\r\n\t\t\t\tregex : \"#.*$\"\r\n\t\t\t}, {\r\n\t\t\t\ttoken : \"lparen\",\r\n\t\t\t\tregex : \"[[({]\"\r\n\t\t\t}, {\r\n\t\t\t\ttoken : \"rparen\",\r\n\t\t\t\tregex : \"[\\\\])}]\"\r\n\t\t\t}, {\r\n\t\t\t\ttoken : \"text\",\r\n\t\t\t\tregex : \"\\\\s+\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"qqstring\" : [\r\n\t\t\t{\r\n\t\t\t\ttoken : \"constant.language.escape\",\r\n\t\t\t\tregex : '\\\\\\\\(?:[nrtef\\\\\\\\\"$]|[0-7]{1,3}|x[0-9A-Fa-f]{1,2})'\r\n\t\t\t}, \r\n\t\t\tvariables,\r\n\t\t\tvars_special\r\n\t\t\t, {\r\n\t\t\t\ttoken : \"lparen\",\r\n\t\t\t\tregex : \"{\",\r\n\t\t\t\tnext : \"qqinterpolation\"\r\n\t\t\t}, {\r\n\t\t\t\ttoken : \"string.quoted.double\", \r\n\t\t\t\tregex : '\"', \r\n\t\t\t\tnext : \"start\"\r\n\t\t\t}, {\r\n\t\t\t\tdefaultToken : \"string.quoted.double\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"qqinterpolation\" : [\r\n\t\t\thex,\r\n\t\t\tnum_rat,\r\n\t\t\tnum_with_,\r\n\t\t\tcomplex_numbers,\r\n\t\t\tbooleans,\r\n\t\t\tversions,\r\n\t\t\tlang_keywords,\r\n\t\t\tvariables,\r\n\t\t\tvars_special,\r\n\t\t\tops_char,\r\n\t\t\tconstants_unicode,\r\n\t\t\tqstrings,\r\n\t\t\tregexp,\r\n\t\t\t\r\n\t\t\t{\r\n\t\t\t\ttoken: \"rparen\",\r\n\t\t\t\tregex: \"}\",\r\n\t\t\t\tnext : \"qqstring\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"block_comment\": [\r\n\t\t\t{\r\n\t\t\t\ttoken: \"comment.doc\",\r\n\t\t\t\tregex: \"^=end +[a-zA-Z_0-9]*\",\r\n\t\t\t\tnext: \"start\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tdefaultToken: \"comment.doc\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"qheredoc\": [\r\n\t\t\t{\r\n\t\t\t\ttoken: \"string.unquoted\",\r\n\t\t\t\tregex: \"END$\",\r\n\t\t\t\tnext: \"start\"\r\n\t\t\t}, {\r\n\t\t\t\tdefaultToken: \"string.unquoted\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"qqheredoc\": [\r\n\t\t\tvariables,\r\n\t\t\tvars_special,\r\n\t\t\t{\r\n\t\t\t\ttoken : \"lparen\",\r\n\t\t\t\tregex : \"{\",\r\n\t\t\t\tnext : \"qqheredocinterpolation\"\r\n\t\t\t}, {\r\n\t\t\t\ttoken: \"string.unquoted\",\r\n\t\t\t\tregex: \"END$\",\r\n\t\t\t\tnext: \"start\"\r\n\t\t\t}, {\r\n\t\t\t\tdefaultToken: \"string.unquoted\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"qqheredocinterpolation\" : [\r\n\t\t\thex,\r\n\t\t\tnum_rat,\r\n\t\t\tnum_with_,\r\n\t\t\tcomplex_numbers,\r\n\t\t\tbooleans,\r\n\t\t\tversions,\r\n\t\t\tlang_keywords,\r\n\t\t\tvariables,\r\n\t\t\tvars_special,\r\n\t\t\tops_char,\r\n\t\t\tconstants_unicode,\r\n\t\t\tqstrings,\r\n\t\t\tregexp,\r\n\t\t\t{\r\n\t\t\t\ttoken: \"rparen\",\r\n\t\t\t\tregex: \"}\",\r\n\t\t\t\tnext : \"qqheredoc\"\r\n\t\t\t}\r\n\t\t]\r\n\t};\r\n};\r\n\r\noop.inherits(Perl6HighlightRules, TextHighlightRules);\r\n\r\nexports.Perl6HighlightRules = Perl6HighlightRules;\r\n});\r\n"]}