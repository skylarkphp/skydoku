{"version":3,"sources":["mode/razor_completions.js"],"names":["define","require","exports","module","TokenIterator","keywords","shortHands","RazorCompletions","this","getCompletions","state","session","pos","prefix","lastIndexOf","getTokenAt","row","column","getShortStartCompletions","getKeywordCompletions","map","element","value","meta","score","concat","call","prototype"],"mappings":";;;;;;;AA8BAA,OAAO,SAASC,QAASC,QAASC,QAClC,aAEoBF,QAAQ,qBAAqBG,cAAjD,IAEIC,GACA,WAAY,KAAM,OAAQ,OAC1B,QAAS,OAAQ,OAAQ,QACzB,OAAQ,UAAW,QAAS,QAC5B,WAAY,UAAW,UAAW,WAClC,KAAM,SAAS,OAAO,OACtB,QAAS,WAAY,SAAU,QAC/B,UAAW,QAAS,QAAS,MAC7B,UAAW,OAAQ,KAAM,WACzB,KAAM,MAAO,YAAa,WAC1B,KAAM,OAAQ,OAAQ,YACtB,MAAO,OAAQ,SAAU,WACzB,MAAO,WAAY,SAAU,UAC7B,YAAa,SAAU,WAAY,MACnC,SAAU,QAAS,SAAU,QAC7B,SAAU,aAAc,SAAU,SAClC,SAAU,SAAU,OAAQ,QAC5B,OAAQ,MAAO,SAAU,OACzB,QAAS,YAAa,SAAU,SAChC,QAAS,MAAO,UAAW,OAC3B,WAAY,SAEZC,GACA,OAAQ,QAAS,MAAO,UAGxBC,EAAmB,cAIvB,WAEIC,KAAKC,eAAiB,SAASC,EAAOC,EAASC,EAAKC,GAEhD,OAA8C,GAA3CH,EAAMI,YAAY,uBAAyE,GAA3CJ,EAAMI,YAAY,wBAGzDH,EAAQI,WAAWH,EAAII,IAAKJ,EAAIK,SAIE,GAA3CP,EAAMI,YAAY,qBACVN,KAAKU,yBAAyBR,EAAOC,EAASC,EAAKC,IAGhB,GAA3CH,EAAMI,YAAY,qBACVN,KAAKW,sBAAsBT,EAAOC,EAASC,EAAKC,QAD3D,MAOJL,KAAKU,yBAA2B,SAASR,EAAOC,EAASC,EAAKC,GAC1D,OAAOP,EAAWc,IAAI,SAASC,GAC3B,OACIC,MAAOD,EACPE,KAAM,UACNC,MAAO,QAKnBhB,KAAKW,sBAAwB,SAAST,EAAOC,EAASC,EAAKC,GACvD,OAAOP,EAAWmB,OAAOpB,GAAUe,IAAI,SAASC,GAC5C,OACIC,MAAOD,EACPE,KAAM,UACNC,MAAO,UAKpBE,KAAKnB,EAAiBoB,WAEzBzB,QAAQK,iBAAmBA","file":"../../mode/razor_completions.js","sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\r\n * Distributed under the BSD license:\r\n *\r\n * Copyright (c) 2010, Ajax.org B.V.\r\n * All rights reserved.\r\n * \r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *     * Redistributions of source code must retain the above copyright\r\n *       notice, this list of conditions and the following disclaimer.\r\n *     * Redistributions in binary form must reproduce the above copyright\r\n *       notice, this list of conditions and the following disclaimer in the\r\n *       documentation and/or other materials provided with the distribution.\r\n *     * Neither the name of Ajax.org B.V. nor the\r\n *       names of its contributors may be used to endorse or promote products\r\n *       derived from this software without specific prior written permission.\r\n * \r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\r\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n * ***** END LICENSE BLOCK ***** */\r\n\r\ndefine(function(require, exports, module) {\r\n\"use strict\";\r\n\r\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\r\n\r\nvar keywords = [\r\n    \"abstract\", \"as\", \"base\", \"bool\",\r\n    \"break\", \"byte\", \"case\", \"catch\",\r\n    \"char\", \"checked\", \"class\", \"const\",\r\n    \"continue\", \"decimal\", \"default\", \"delegate\",\r\n    \"do\", \"double\",\"else\",\"enum\",\r\n    \"event\", \"explicit\", \"extern\", \"false\",\r\n    \"finally\", \"fixed\", \"float\", \"for\",\r\n    \"foreach\", \"goto\", \"if\", \"implicit\",\r\n    \"in\", \"int\", \"interface\", \"internal\",\r\n    \"is\", \"lock\", \"long\", \"namespace\",\r\n    \"new\", \"null\", \"object\", \"operator\",\r\n    \"out\", \"override\", \"params\", \"private\",\r\n    \"protected\", \"public\", \"readonly\", \"ref\",\r\n    \"return\", \"sbyte\", \"sealed\", \"short\",\r\n    \"sizeof\", \"stackalloc\", \"static\", \"string\",\r\n    \"struct\", \"switch\", \"this\", \"throw\",\r\n    \"true\", \"try\", \"typeof\", \"uint\",\r\n    \"ulong\", \"unchecked\", \"unsafe\", \"ushort\",\r\n    \"using\", \"var\", \"virtual\", \"void\",\r\n    \"volatile\", \"while\"];\r\n\r\nvar shortHands  = [\r\n    \"Html\", \"Model\", \"Url\", \"Layout\"\r\n];\r\n    \r\nvar RazorCompletions = function() {\r\n\r\n};\r\n\r\n(function() {\r\n\r\n    this.getCompletions = function(state, session, pos, prefix) {\r\n        \r\n        if(state.lastIndexOf(\"razor-short-start\") == -1 && state.lastIndexOf(\"razor-block-start\") == -1)\r\n            return [];\r\n        \r\n        var token = session.getTokenAt(pos.row, pos.column);\r\n        if (!token)\r\n            return [];\r\n        \r\n        if(state.lastIndexOf(\"razor-short-start\") != -1) {\r\n            return this.getShortStartCompletions(state, session, pos, prefix);\r\n        }\r\n        \r\n        if(state.lastIndexOf(\"razor-block-start\") != -1) {\r\n            return this.getKeywordCompletions(state, session, pos, prefix);\r\n        }\r\n\r\n        \r\n    };\r\n    \r\n    this.getShortStartCompletions = function(state, session, pos, prefix) {\r\n        return shortHands.map(function(element){\r\n            return {\r\n                value: element,\r\n                meta: \"keyword\",\r\n                score: 1000000\r\n            };\r\n        });\r\n    };\r\n\r\n    this.getKeywordCompletions = function(state, session, pos, prefix) {\r\n        return shortHands.concat(keywords).map(function(element){\r\n            return {\r\n                value: element,\r\n                meta: \"keyword\",\r\n                score: 1000000\r\n            };\r\n        });\r\n    };\r\n\r\n}).call(RazorCompletions.prototype);\r\n\r\nexports.RazorCompletions = RazorCompletions;\r\n\r\n});\r\n"]}