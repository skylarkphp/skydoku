/**
 * skylark-ace - A version of ace v1.4.3 that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(function(require,exports,module){"use strict";var e={},t=function(){this.propagationStopped=!0},i=function(){this.defaultPrevented=!0};e._emit=e._dispatchEvent=function(e,n){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var s=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(s.length||r){"object"==typeof n&&n||(n={}),n.type||(n.type=e),n.stopPropagation||(n.stopPropagation=t),n.preventDefault||(n.preventDefault=i),s=s.slice();for(var a=0;a<s.length&&(s[a](n,this),!n.propagationStopped);a++);return r&&!n.defaultPrevented?r(n,this):void 0}},e._signal=function(e,t){var i=(this._eventRegistry||{})[e];if(i){i=i.slice();for(var n=0;n<i.length;n++)i[n](t,this)}},e.once=function(e,t){var i=this;if(this.addEventListener(e,function n(){i.removeEventListener(e,n),t.apply(null,arguments)}),!t)return new Promise(function(e){t=e})},e.setDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i||(i=this._defaultHandlers={_disabled_:{}}),i[e]){var n=i[e],s=i._disabled_[e];s||(i._disabled_[e]=s=[]),s.push(n);var r=s.indexOf(t);-1!=r&&s.splice(r,1)}i[e]=t},e.removeDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i){var n=i._disabled_[e];if(i[e]==t)n&&this.setDefaultHandler(e,n.pop());else if(n){var s=n.indexOf(t);-1!=s&&n.splice(s,1)}}},e.on=e.addEventListener=function(e,t,i){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];return n||(n=this._eventRegistry[e]=[]),-1==n.indexOf(t)&&n[i?"unshift":"push"](t),t},e.off=e.removeListener=e.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];if(i){var n=i.indexOf(t);-1!==n&&i.splice(n,1)}},e.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},exports.EventEmitter=e});
//# sourceMappingURL=../sourcemaps/lib/event_emitter.js.map
