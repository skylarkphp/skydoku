/**
 * skylark-ace - A version of ace v1.4.3 that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(function(require,exports,module){var n=exports.STOP={};exports.Generator=function(n){this.source="function"==typeof n?{next:n}:n},function(){this.next=function(n){this.source.next(n)},this.map=function(n){if(!n)return this;n=t(1,n);var r=this.source;return this.next=function(t){r.next(function(r,i){r?t(r):n(i,function(n,r){n?t(n):t(null,r)})})},new this.constructor(this)},this.filter=function(n){if(!n)return this;n=t(1,n);var r=this.source;return this.next=function(t){r.next(function i(u,e){u?t(u):n(e,function(n,u){n?t(n):u?t(null,e):r.next(i)})})},new this.constructor(this)},this.slice=function(t,r){var i=-1;if(!r||r<0)r=1/0;var u=this.source;return this.next=function(e){u.next(function o(c,s){i++,c?e(c):i>=t&&i<r?e(null,s):i>=r?e(n):u.next(o)})},new this.constructor(this)},this.reduce=function(r,i){r=t(3,r);var u=0,e=!1,o=i,c=this.source;return this.next=function(t){if(e)return t(n);function s(){c.next(function i(s,f){if(s)return e=!0,s==n?t(null,o):s;r(o,f,u++,function(n,t){o=t,c.next(i)})})}void 0===i?c.next(function(n,r){if(n)return t(n,o);o=r,s()}):s()},new this.constructor(this)},this.forEach=this.each=function(n){n=t(1,n);var r=this.source;return this.next=function(t){r.next(function(r,i){r?t(r):n(i,function(n){t(n,i)})})},new this.constructor(this)},this.some=function(r){r=t(1,r);var i=this.source,u=!1;return this.next=function(t){if(u)return t(n);i.next(function e(o,c){if(o)return t(o);r(c,function(r,o){r?(u=!0,r==n?t(null,!1):t(r)):o?(u=!0,t(null,!0)):i.next(e)})})},new this.constructor(this)},this.every=function(r){r=t(1,r);var i=this.source,u=!1;return this.next=function(t){if(u)return t(n);i.next(function e(o,c){if(o)return t(o);r(c,function(r,o){r?(u=!0,r==n?t(null,!0):t(r)):o?i.next(e):(u=!0,t(null,!1))})})},new this.constructor(this)},this.call=function(n){this.source;return this.map(function(r,i){(r=t(0,r,n)).call(n,function(n,t){i(n,t)})})},this.concat=function(t){var r=[this];r.push.apply(r,arguments);var i=0,u=r[i++];return new this.constructor(function(t){u.next(function e(o,c){return o?o==n?(u=r[i++])?u.next(e):t(n):t(o):t(null,c)})})},this.zip=function(n){var t=[this];return t.push.apply(t,arguments),new this.constructor(function(n){exports.list(t).map(function(n,t){n.next(t)}).toArray(n)})},this.expand=function(r,i){if(!r)return this;r=t(1,r),i=i||this.constructor;var u=this.source,e=null;return new i(function t(i){e?e.next(function(r,u){return r==n?(e=null,t(i)):r?i(r):void i(r,u)}):u.next(function(n,u){if(n)return i(n);r(u,function(n,r){if(n)return i(n);e=r,t(i)})})})},this.sort=function(n){var t,r=this;return this.next=function(i){if(t)return t.next(i);r.toArray(function(r,u){r?i(r):(t=exports.list(u.sort(n))).next(i)})},new this.constructor(this)},this.join=function(n){return this.$arrayOp(Array.prototype.join,void 0!==n?[n]:null)},this.reverse=function(){return this.$arrayOp(Array.prototype.reverse)},this.$arrayOp=function(t,r){var i=this,u=0;return this.next=function(e){if(u++>0)return e(n);i.toArray(function(n,i){n?e(n,""):e(null,r?t.apply(i,r):t.call(i))})},new this.constructor(this)},this.end=function(t,r){r||(r=arguments[0],t=!0);var i,u,e=this.source;e.next(function o(c,s){c?c==n?r&&r(u,i):t?r&&r(c,s):(u=c,e.next(o)):(i=s,e.next(o))})},this.toArray=function(t,r){r||(r=arguments[0],t=!0);var i=[],u=[],e=this.source;e.next(function o(c,s){if(c){if(c==n)return t?r(null,i):(u.length=i.length,r(u,i));if(t)return r(c);u[i.length]=c}i.push(s),e.next(o)})}}.call(exports.Generator.prototype);var t=exports.makeAsync=function(n,t,r){return t.length>n?t:function(){var i,u=arguments[n];try{i=t.apply(r||this,arguments)}catch(n){return u(n)}u(null,i)}};exports.list=function(t,r){r=r||exports.Generator;var i=0,u=t.length;return new r(function(r){i<u?r(null,t[i++]):r(n)})},exports.values=function(n,t){var r=[];for(var i in n)r.push(n[i]);return exports.list(r,t)},exports.keys=function(n,t){var r=[];for(var i in n)r.push(i);return exports.list(r,t)},exports.range=function(t,r,i,u){u=u||exports.Generator;t=t||0,i=i||1,void 0!==r&&null!==r||(r=i>0?1/0:-1/0);var e=t;return new u(function(t){if(i>0&&e>=r||i<0&&e<=r)t(n);else{var u=e;e+=i,t(null,u)}})},exports.concat=function(n,t){return arguments.length>1?n.concat.apply(n,Array.prototype.slice.call(arguments,1)):n},exports.zip=function(n,t){return arguments.length>1?n.zip.apply(n,Array.prototype.slice.call(arguments,1)):n.map(function(n,t){t(null,[n])})},exports.plugin=function(n,t){if(n)for(var r in n)exports.Generator.prototype[r]=n[r];if(t)for(var r in t)exports[r]=t[r]}});
//# sourceMappingURL=../../sourcemaps/test/asyncjs/async.js.map
