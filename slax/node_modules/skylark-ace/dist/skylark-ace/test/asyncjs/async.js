/**
 * skylark-ace - A version of ace v1.4.3 that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(function(n,t,r){var i=t.STOP={};t.Generator=function(n){this.source="function"==typeof n?{next:n}:n},function(){this.next=function(n){this.source.next(n)},this.map=function(n){if(!n)return this;n=u(1,n);var t=this.source;return this.next=function(r){t.next(function(t,i){t?r(t):n(i,function(n,t){n?r(n):r(null,t)})})},new this.constructor(this)},this.filter=function(n){if(!n)return this;n=u(1,n);var t=this.source;return this.next=function(r){t.next(function i(u,e){u?r(u):n(e,function(n,u){n?r(n):u?r(null,e):t.next(i)})})},new this.constructor(this)},this.slice=function(n,t){var r=-1;if(!t||t<0)t=1/0;var u=this.source;return this.next=function(e){u.next(function o(c,s){r++,c?e(c):r>=n&&r<t?e(null,s):r>=t?e(i):u.next(o)})},new this.constructor(this)},this.reduce=function(n,t){n=u(3,n);var r=0,e=!1,o=t,c=this.source;return this.next=function(u){if(e)return u(i);function s(){c.next(function t(s,f){if(s)return e=!0,s==i?u(null,o):s;n(o,f,r++,function(n,r){o=r,c.next(t)})})}void 0===t?c.next(function(n,t){if(n)return u(n,o);o=t,s()}):s()},new this.constructor(this)},this.forEach=this.each=function(n){n=u(1,n);var t=this.source;return this.next=function(r){t.next(function(t,i){t?r(t):n(i,function(n){r(n,i)})})},new this.constructor(this)},this.some=function(n){n=u(1,n);var t=this.source,r=!1;return this.next=function(u){if(r)return u(i);t.next(function e(o,c){if(o)return u(o);n(c,function(n,o){n?(r=!0,n==i?u(null,!1):u(n)):o?(r=!0,u(null,!0)):t.next(e)})})},new this.constructor(this)},this.every=function(n){n=u(1,n);var t=this.source,r=!1;return this.next=function(u){if(r)return u(i);t.next(function e(o,c){if(o)return u(o);n(c,function(n,o){n?(r=!0,n==i?u(null,!0):u(n)):o?t.next(e):(r=!0,u(null,!1))})})},new this.constructor(this)},this.call=function(n){this.source;return this.map(function(t,r){(t=u(0,t,n)).call(n,function(n,t){r(n,t)})})},this.concat=function(n){var t=[this];t.push.apply(t,arguments);var r=0,u=t[r++];return new this.constructor(function(n){u.next(function e(o,c){return o?o==i?(u=t[r++])?u.next(e):n(i):n(o):n(null,c)})})},this.zip=function(n){var r=[this];return r.push.apply(r,arguments),new this.constructor(function(n){t.list(r).map(function(n,t){n.next(t)}).toArray(n)})},this.expand=function(n,t){if(!n)return this;n=u(1,n),t=t||this.constructor;var r=this.source,e=null;return new t(function t(u){e?e.next(function(n,r){return n==i?(e=null,t(u)):n?u(n):void u(n,r)}):r.next(function(r,i){if(r)return u(r);n(i,function(n,r){if(n)return u(n);e=r,t(u)})})})},this.sort=function(n){var r,i=this;return this.next=function(u){if(r)return r.next(u);i.toArray(function(i,e){i?u(i):(r=t.list(e.sort(n))).next(u)})},new this.constructor(this)},this.join=function(n){return this.$arrayOp(Array.prototype.join,void 0!==n?[n]:null)},this.reverse=function(){return this.$arrayOp(Array.prototype.reverse)},this.$arrayOp=function(n,t){var r=this,u=0;return this.next=function(e){if(u++>0)return e(i);r.toArray(function(r,i){r?e(r,""):e(null,t?n.apply(i,t):n.call(i))})},new this.constructor(this)},this.end=function(n,t){t||(t=arguments[0],n=!0);var r,u,e=this.source;e.next(function o(c,s){c?c==i?t&&t(u,r):n?t&&t(c,s):(u=c,e.next(o)):(r=s,e.next(o))})},this.toArray=function(n,t){t||(t=arguments[0],n=!0);var r=[],u=[],e=this.source;e.next(function o(c,s){if(c){if(c==i)return n?t(null,r):(u.length=r.length,t(u,r));if(n)return t(c);u[r.length]=c}r.push(s),e.next(o)})}}.call(t.Generator.prototype);var u=t.makeAsync=function(n,t,r){return t.length>n?t:function(){var i,u=arguments[n];try{i=t.apply(r||this,arguments)}catch(n){return u(n)}u(null,i)}};t.list=function(n,r){r=r||t.Generator;var u=0,e=n.length;return new r(function(t){u<e?t(null,n[u++]):t(i)})},t.values=function(n,r){var i=[];for(var u in n)i.push(n[u]);return t.list(i,r)},t.keys=function(n,r){var i=[];for(var u in n)i.push(u);return t.list(i,r)},t.range=function(n,r,u,e){e=e||t.Generator;n=n||0,u=u||1,void 0!==r&&null!==r||(r=u>0?1/0:-1/0);var o=n;return new e(function(n){if(u>0&&o>=r||u<0&&o<=r)n(i);else{var t=o;o+=u,n(null,t)}})},t.concat=function(n,t){return arguments.length>1?n.concat.apply(n,Array.prototype.slice.call(arguments,1)):n},t.zip=function(n,t){return arguments.length>1?n.zip.apply(n,Array.prototype.slice.call(arguments,1)):n.map(function(n,t){t(null,[n])})},t.plugin=function(n,r){if(n)for(var i in n)t.Generator.prototype[i]=n[i];if(r)for(var i in r)t[i]=r[i]}});
//# sourceMappingURL=../../sourcemaps/test/asyncjs/async.js.map
