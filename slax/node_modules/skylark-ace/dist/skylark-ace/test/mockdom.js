/**
 * skylark-ace - A version of ace v1.4.3 that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(function(require,exports,module){"use strict";function t(){}t.prototype.__defineGetter__("cssText",function(){var t="";return Object.keys(this).forEach(function(e){this[e]&&(t+=(t?" ":"")+e+": "+this[e]+";")},this),t}),t.prototype.__defineSetter__("cssText",function(t){Object.keys(this).forEach(function(t){delete this[t]},this),t.split(";").forEach(function(t){var e=t.split(":");2==e.length&&(this[e[0].trim()]=e[1].trim())},this)});var e={textarea:function(){this.setSelectionRange=function(t,e){this.selectionStart=Math.min(t,this.value.length,e),this.selectionEnd=Math.min(e,this.value.length)},this.value=""}};function i(i){this.localName=i,this.value="",this.tagName=i&&i.toUpperCase(),this.children=this.childNodes=[],this.ownerDocument=h.document||this,this.$attributes={},this.style=new t,e.hasOwnProperty(i)&&e[i].call(this)}function n(t){this.type=t}function s(t,e){for(var i=t.children||[],n=0;n<i.length;n++){var r=e(i[n])||s(i[n],e);if(r)return r}}function r(t){this.data=t||""}(function(){function t(t){t.children.forEach(function(t){t.parentNode=null}),t.children.length=0,o.contains(o.activeElement)||(o.activeElement=o.body)}this.cloneNode=function(t){var e=new i(this.localName);for(var n in this.$attributes)e.setAttribute(n,this.$attributes[n]);return t&&this.children.forEach(function(t){e.appendChild(t.cloneNode(!0))},this),e},this.appendChild=function(t){return this.insertBefore(t,null)},this.removeChild=function(t){var e=this.children.indexOf(t);if(-1==e)throw new Error("not a child");t.parentNode=null,this.children.splice(e,1),o.contains(o.activeElement)||(o.activeElement=o.body)},this.remove=function(){this.parentNode&&this.parentNode.removeChild(this)},this.replaceChild=function(t,e){return this.insertBefore(t,e),this.removeChild(e),e},this.insertBefore=function(t,e){t.parentNode&&t.parentNode.removeChild(t);var i=this.children.indexOf(e);if(-1==i&&(i=this.children.length+1),"#fragment"==t.localName)for(var n=t.children.slice(),s=0;s<n.length;s++)this.insertBefore(n[s],e);else this.children.splice(i-1,0,t),t.parentNode=this;return t},this.querySelectorAll=function(t){var e=[];return s(this,function(i){i.localName==t&&e.push(i)}),e},this.querySelector=function(t){return this.querySelectorAll(t)[0]},this.getElementsByTagName=function(t){var e=[];return s(this,function(i){i.localName==t&&e.push(i)}),e},this.getElementById=function(t){return s(this,function(e){if(e.getAttribute&&e.getAttribute("id")==t)return e})},this.setAttribute=function(t,e){this.$attributes[t]=e},this.getAttribute=function(t,e){return String(this.$attributes[t])},this.__defineGetter__("attributes",function(){var t=this.style.cssText;return t&&(this.$attributes.style=t),Object.keys(this.$attributes).map(function(t){return{name:t,value:this.$attributes[t]}},this)}),this.__defineGetter__("className",function(){return this.$attributes.class||""}),this.__defineSetter__("className",function(t){this.$attributes.class=t}),this.__defineGetter__("textContent",function(){var t="";return s(this,function(e){e instanceof r&&(t+=e.data)}),t}),this.__defineSetter__("textContent",function(e){t(this),this.appendChild(new r(e))}),this.__defineGetter__("id",function(){return this.getAttribute("id")}),this.__defineSetter__("id",function(t){this.setAttribute("id",t)}),this.__defineGetter__("parentElement",function(){return this.parentNode==o?null:this.parentNode}),this.__defineGetter__("innerHTML",function(){return this.children.map(function(t){return"outerHTML"in t?t.outerHTML:t.data}).join("")}),this.__defineGetter__("outerHTML",function(){var t=this.attributes.map(function(t){return t.name+"="+JSON.stringify(t.value)},this).join(" ");return"<"+this.localName+(t?" "+t:"")+">"+this.innerHTML+"</"+this.localName+">"}),this.__defineSetter__("innerHTML",function(e){t(this);for(var i,n=this,s=/<(\/?\w+)|&(?:(#?\w+);)|$/g,r="",h=0;i=s.exec(e);)if(r+=e.substring(h,i.index),i[2])"gt"==i[2]?r+=">":"lt"==i[2]?r+="<":"amp"==i[2]&&(r+="&"),h=s.lastIndex;else{r&&(n.appendChild(o.createTextNode(r)),r="");var a=e.indexOf(">",s.lastIndex),c=e.slice(s.lastIndex,a).trim();if(s.lastIndex=h=a<0?e.length:a+1,!i[1])return;if("/"==i[1][0])n!=this&&(n=n.parentNode);else{var l=i[1];n=n.appendChild(o.createElement(l)),c&&c.replace(/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^"]*)'|(\w+))/,function(t,e,i,s,r){n.setAttribute(e,i||s||r||e)})}}}),this.getBoundingClientRect=function(t){var e=0,i=0,n=0,s=0;if(this==o.documentElement)e=1024,i=768;else if(o.contains(this))if("auto"==this.style.width||"span"==this.localName)e=6*this.textContent.length,i=10;else if(this.style.width)e=parseFloat(this.style.width)||0,i=parseFloat(this.style.height)||0,n=parseFloat(this.style.top)||0,s=parseFloat(this.style.left)||0;else if(this.style.right){var r=this.parentNode.getBoundingClientRect();e=r.width-(parseFloat(this.style.left)||0)-(parseFloat(this.style.right)||0),i=parseFloat(this.style.height)||r.height,n=r.top,s=r.left+(parseFloat(this.style.left)||0)}else"div"==this.localName&&(e=1024);else e=i=0;return{top:n,left:s,width:e,height:i,right:0}},this.__defineGetter__("clientHeight",function(){return this.getBoundingClientRect().height}),this.__defineGetter__("clientWidth",function(){return this.getBoundingClientRect().width}),this.__defineGetter__("offsetHeight",function(){return this.getBoundingClientRect().height}),this.__defineGetter__("offsetWidth",function(){return this.getBoundingClientRect().width}),this.__defineGetter__("lastChild",function(){return this.childNodes[this.childNodes.length-1]}),this.__defineGetter__("firstChild",function(){return this.childNodes[0]}),this.scrollHeight=1,this.addEventListener=function(t,e,i){if(!e)throw console.trace(),new Error("attempting to add empty listener");this._events||(this._events={}),this._events[t]||(this._events[t]=[]),-1==this._events[t].indexOf(e)&&this._events[t][i?"unshift":"push"](e)},this.removeEventListener=function(t,e){if(this._events&&this._events[t]){var i=this._events[t].indexOf(this._events[t]);-1!==i&&this._events[t].splice(i,1)}},this.createEvent=function(t){return new n},this.dispatchEvent=function(t){t.target||(t.target=this),t.timeStamp||(t.timeStamp=Date.now()),t.currentTarget=this;var e=this._events&&this._events[t.type];e&&e.forEach(function(e){t.stopped||e.call(this,t)},this),t.bubbles&&(this.parentNode?this.parentNode.dispatchEvent(t):this!=h&&h.dispatchEvent(t))},this.contains=function(t){for(;t;){if(t==this)return!0;t=t.parentNode}},this.focus=function(){o.activeElement!=this&&(o.activeElement&&o.activeElement.dispatchEvent({type:"blur"}),o.activeElement=this,this.dispatchEvent({type:"focus"}))},this.blur=function(){o.body.focus()}}).call(i.prototype),function(){this.initMouseEvent=function(t,e,i,n,s,r,h,o,a,c,l,u,d,f,p){this.bubbles=!0,this.type=t,this.detail=s||0,this.clientX=r,this.clientY=h,this.button=f,this.relatedTarget=p,this.ctrlKey=c,this.altKey=l,this.shiftKey=u,this.metaKey=d},this.preventDefault=function(){this.defaultPrevented=!0},this.stopPropagation=function(){this.stopped=!0}}.call(n.prototype),r.prototype.cloneNode=function(){return new r(this.data)};var h={},o=new i;o.navigator={},o.createElementNS=function(t,e){return new i(e)},o.createElement=function(t){return new i(t)},o.createTextNode=function(t){return new r(t)},o.createDocumentFragment=function(){return new i("#fragment")},o.hasFocus=function(){return!0},o.documentElement=o.appendChild(new i("html")),o.body=new i("body"),o.head=new i("head"),o.documentElement.appendChild(o.head),o.documentElement.appendChild(o.body),h.document=o,h.document.defaultView=h,h.setTimeout=setTimeout,h.clearTimeout=clearTimeout,h.getComputedStyle=function(t){return t.style},h.addEventListener=o.addEventListener,h.removeEventListener=o.removeEventListener,h.dispatchEvent=o.dispatchEvent,h.name="nodejs",h.focus=function(){},h.Node=h.Element=i,h.window=h,h.CustomEvent=h.Event=n,h.requestAnimationFrame=function(t){return setTimeout(function(){t()})};var a=[];exports.load=function(){"undefined"!=typeof global&&Object.keys(h).forEach(function(t){global[t]||(a.push(t),global[t]=h[t])})},exports.loadInBrowser=function(t){for(var e in delete t.ResizeObserver,Object.keys(h).forEach(function(e){"document"!=e&&"window"!=e&&(delete t[e],t[e]=h[e])}),h.document){var i=h.document[e];"function"==typeof i&&("createElement"==e&&(t.document.createElementOrig=t.document.createElement,i=function(e){return"script"==e?t.document.createElementOrig(e):h.document.createElement(e)}),i=i.bind(h.document)),Object.defineProperty(t.document,e,{value:i,enumerable:!0,configurable:!0})}},exports.unload=function(){"undefined"!=typeof global&&(delete require("module")._cache[__filename],a.forEach(function(t){delete global[t]}))},exports.load()});
//# sourceMappingURL=../sourcemaps/test/mockdom.js.map
