/**
 * skylark-ace - A version of ace v1.4.3 that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(function(t,e,r){"use strict";e.MaskHighlightRules=k;var n,a,i,o,s=t("../lib/oop"),l=t("../lib/lang"),u=t("./text_highlight_rules").TextHighlightRules,p=t("./javascript_highlight_rules").JavaScriptHighlightRules,g=t("./css_highlight_rules").CssHighlightRules,c=t("./markdown_highlight_rules").MarkdownHighlightRules,d=t("./html_highlight_rules").HtmlHighlightRules,m="support.variable.class",h="markup.italic",b="paren.lparen",f="paren.rparen";function k(){this.$rules={start:[v("comment","\\/\\/.*$"),v("comment","\\/\\*",[v("comment",".*?\\*\\/","start"),v("comment",".+")]),y.string("'''"),y.string('"""'),y.string('"'),y.string("'"),y.syntax(/(markdown|md)\b/,"md-multiline","multiline"),y.syntax(/html\b/,"html-multiline","multiline"),y.syntax(/(slot|event)\b/,"js-block","block"),y.syntax(/style\b/,"css-block","block"),y.syntax(/var\b/,"js-statement","attr"),y.tag(),v(b,"[[({>]"),v(f,"[\\])};]","start"),{caseInsensitive:!0}]};var t=this;function e(t,e,n){r(p,"js-"+t+"-",e,"block"===t?["start"]:["start","no_regex"],n)}function r(e,r,n,a,i){var o="pop",s=a||["start"];0===s.length&&(s=null),/block|multiline/.test(r)&&(o=r+"end",t.$rules[o]=[v("empty","","start")]),t.embedRules(e,r,[v(i||f,n,o)],s,null==s)}e("interpolation",/\]/,f+"."+h),e("statement",/\)|}|;/),e("block",/\}/),r(g,"css-block-",/\}/),r(c,"md-multiline-",/("""|''')/,[]),r(d,"html-multiline-",/("""|''')/),this.normalizeRules()}n=l.arrayToMap("log".split("|")),i=l.arrayToMap(":dualbind|:bind|:import|slot|event|style|html|markdown|md".split("|")),a=l.arrayToMap("debugger|define|var|if|each|for|of|else|switch|case|with|visible|+if|+each|+for|+switch|+with|+visible|include|import".split("|")),o=l.arrayToMap("a|abbr|acronym|address|applet|area|article|aside|audio|b|base|basefont|bdo|big|blockquote|body|br|button|canvas|caption|center|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|dir|div|dl|dt|em|embed|fieldset|figcaption|figure|font|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|keygen|kbd|label|legend|li|link|map|mark|menu|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strike|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|u|ul|var|video|wbr|xmp".split("|")),s.inherits(k,u);var y={string:function(t,e){var r=v("string.start",t,[v(b+"."+h,/~\[/,y.interpolation()),v("string.end",t,"pop"),{defaultToken:"string"}],e);if(1===t.length){var n=v("string.escape","\\\\"+t);r.push.unshift(n)}return r},interpolation:function(){return[v("keyword.control.markup.italic",/\s*\w*\s*:/),"js-interpolation-start"]},tagHead:function(t){return v(m,t,[v(m,/[\w\-_]+/),v(b+"."+h,/~\[/,y.interpolation()),y.goUp()])},tag:function(){return{token:"tag",onMatch:function(t){return void 0!==a[t]?"keyword":void 0!==i[t]?"constant.language":void 0!==n[t]?"support.function":void 0!==o[t.toLowerCase()]?"keyword.support.constant.language":"support.function.markup.bold"},regex:/([@\w\-_:+]+)|((^|\s)(?=\s*(\.|#)))/,push:[y.tagHead(/\./),y.tagHead(/#/),y.expression(),y.attribute(),v(b,/[;>{]/,"pop")]}},syntax:function(t,e,r){return{token:"constant.language",regex:t,push:{attr:[e+"-start",v("keyword.operator",/;/,"start")],multiline:[y.tagHead(/\./),y.tagHead(/#/),y.attribute(),y.expression(),v(b,/[>\{]/),v("keyword.operator",/;/,"start"),v(b,/'''|"""/,[e+"-start"])],block:[y.tagHead(/\./),y.tagHead(/#/),y.attribute(),y.expression(),v(b,/\{/,[e+"-start"])]}[r]}},attribute:function(){return v(function(t){return/^x\-/.test(t)?m+".markup.bold":m},/[\w_-]+/,[v("keyword.operator",/\s*=\s*/,[y.string('"'),y.string("'"),y.word(),y.goUp()]),y.goUp()])},expression:function(){return v(b,/\(/,["js-statement-start"])},word:function(){return v("string",/[\w-_]+/)},goUp:function(){return v("text","","pop")},goStart:function(){return v("text","","start")}};function v(t,e,r){var n,a,i;return 4===arguments.length?(n=r,a=arguments[3]):"string"==typeof r?a=r:n=r,"function"==typeof t&&(i=t,t="empty"),{token:t,regex:e,push:n,next:a,onMatch:i}}});
//# sourceMappingURL=../sourcemaps/mode/mask_highlight_rules.js.map
