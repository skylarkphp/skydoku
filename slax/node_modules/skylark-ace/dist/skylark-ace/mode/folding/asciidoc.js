/**
 * skylark-ace - A version of ace v1.4.3 that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(function(require,exports,module){"use strict";var e=require("../../lib/oop"),t=require("./fold_mode").FoldMode,i=require("../../range").Range,n=exports.FoldMode=function(){};e.inherits(n,t),function(){this.foldingStartMarker=/^(?:\|={10,}|[\.\/=\-~^+]{4,}\s*$|={1,5} )/,this.singleLineHeadingRe=/^={1,5}(?=\s+\S)/,this.getFoldWidget=function(e,t,i){var n=e.getLine(i);return this.foldingStartMarker.test(n)?"="==n[0]?this.singleLineHeadingRe.test(n)?"start":e.getLine(i-1).length!=e.getLine(i).length?"":"start":"dissallowDelimitedBlock"==e.bgTokenizer.getState(i)?"end":"start":""},this.getFoldWidgetRange=function(e,t,n){var g=e.getLine(n),r=g.length,a=e.getLength(),l=n,o=n;if(g.match(this.foldingStartMarker)){var s,d=["=","-","~","^","+"],f=this.singleLineHeadingRe;if("markup.heading"==c(n)){for(var h=k();++n<a;){if("markup.heading"==c(n))if(k()<=h)break}if((o=s&&s.value.match(this.singleLineHeadingRe)?n-1:n-2)>l)for(;o>l&&(!c(o)||"["==s.value[0]);)o--;if(o>l){var u=e.getLine(o).length;return new i(l,r,o,u)}}else{if("dissallowDelimitedBlock"==e.bgTokenizer.getState(n)){for(;n-- >0&&-1!=e.bgTokenizer.getState(n).lastIndexOf("Block"););if((o=n+1)<l){u=e.getLine(n).length;return new i(o,5,l,r-5)}}else{for(;++n<a&&"dissallowDelimitedBlock"!=e.bgTokenizer.getState(n););if((o=n)>l){u=e.getLine(n).length;return new i(l,5,o,u-5)}}}}function c(t){return(s=e.getTokens(t)[0])&&s.type}function k(){var t=s.value.match(f);if(t)return t[0].length;var i=d.indexOf(s.value[0])+1;return 1==i&&e.getLine(n-1).length!=e.getLine(n).length?1/0:i}}}.call(n.prototype)});
//# sourceMappingURL=../../sourcemaps/mode/folding/asciidoc.js.map
