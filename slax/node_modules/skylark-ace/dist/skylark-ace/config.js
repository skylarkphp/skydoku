/**
 * skylark-ace - A version of ace v1.4.3 that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(function(e,t,a){"no use strict";var n=e("./lib/lang"),r=(e("./lib/oop"),e("./lib/net")),o=e("./lib/app_config").AppConfig;a.exports=t=new o;var i=function(){return this||"undefined"!=typeof window&&window}(),l={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0};t.get=function(e){if(!l.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return l[e]},t.set=function(e,t){if(!l.hasOwnProperty(e))throw new Error("Unknown config key: "+e);l[e]=t},t.all=function(){return n.copyObject(l)},t.$modes={},t.moduleUrl=function(e,t){if(l.$moduleUrls[e])return l.$moduleUrls[e];var a=e.split("/"),n="snippets"==(t=t||a[a.length-2]||"")?"/":"-",r=a[a.length-1];if("worker"==t&&"-"==n){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(o,"")}(!r||r==t)&&a.length>1&&(r=a[a.length-2]);var i=l[t+"Path"];return null==i?i=l.basePath:"/"==n&&(t=n=""),i&&"/"!=i.slice(-1)&&(i+="/"),i+t+n+r+this.get("suffix")},t.setModuleUrl=function(e,t){return l.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(a,n){var o,i;Array.isArray(a)&&(i=a[0],a=a[1]);try{o=e(a)}catch(e){}if(o&&!t.$loading[a])return n&&n(o);if(t.$loading[a]||(t.$loading[a]=[]),t.$loading[a].push(n),!(t.$loading[a].length>1)){var l=function(){e([a],function(e){t._emit("load.module",{name:a,module:e});var n=t.$loading[a];t.$loading[a]=null,n.forEach(function(t){t&&t(e)})})};if(!t.get("packaged"))return l();r.loadScript(t.moduleUrl(a,i),l),c()}};var c=function(){l.basePath||l.workerPath||l.modePath||l.themePath||Object.keys(l.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),c=function(){})};t.init=function(n){if(i&&i.document){l.packaged=n||e.packaged||a.packaged||i.define&&define.packaged;for(var r,o={},c="",u=document.currentScript||document._currentScript,d=(u&&u.ownerDocument||document).getElementsByTagName("script"),s=0;s<d.length;s++){var f=d[s],h=f.src||f.getAttribute("src");if(h){for(var g=f.attributes,p=0,m=g.length;p<m;p++){var b=g[p];0===b.name.indexOf("data-ace-")&&(o[(r=b.name.replace(/^data-ace-/,""),r.replace(/-(.)/g,function(e,t){return t.toUpperCase()}))]=b.value)}var w=h.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);w&&(c=w[1])}}for(var k in c&&(o.base=o.base||c,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base,o)void 0!==o[k]&&t.set(k,o[k])}}});
//# sourceMappingURL=sourcemaps/config.js.map
