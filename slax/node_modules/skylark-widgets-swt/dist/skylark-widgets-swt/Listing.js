/**
 * skylark-widgets-swt - The skylark widget framework and standard widgets
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-widgets-swt/
 * @license MIT
 */
define(["skylark-langx/langx","skylark-domx-query","./swt","./Widget"],function(e,t,s,i){var l=i.inherit({klassName:"Listing",pluginName:"lark.listing",options:{multiSelect:!1,multiTier:{mode:"",levels:2,selectors:{children:"ul",hasChildren:":has(ul)"},tree:{classes:{expandIcon:"glyphicon-plus",collapseIcon:"glyphicon-minus",children:""},templates:{treeIcon:'<i class="glyphicon"></i>',itemGroup:""},selectors:{treeIcon:" > i"}},accordion:{selectors:{toggler:" > a"}}},toggle:!1,classes:{active:"active"},selectors:{item:"li"},item:{template:'<span><i class="glyphicon"></i><a href="javascript: void(0);"></a> </span>',checkable:!1,selectors:{icon:" > span > i",text:" > span > a"}},selected:0},state:{selected:Object},_init:function(){this.overrided();var e=this,s=this._velm,i=this.options.selectors.item;this._$items=s.$(i),s.on("click",i,function(){var t=e._elmx(this);if(!t.hasClass("disabled")){var s=t.data("value");void 0===s&&(s=e._$items.index(this)),e.state.set("selected",s)}return!1}),this.state.set("selected",this.options.selected);var l=this.options.toggle,o=this.options.multiTier.mode,a=this.options.multiTier.selectors.hasChildren,n=this.options.multiTier.selectors.children,c=this.options.item.selectors.icon,r=this.options.item.selectors.text,h=this.options.item.template;if(o){if("tree"==o){var d=this.options.multiTier.tree.templates.treeIcon,p=this.options.multiTier.tree.selectors.treeIcon,m=this.options.multiTier.tree.classes.expandIcon,u=this.options.multiTier.tree.classes.collapseIcon;this._$items.each(function(){if(t(this).is(a)){var s=t(this).find(n);t(s).remove(),text=t(this).text().trim(),t(this).html(d+h),t(this).find(p).addClass(m).on("click."+e.pluginName,function(e){e.preventDefault(),t(this).toggleClass(m).toggleClass(u),t(this).closest("li").toggleClass("active").children("ul").collapse("toggle"),l&&t(this).closest("li").siblings().removeClass("active").children("ul.in").collapse("hide")}),t(this).find(c).addClass("glyphicon-folder-open"),t(this).find(r).text(text),t(this).append(s)}else text=t(this).text().trim(),t(this).html(d+h),t(this).find(c).addClass("glyphicon-file"),t(this).find(r).text(text)})}else if("accordion"==o){var g=e.options.multiTier.accordion.selectors.toggler;this._$items.has(n).find(g).on("click."+this.pluginName,function(e){e.preventDefault(),t(this).closest(i).toggleClass("active").children(n).collapse("toggle"),l&&t(this).closest(i).siblings().removeClass("active").children(n+".in").collapse("hide")})}this._$items.filter(".active").has(n).children(n).addClass("collapse in"),this._$items.not(".active").has(n).children(n).addClass("collapse")}},_refresh:function(t){this.overrided(t);var s=this;function i(t){return e.isNumber(t)?s._$items.eq(t):s._$items.filter('[data-value="'+t+'"]')}t.selected&&(this.options.multiSelect||(i(t.selected.oldValue).removeClass(s.options.classes.active),function(e){i(e).addClass(s.options.classes.active)}(t.selected.value)))}});return s.Listing=l});
//# sourceMappingURL=sourcemaps/Listing.js.map
