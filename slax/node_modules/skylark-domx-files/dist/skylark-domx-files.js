/**
 * skylark-domx-files - The filer features enhancement for skylark utils.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.1
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(e,r){var n=r.define,t=r.require,a="function"==typeof n&&n.amd,s=!a&&"undefined"!=typeof exports;if(!a&&!n){var o={};n=r.define=function(e,r,n){"function"==typeof n?(o[e]={factory:n,deps:r.map(function(r){return function(e,r){if("."!==e[0])return e;var n=r.split("/"),t=e.split("/");n.pop();for(var a=0;a<t.length;a++)"."!=t[a]&&(".."==t[a]?n.pop():n.push(t[a]));return n.join("/")}(r,e)}),resolved:!1,exports:null},t(e)):o[e]={factory:null,resolved:!0,exports:n}},t=r.require=function(e){if(!o.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var n=o[e];if(!n.resolved){var a=[];n.deps.forEach(function(e){a.push(t(e))}),n.exports=n.factory.apply(r,a)||null,n.resolved=!0}return n.exports}}if(!n)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(e,r){e("skylark-domx-files/files",["skylark-langx/skylark"],function(e){var r=function(){return r};return e.attach("domx.files",r)}),e("skylark-domx-files/dropzone",["skylark-langx/arrays","skylark-langx/Deferred","skylark-domx-styler","skylark-domx-eventer","./files","skylark-storages-diskfs/webentry"],function(e,r,n,t,a,s){return a.dropzone=function(r,a){var o=(a=a||{}).hoverClass||"dropzone",i=a.dropped,l=0;return t.on(r,"dragenter",function(e){e.dataTransfer&&e.dataTransfer.types.indexOf("Files")>-1&&(t.stop(e),l++,n.addClass(r,o))}),t.on(r,"dragover",function(e){e.dataTransfer&&e.dataTransfer.types.indexOf("Files")>-1&&t.stop(e)}),t.on(r,"dragleave",function(e){e.dataTransfer&&e.dataTransfer.types.indexOf("Files")>-1&&0==--l&&n.removeClass(r,o)}),t.on(r,"drop",function(a){if(a.dataTransfer&&a.dataTransfer.types.indexOf("Files")>-1&&(n.removeClass(r,o),t.stop(a),i)){var l=a.dataTransfer.items;l&&l.length&&(l[0].webkitGetAsEntry||l[0].getAsEntry)?s.all(e.map(l,function(e){return e.webkitGetAsEntry?e.webkitGetAsEntry():e.getAsEntry()})).then(i):i(a.dataTransfer.files)}}),this}}),e("skylark-domx-files/pastezone",["skylark-langx/objects","skylark-domx-eventer","./files"],function(e,r,n){return n.pastezone=function(n,t){(t=t||{}).hoverClass;var a=t.pasted;return r.on(n,"paste",function(r){var n=r.originalEvent&&r.originalEvent.clipboardData&&r.originalEvent.clipboardData.items,t=[];n&&n.length&&e.each(n,function(e,r){var n=r.getAsFile&&r.getAsFile();n&&t.push(n)}),a&&t.length&&a(t)}),this}}),e("skylark-domx-files/picker",["skylark-langx/objects","skylark-domx-eventer","./files","skylark-storages-diskfs/select"],function(e,r,n,t){return n.picker=function(e,n){return r.on(e,"click",function(e){e.preventDefault(),t(n)}),this}}),e("skylark-domx-files/main",["./files","skylark-domx-velm","skylark-domx-query","./dropzone","./pastezone","./picker"],function(e,r,n){return r.delegate(["dropzone","pastezone","picker"],e),n.fn.pastezone=n.wraps.wrapper_every_act(e.pastezone,e),n.fn.dropzone=n.wraps.wrapper_every_act(e.dropzone,e),n.fn.picker=n.wraps.wrapper_every_act(e.picker,e),e}),e("skylark-domx-files",["skylark-domx-files/main"],function(e){return e})}(n),!a){var i=t("skylark-langx/skylark");s?module.exports=i:r.skylarkjs=i}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-domx-files.js.map
