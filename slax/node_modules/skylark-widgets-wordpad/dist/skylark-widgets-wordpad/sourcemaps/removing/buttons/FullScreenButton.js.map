{"version":3,"sources":["removing/buttons/FullScreenButton.js"],"names":["define","$","Toolbar","Wordpad","Button","i18n","FullScrennButton","inherit","name","needFocus","_init","prototype","call","this","window","body","editable","editor","toolbar","wrapper","cls","zh-CN","fullscreen","iconClassOf","status","setActive","hasClass","constructor","command","editablePadding","isFullscreen","_this","toggleClass","outerHeight","height","on","id","_resize","resize","off","size","addButton"],"mappings":";;;;;;;AAAAA,QACE,qBACA,aACA,aACA,YACA,WACA,SAASC,EAAEC,EAAQC,EAAQC,EAAOC,GAGlC,IAAIC,EAAmBF,EAAOG,SAC5BC,KAAO,aAEPC,WAAY,EAEZC,MAAQ,WAMN,OALAN,EAAOO,UAAUD,MAAME,KAAKC,MAE5BA,KAAKC,OAASb,EAAEa,QAChBD,KAAKE,KAAOd,EAAE,QACdY,KAAKG,SAAWH,KAAKI,OAAOF,KACrBF,KAAKK,QAAUL,KAAKK,QAAQC,WAoDvC,OA7CAb,EAAiBc,IAAM,qBAEvBd,EAAiBD,MACfgB,SACEC,WAAY,OAIhBhB,EAAiBK,UAAUY,YAAc,WACvC,MAAO,mBAITjB,EAAiBK,UAAUa,OAAS,WAClC,OAAOX,KAAKY,UAAUZ,KAAKE,KAAKW,SAASb,KAAKc,YAAYP,OAG5Dd,EAAiBK,UAAUiB,QAAU,WACnC,IAAIC,EAAiBC,EAKqDC,EAa1E,OAjBAlB,KAAKE,KAAKiB,YAAYnB,KAAKc,YAAYP,MACvCU,EAAejB,KAAKE,KAAKW,SAASb,KAAKc,YAAYP,OAEjDS,EAAkBhB,KAAKG,SAASiB,cAAgBpB,KAAKG,SAASkB,SAC9DrB,KAAKC,OAAOqB,GAAG,6BAA+BtB,KAAKI,OAAOmB,IAAcL,EAMrElB,KALM,WACL,OAAOkB,EAAMM,SACXH,OAAQH,EAAMjB,OAAOoB,SAAWH,EAAMb,QAAQe,cAAgBJ,OAG1DS,WAEVzB,KAAKC,OAAOyB,IAAI,6BAA+B1B,KAAKI,OAAOmB,IAAIE,SAC/DzB,KAAKwB,SACHH,OAAQ,UAGLrB,KAAKY,UAAUK,IAGxBxB,EAAiBK,UAAU0B,QAAU,SAASG,GAC5C,OAAO3B,KAAKG,SAASkB,OAAOM,EAAKN,SAGnC/B,EAAQD,QAAQuC,UAAUnC,GAEnBA","file":"../../../removing/buttons/FullScreenButton.js","sourcesContent":["define([\r\n  \"skylark-domx-query\",\r\n  \"../Toolbar\",\r\n  \"../Wordpad\",\r\n  \"../Button\",\r\n  \"../i18n\"\r\n],function($,Toolbar,Wordpad,Button,i18n){ \r\n\r\n  \r\n  var FullScrennButton = Button.inherit({\r\n    name : 'fullscreen',\r\n\r\n    needFocus : false,\r\n\r\n    _init : function() {\r\n      Button.prototype._init.call(this);\r\n\r\n      this.window = $(window);\r\n      this.body = $('body');\r\n      this.editable = this.editor.body;\r\n      return this.toolbar = this.toolbar.wrapper;\r\n    }\r\n\r\n  });\r\n\r\n\r\n\r\n  FullScrennButton.cls = 'wordpad-fullscreen';\r\n\r\n  FullScrennButton.i18n = {\r\n    'zh-CN': {\r\n      fullscreen: '全屏'\r\n    }\r\n  };\r\n\r\n  FullScrennButton.prototype.iconClassOf = function() {\r\n    return 'icon-fullscreen';\r\n  };\r\n\r\n\r\n  FullScrennButton.prototype.status = function() {\r\n    return this.setActive(this.body.hasClass(this.constructor.cls));\r\n  };\r\n\r\n  FullScrennButton.prototype.command = function() {\r\n    var editablePadding, isFullscreen;\r\n    this.body.toggleClass(this.constructor.cls);\r\n    isFullscreen = this.body.hasClass(this.constructor.cls);\r\n    if (isFullscreen) {\r\n      editablePadding = this.editable.outerHeight() - this.editable.height();\r\n      this.window.on(\"resize.wordpad-fullscreen-\" + this.editor.id, (function(_this) {\r\n        return function() {\r\n          return _this._resize({\r\n            height: _this.window.height() - _this.toolbar.outerHeight() - editablePadding\r\n          });\r\n        };\r\n      })(this)).resize();\r\n    } else {\r\n      this.window.off(\"resize.wordpad-fullscreen-\" + this.editor.id).resize();\r\n      this._resize({\r\n        height: 'auto'\r\n      });\r\n    }\r\n    return this.setActive(isFullscreen);\r\n  };\r\n\r\n  FullScrennButton.prototype._resize = function(size) {\r\n    return this.editable.height(size.height);\r\n  };\r\n\r\n  Wordpad.Toolbar.addButton(FullScrennButton);\r\n\r\n  return FullScrennButton;\r\n\r\n }); "]}