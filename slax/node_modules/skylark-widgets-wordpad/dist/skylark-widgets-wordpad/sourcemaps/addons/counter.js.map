{"version":3,"sources":["addons/counter.js"],"names":["$","Redactor","prototype","counter","init","this","opts","callbacks","core","editor","on","proxy","count","words","characters","spaces","text","code","get","replace","trim","arrWords","split","arrSpaces","match","length","callback","jQuery"],"mappings":";;;;;;;CAAC,SAAUA,GACVA,EAAEC,SAASC,UAAUC,QAAU,WAC9B,OACCC,KAAM,gBACsC,IAAhCC,KAAKC,KAAKC,UAAUJ,SAK/BE,KAAKG,KAAKC,SAASC,GAAG,gCAAiCV,EAAEW,MAAMN,KAAKF,QAAQS,MAAOP,QAEpFO,MAAO,WACN,IAAIC,EAAQ,EAAOC,EAAa,EAC/BC,EAAS,EAGNC,EAFOX,KAAKY,KAAKC,MAELC,QAAQ,cAAe,KAQvC,GAHAH,GADAA,GADAA,GADAA,GADAA,EAAOA,EAAKG,QAAQ,YAAa,KACrBA,QAAQ,OAAQ,KAChBA,QAAQ,OAAQ,MAChBA,QAAQ,OAAQ,MAChBA,QAAQ,UAAW,IAGlB,MAFbH,EAAOhB,EAAEoB,KAAKJ,IAEG,CAChB,IAAIK,EAAWL,EAAKM,MAAM,OACtBC,EAAYP,EAAKQ,MAAM,OAE3BX,EAAQ,EAAaQ,EAASI,OAAS,EACvCV,EAAS,EAAcQ,EAAUE,OAAS,EAE1CX,EAAaE,EAAKS,OAGnBpB,KAAKG,KAAKkB,SAAS,WAAab,MAAOA,EAAOC,WAAYA,EAAYC,OAAQA,OAlClF,CAsCEY","file":"../../addons/counter.js","sourcesContent":["(function ($) {\r\n\t$.Redactor.prototype.counter = function () {\r\n\t\treturn {\r\n\t\t\tinit: function () {\r\n\t\t\t\tif (typeof this.opts.callbacks.counter === 'undefined') {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tthis.core.editor().on('keyup.redactor-plugin-counter', $.proxy(this.counter.count, this));\r\n\t\t\t},\r\n\t\t\tcount: function () {\r\n\t\t\t\tvar words = 0; var characters = 0; var\n\t\t\t\t\tspaces = 0;\r\n\t\t\t\tvar html = this.code.get();\r\n\r\n\t\t\t\tvar text = html.replace(/<\\/(.*?)>/gi, ' ');\r\n\t\t\t\ttext = text.replace(/<(.*?)>/gi, '');\r\n\t\t\t\ttext = text.replace(/\\t/gi, '');\r\n\t\t\t\ttext = text.replace(/\\n/gi, ' ');\r\n\t\t\t\ttext = text.replace(/\\r/gi, ' ');\r\n\t\t\t\ttext = text.replace(/\\u200B/g, '');\r\n\t\t\t\ttext = $.trim(text);\r\n\r\n\t\t\t\tif (text !== '') {\r\n\t\t\t\t\tvar arrWords = text.split(/\\s+/);\r\n\t\t\t\t\tvar arrSpaces = text.match(/\\s/g);\r\n\r\n\t\t\t\t\twords = (arrWords) ? arrWords.length : 0;\r\n\t\t\t\t\tspaces = (arrSpaces) ? arrSpaces.length : 0;\r\n\r\n\t\t\t\t\tcharacters = text.length;\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.core.callback('counter', { words: words, characters: characters, spaces: spaces });\n\t\t\t},\r\n\t\t};\r\n\t};\r\n}(jQuery));\n"]}