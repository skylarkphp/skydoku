{"version":3,"sources":["addons/actions/FullScreenAction.js"],"names":["define","$","addons","Action","i18n","FullScrennAction","inherit","name","needFocus","_init","prototype","call","this","window","body","editable","editor","iconClassOf","status","setActive","hasClass","constructor","cls","_execute","editablePadding","isFullscreen","_this","toggleClass","outerHeight","height","on","id","_resize","toolbar","resize","off","size","zh-CN","fullscreen","actions"],"mappings":";;;;;;;AAAAA,QACE,qBACA,eACA,eACA,cACA,SAASC,EAAEC,EAAOC,EAAOC,GAGzB,IAAIC,EAAmBF,EAAOG,SAC5BC,KAAO,aAEPC,WAAY,EAEZC,MAAQ,WACNN,EAAOO,UAAUD,MAAME,KAAKC,MAE5BA,KAAKC,OAASZ,EAAEY,QAChBD,KAAKE,KAAOb,EAAE,QACdW,KAAKG,SAAWH,KAAKI,OAAOF,MAG9BG,YAAc,WACZ,MAAO,mBAITC,OAAS,WACP,OAAON,KAAKO,UAAUP,KAAKE,KAAKM,SAASR,KAAKS,YAAYC,OAG5DC,SAAW,WACT,IAAIC,EAAiBC,EAKqDC,EAa1E,OAjBAd,KAAKE,KAAKa,YAAYf,KAAKS,YAAYC,MACvCG,EAAeb,KAAKE,KAAKM,SAASR,KAAKS,YAAYC,OAEjDE,EAAkBZ,KAAKG,SAASa,cAAgBhB,KAAKG,SAASc,SAC9DjB,KAAKC,OAAOiB,GAAG,6BAA+BlB,KAAKI,OAAOe,IAAcL,EAMrEd,KALM,WACL,OAAOc,EAAMM,SACXH,OAAQH,EAAMb,OAAOgB,SAAWH,EAAMV,OAAOiB,QAAQL,cAAgBJ,OAGjEU,WAEVtB,KAAKC,OAAOsB,IAAI,6BAA+BvB,KAAKI,OAAOe,IAAIG,SAC/DtB,KAAKoB,SACHH,OAAQ,UAGLjB,KAAKO,UAAUM,IAGxBO,QAAU,SAASI,GACjB,OAAOxB,KAAKG,SAASc,OAAOO,EAAKP,WAerC,OAXAxB,EAAiBiB,IAAM,qBAEvBjB,EAAiBD,MACfiC,SACEC,WAAY,OAKhBpC,EAAOqC,QAAQD,WAAajC,EAErBA","file":"../../../addons/actions/FullScreenAction.js","sourcesContent":["define([\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\",\r\n  \"../../i18n\"\r\n],function($,addons,Action,i18n){ \r\n\r\n  \r\n  var FullScrennAction = Action.inherit({\r\n    name : 'fullscreen',\r\n\r\n    needFocus : false,\r\n\r\n    _init : function() {\r\n      Action.prototype._init.call(this);\r\n\r\n      this.window = $(window);\r\n      this.body = $('body');\r\n      this.editable = this.editor.body;\r\n    },\r\n\r\n    iconClassOf : function() {\r\n      return 'icon-fullscreen';\r\n    },\r\n\r\n\r\n    status : function() {\r\n      return this.setActive(this.body.hasClass(this.constructor.cls));\r\n    },\r\n\r\n    _execute : function() {\r\n      var editablePadding, isFullscreen;\r\n      this.body.toggleClass(this.constructor.cls);\r\n      isFullscreen = this.body.hasClass(this.constructor.cls);\r\n      if (isFullscreen) {\r\n        editablePadding = this.editable.outerHeight() - this.editable.height();\r\n        this.window.on(\"resize.wordpad-fullscreen-\" + this.editor.id, (function(_this) {\r\n          return function() {\r\n            return _this._resize({\r\n              height: _this.window.height() - _this.editor.toolbar.outerHeight() - editablePadding\r\n            });\r\n          };\r\n        })(this)).resize();\r\n      } else {\r\n        this.window.off(\"resize.wordpad-fullscreen-\" + this.editor.id).resize();\r\n        this._resize({\r\n          height: 'auto'\r\n        });\r\n      }\r\n      return this.setActive(isFullscreen);\r\n    },\r\n\r\n    _resize : function(size) {\r\n      return this.editable.height(size.height);\r\n    }\r\n  });\r\n\r\n  FullScrennAction.cls = 'wordpad-fullscreen';\r\n\r\n  FullScrennAction.i18n = {\r\n    'zh-CN': {\r\n      fullscreen: '全屏'\r\n    }\r\n  };\r\n\r\n\r\n  addons.actions.fullscreen = FullScrennAction; \r\n\r\n  return FullScrennAction;\r\n\r\n }); "]}