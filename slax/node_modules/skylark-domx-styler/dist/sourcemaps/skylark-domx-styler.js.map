{"version":3,"sources":["skylark-domx-styler.js"],"names":["define","skylark","langx","Array","prototype","every","forEach","camelCase","dasherize","maybeAddPx","name","value","cssNumber","column-count","columns","font-weight","line-height","opacity","z-index","zoom","classReCache","classRE","RegExp","className","node","klass","svg","undefined","baseVal","elementDisplay","getStyles","elem","view","ownerDocument","defaultView","opener","window","getComputedStyle","styler","mixin","autocssfix","cssHooks","addClass","elm","this","names","cls","isString","split","re","match","css","property","arguments","length","computedStyle","style","getPropertyValue","isArrayLike","props","call","prop","removeProperty","key","cssText","disabled","dom","hasClass","hide","isInvisible","removeClass","replace","trim","show","nodeName","element","display","document","createElement","body","appendChild","parentNode","removeChild","defaultDisplay","toggleClass","when","self","attach","velm","$","delegate","method","VisualElement","fn","wraps","wrapper_name_value","wrapper_some_chk","wrapper_every_act_firstArgFunc","replaceClass","newClass","oldClass","main"],"mappings":"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","file":"../skylark-domx-styler.js","sourcesContent":["define('skylark-domx-styler/styler',[\r\n    \"skylark-langx/skylark\",\r\n    \"skylark-langx/langx\"\r\n], function(skylark, langx) {\r\n    var every = Array.prototype.every,\r\n        forEach = Array.prototype.forEach,\r\n        camelCase = langx.camelCase,\r\n        dasherize = langx.dasherize;\r\n\r\n    function maybeAddPx(name, value) {\r\n        return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\r\n    }\r\n\r\n    var cssNumber = {\r\n            'column-count': 1,\r\n            'columns': 1,\r\n            'font-weight': 1,\r\n            'line-height': 1,\r\n            'opacity': 1,\r\n            'z-index': 1,\r\n            'zoom': 1\r\n        },\r\n        classReCache = {\r\n\r\n        };\r\n\r\n    function classRE(name) {\r\n        return name in classReCache ?\r\n            classReCache[name] : (classReCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'));\r\n    }\r\n\r\n    // access className property while respecting SVGAnimatedString\r\n    /*\r\n     * Adds the specified class(es) to each element in the set of matched elements.\r\n     * @param {HTMLElement} node\r\n     * @param {String} value\r\n     */\r\n    function className(node, value) {\r\n        var klass = node.className || '',\r\n            svg = klass && klass.baseVal !== undefined\r\n\r\n        if (value === undefined) return svg ? klass.baseVal : klass\r\n        svg ? (klass.baseVal = value) : (node.className = value)\r\n    }\r\n\r\n    function disabled(elm, value ) {\r\n        if (arguments.length < 2) {\r\n            return !!this.dom.disabled;\r\n        }\r\n\r\n        elm.disabled = value;\r\n\r\n        return this;\r\n    }\r\n\r\n    var elementDisplay = {};\r\n\r\n    function defaultDisplay(nodeName) {\r\n        var element, display\r\n        if (!elementDisplay[nodeName]) {\r\n            element = document.createElement(nodeName)\r\n            document.body.appendChild(element)\r\n            display = getStyles(element).getPropertyValue(\"display\")\r\n            element.parentNode.removeChild(element)\r\n            display == \"none\" && (display = \"block\")\r\n            elementDisplay[nodeName] = display\r\n        }\r\n        return elementDisplay[nodeName]\r\n    }\r\n    /*\r\n     * Display the matched elements.\r\n     * @param {HTMLElement} elm\r\n     */\r\n    function show(elm) {\r\n        styler.css(elm, \"display\", \"\");\r\n        if (styler.css(elm, \"display\") == \"none\") {\r\n            styler.css(elm, \"display\", defaultDisplay(elm.nodeName));\r\n        }\r\n        return this;\r\n    }\r\n\r\n    function isInvisible(elm) {\r\n        return styler.css(elm, \"display\") == \"none\" || styler.css(elm, \"opacity\") == 0;\r\n    }\r\n\r\n    /*\r\n     * Hide the matched elements.\r\n     * @param {HTMLElement} elm\r\n     */\r\n    function hide(elm) {\r\n        styler.css(elm, \"display\", \"none\");\r\n        return this;\r\n    }\r\n\r\n    /*\r\n     * Adds the specified class(es) to each element in the set of matched elements.\r\n     * @param {HTMLElement} elm\r\n     * @param {String} name\r\n     */\r\n    function addClass(elm, name) {\r\n        if (!name) return this\r\n        var cls = className(elm),\r\n            names;\r\n        if (langx.isString(name)) {\r\n            names = name.split(/\\s+/g);\r\n        } else {\r\n            names = name;\r\n        }\r\n        names.forEach(function(klass) {\r\n            var re = classRE(klass);\r\n            if (!cls.match(re)) {\r\n                cls += (cls ? \" \" : \"\") + klass;\r\n            }\r\n        });\r\n\r\n        className(elm, cls);\r\n\r\n        return this;\r\n    }\r\n\r\n    function getStyles( elem ) {\r\n\r\n        // Support: IE <=11 only, Firefox <=30 (#15098, #14150)\r\n        // IE throws on elements created in popups\r\n        // FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\r\n        var view = elem.ownerDocument.defaultView;\r\n\r\n        if ( !view || !view.opener ) {\r\n            view = window;\r\n        }\r\n\r\n        return view.getComputedStyle( elem);\r\n    }\r\n\r\n\r\n    /*\r\n     * Get the value of a computed style property for the first element in the set of matched elements or set one or more CSS properties for every matched element.\r\n     * @param {HTMLElement} elm\r\n     * @param {String} property\r\n     * @param {Any} value\r\n     */\r\n    function css(elm, property, value) {\r\n        if (arguments.length < 3) {\r\n            var computedStyle,\r\n                computedStyle = getStyles(elm)\r\n            if (langx.isString(property)) {\r\n                return elm.style[camelCase(property)] || computedStyle.getPropertyValue(dasherize(property))\r\n            } else if (langx.isArrayLike(property)) {\r\n                var props = {}\r\n                forEach.call(property, function(prop) {\r\n                    props[prop] = (elm.style[camelCase(prop)] || computedStyle.getPropertyValue(dasherize(prop)))\r\n                })\r\n                return props\r\n            }\r\n        }\r\n\r\n        var css = '';\r\n        if (typeof(property) == 'string') {\r\n            if (!value && value !== 0) {\r\n                elm.style.removeProperty(dasherize(property));\r\n            } else {\r\n                css = dasherize(property) + \":\" + maybeAddPx(property, value)\r\n            }\r\n        } else {\r\n            for (key in property) {\r\n                if (property[key] === undefined) {\r\n                    continue;\r\n                }\r\n                if (!property[key] && property[key] !== 0) {\r\n                    elm.style.removeProperty(dasherize(key));\r\n                } else {\r\n                    css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\r\n                }\r\n            }\r\n        }\r\n\r\n        elm.style.cssText += ';' + css;\r\n        return this;\r\n    }\r\n\r\n    /*\r\n     * Determine whether any of the matched elements are assigned the given class.\r\n     * @param {HTMLElement} elm\r\n     * @param {String} name\r\n     */\r\n    function hasClass(elm, name) {\r\n        var re = classRE(name);\r\n        return elm.className && elm.className.match(re);\r\n    }\r\n\r\n    /*\r\n     * Remove a single class, multiple classes, or all classes from each element in the set of matched elements.\r\n     * @param {HTMLElement} elm\r\n     * @param {String} name\r\n     */\r\n    function removeClass(elm, name) {\r\n        if (name) {\r\n            var cls = className(elm),\r\n                names;\r\n\r\n            if (langx.isString(name)) {\r\n                names = name.split(/\\s+/g);\r\n            } else {\r\n                names = name;\r\n            }\r\n\r\n            names.forEach(function(klass) {\r\n                var re = classRE(klass);\r\n                if (cls.match(re)) {\r\n                    cls = cls.replace(re, \" \");\r\n                }\r\n            });\r\n\r\n            className(elm, cls.trim());\r\n        } else {\r\n            className(elm, \"\");\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /*\r\n     * Add or remove one or more classes from the specified element.\r\n     * @param {HTMLElement} elm\r\n     * @param {String} name\r\n     * @param {} when\r\n     */\r\n    function toggleClass(elm, name, when) {\r\n        var self = this;\r\n        name.split(/\\s+/g).forEach(function(klass) {\r\n            if (when === undefined) {\r\n                when = !self.hasClass(elm, klass);\r\n            }\r\n            if (when) {\r\n                self.addClass(elm, klass);\r\n            } else {\r\n                self.removeClass(elm, klass)\r\n            }\r\n        });\r\n\r\n        return self;\r\n    }\r\n\r\n    var styler = function() {\r\n        return styler;\r\n    };\r\n\r\n    langx.mixin(styler, {\r\n        autocssfix: false,\r\n        cssHooks: {\r\n\r\n        },\r\n\r\n        addClass: addClass,\r\n        className: className,\r\n        css: css,\r\n        disabled : disabled,        \r\n        hasClass: hasClass,\r\n        hide: hide,\r\n        isInvisible: isInvisible,\r\n        removeClass: removeClass,\r\n        show: show,\r\n        toggleClass: toggleClass\r\n    });\r\n\r\n    return skylark.attach(\"domx.styler\", styler);\r\n});\ndefine('skylark-domx-styler/main',[\r\n\t\"./styler\",\r\n\t\"skylark-domx-velm\",\r\n\t\"skylark-domx-query\"\t\r\n],function(styler,velm,$){\r\n\t\r\n    // from ./styler\r\n    velm.delegate([\r\n        \"addClass\",\r\n        \"className\",\r\n        \"css\",\r\n        \"hasClass\",\r\n        \"hide\",\r\n        \"isInvisible\",\r\n        \"removeClass\",\r\n        \"show\",\r\n        \"toggleClass\"\r\n    ], styler);\r\n\r\n    // properties\r\n\r\n    var properties = [ 'position', 'left', 'top', 'right', 'bottom', 'width', 'height', 'border', 'borderLeft',\r\n    'borderTop', 'borderRight', 'borderBottom', 'borderColor', 'display', 'overflow', 'margin', 'marginLeft', 'marginTop', 'marginRight', 'marginBottom', 'padding', 'paddingLeft', 'paddingTop', 'paddingRight', 'paddingBottom', 'color',\r\n    'background', 'backgroundColor', 'opacity', 'fontSize', 'fontWeight', 'textAlign', 'textDecoration', 'textTransform', 'cursor', 'zIndex' ];\r\n\r\n    properties.forEach( function ( property ) {\r\n\r\n        var method = property;\r\n\r\n        velm.VisualElement.prototype[method ] = function (value) {\r\n\r\n            this.css( property, value );\r\n\r\n            return this;\r\n\r\n        };\r\n\r\n    });\r\n\r\n\r\n    $.fn.style = $.wraps.wrapper_name_value(styler.css, styler);\r\n\r\n    $.fn.css = $.wraps.wrapper_name_value(styler.css, styler);\r\n\r\n    //hasClass(name)\r\n    $.fn.hasClass = $.wraps.wrapper_some_chk(styler.hasClass, styler);\r\n\r\n    //addClass(name)\r\n    $.fn.addClass = $.wraps.wrapper_every_act_firstArgFunc(styler.addClass, styler, styler.className);\r\n\r\n    //removeClass(name)\r\n    $.fn.removeClass = $.wraps.wrapper_every_act_firstArgFunc(styler.removeClass, styler, styler.className);\r\n\r\n    //toogleClass(name,when)\r\n    $.fn.toggleClass = $.wraps.wrapper_every_act_firstArgFunc(styler.toggleClass, styler, styler.className);\r\n\r\n    $.fn.replaceClass = function(newClass, oldClass) {\r\n        this.removeClass(oldClass);\r\n        this.addClass(newClass);\r\n        return this;\r\n    };\r\n\r\n    $.fn.replaceClass = function(newClass, oldClass) {\r\n        this.removeClass(oldClass);\r\n        this.addClass(newClass);\r\n        return this;\r\n    };\r\n        \r\n\treturn styler;\r\n});\ndefine('skylark-domx-styler', ['skylark-domx-styler/main'], function (main) { return main; });\n\n"]}