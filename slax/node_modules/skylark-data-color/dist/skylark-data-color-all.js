/**
 * skylark-data-color - The skylark color utility library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(factory,globals){var define=globals.define,require=globals.require,isAmd="function"==typeof define&&define.amd,isCmd=!isAmd&&"undefined"!=typeof exports;if(!isAmd&&!define){var map={};define=globals.define=function(t,e,r){"function"==typeof r?(map[t]={factory:r,deps:e.map(function(e){return function(t,e){if("."!==t[0])return t;var r=e.split("/"),n=t.split("/");r.pop();for(var i=0;i<n.length;i++)"."!=n[i]&&(".."==n[i]?r.pop():r.push(n[i]));return r.join("/")}(e,t)}),resolved:!1,exports:null},require(t)):map[t]={factory:null,resolved:!0,exports:r}},require=globals.require=function(t){if(!map.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var e=map[t];if(!e.resolved){var r=[];e.deps.forEach(function(t){r.push(require(t))}),e.exports=e.factory.apply(globals,r)||null,e.resolved=!0}return e.exports}}if(!define)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(define,require){define("skylark-langx/_attach",[],function(){return function(t,e,r){"string"==typeof e&&(e=e.split("."));for(var n=e.length,i=t,a=0,o=e[a++];a<n;)i=i[o]=i[o]||{},o=e[a++];return i[o]=r}}),define("skylark-langx/skylark",["./_attach"],function(t){var e={attach:function(r,n){return t(e,r,n)}};return e}),define("skylark-langx/types",[],function(){var t,e={}.toString,r=(t={},"Boolean Number String Function Array Date RegExp Object Error Symbol".split(" ").forEach(function(e){t["[object "+e+"]"]=e.toLowerCase()}),function(r){return null==r?String(r):t[e.call(r)]||"object"});function n(t){var e;for(e in t)if(null!==t[e])return!1;return!0}function i(t){return"function"==r(t)}function a(t){return t&&t.nodeType}function o(t){return"number"==typeof t}function s(t){return"object"==r(t)}function u(t){return"string"==typeof t}function c(t){return t&&t==t.window}return{isArray:function(t){return t&&t.constructor===Array},isArrayLike:function(t){return!u(t)&&!a(t)&&"number"==typeof t.length&&!i(t)},isBoolean:function(t){return"boolean"==typeof t},isDefined:function(t){return void 0!==t},isDocument:function(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE},isEmpty:n,isEmptyObject:n,isFunction:i,isHtmlNode:a,isNull:function(t){return"null"===r(t)},isNumber:o,isNumeric:o,isObject:s,isPlainObject:function(t){return s(t)&&!c(t)&&Object.getPrototypeOf(t)==Object.prototype},isString:u,isSameOrigin:function(t){if(t){var e=location.protocol+"//"+location.hostname;return location.port&&(e+=":"+location.port),t.startsWith(e)}},isSymbol:function(t){return"symbol"==typeof t||isObjectLike(t)&&objectToString.call(t)==symbolTag},isUndefined:function(t){return void 0===t},isWindow:c,type:r}}),define("skylark-langx/arrays",["./types"],function(t,e){var r=Array.prototype.filter,n=t.isArrayLike;function i(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function a(t){return t!=t}function o(t){if(n(t)){for(var e=[],r=0;r<t.length;r++){var i=t[r];if(n(i))for(var a=0;a<i.length;a++)e.push(i[a]);else e.push(i)}return e}return t}return{baseFindIndex:i,baseIndexOf:function(t,e,r){if(e!=e)return i(t,a,r);var n=r-1,o=t.length;for(;++n<o;)if(t[n]===e)return n;return-1},compact:function(t){return r.call(t,function(t){return null!=t})},first:function(t,e){return e?t.slice(0,e):t[0]},filter:function(t,e){return r.call(t,e)},flatten:o,inArray:function(t,e){if(!e)return-1;var r;if(e.indexOf)return e.indexOf(t);r=e.length;for(;r--;)if(e[r]===t)return r;return-1},makeArray:function(t,e,r){if(n(t))return(r||[]).concat(Array.prototype.slice.call(t,e||0));return[t]},merge:function(t,e){var r=e.length,n=t.length,i=0;if("number"==typeof r)for(;i<r;i++)t[n++]=e[i];else for(;void 0!==e[i];)t[n++]=e[i++];return t.length=n,t},forEach:function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r)},map:function(t,e){var r,i,a,s=[];if(n(t))for(i=0;i<t.length;i++)null!=(r=e.call(t[i],t[i],i))&&s.push(r);else for(a in t)null!=(r=e.call(t[a],t[a],a))&&s.push(r);return o(s)},reduce:function(t,e,r){return Array.prototype.reduce.call(t,e,r)},uniq:function(t){return r.call(t,function(e,r){return t.indexOf(e)==r})}}}),define("skylark-langx/numbers",["./types"],function(t){var e=t.isObject,r=t.isSymbol,n=1/0,i=1.7976931348623157e308,a=NaN,o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;function l(t){if(!t)return 0===t?t:0;if((t=h(t))===n||t===-n){var e=t<0?-1:1;return e*i}return t==t?t:0}function h(t){if("number"==typeof t)return t;if(r(t))return a;if(e(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=e(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var i=u.test(t);return i||c.test(t)?f(t.slice(2),i?2:8):s.test(t)?a:+t}return{toFinite:l,toNumber:h,toInteger:function(t){var e=l(t),r=e%1;return e==e?r?e-r:e:0}}}),define("skylark-langx/objects",["./_attach","./types","./numbers"],function(t,e,r){var n,i,a=Object.prototype.hasOwnProperty,o=Array.prototype.slice,s=e.isBoolean,u=e.isFunction,c=e.isObject,f=e.isPlainObject,l=e.isArray,h=e.isArrayLike,p=e.isString,d=r.toInteger;var g,v,y="undefined"!=typeof Symbol?Symbol.prototype:null;function b(t){if(!c(t))return[];var e=[];for(var r in t)e.push(r);return e}function m(t,e){if(!l(e))return null!=t&&a.call(t,e);for(var r=e.length,n=0;n<r;n++){var i=e[n];if(null==t||!a.call(t,i))return!1;t=t[i]}return!!r}function _(t,e,r,n){for(var i in e)n&&void 0!==t[i]||(r&&(f(e[i])||l(e[i]))?(f(e[i])&&!f(t[i])&&(t[i]={}),l(e[i])&&!l(t[i])&&(t[i]=[]),_(t[i],e[i],r,n)):void 0!==e[i]&&(t[i]=e[i]));return t}function x(t){var e=o.call(arguments,0),r=e.shift(),n=!1;return s(e[e.length-1])&&(n=e.pop()),{target:r,sources:e,deep:n}}function k(){var t=x.apply(this,arguments);return t.sources.forEach(function(e){_(t.target,e,t.deep,!1)}),t.target}function w(t){for(var e=b(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n}return n=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var a=typeof t;return("function"===a||"object"===a||"object"==typeof e)&&i(t,e,r,n)},i=function(t,e,r,i){var a=toString.call(t);if(a!==toString.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return y.valueOf.call(t)===y.valueOf.call(e)}var o="[object Array]"===a;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,c=e.constructor;if(s!==c&&!(u(s)&&s instanceof s&&u(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],i=i||[];for(var f=r.length;f--;)if(r[f]===t)return i[f]===e;if(r.push(t),i.push(e),o){if((f=t.length)!==e.length)return!1;for(;f--;)if(!n(t[f],e[f],r,i))return!1}else{var l,h=Object.keys(t);if(f=h.length,Object.keys(e).length!==f)return!1;for(;f--;)if(l=h[f],void 0===e[l]||!n(t[l],e[l],r,i))return!1}return r.pop(),i.pop(),!0},{allKeys:b,attach:t,clone:function t(e,r){var n;if(void 0===e||null===e)n=e;else if(r&&e.clone)n=e.clone();else if(l(e)){n=[];for(var i=0;i<e.length;i++)n.push(t(e[i]))}else if(f(e))for(var a in n={},e)n[a]=t(e[a]);else n=e;return n},defaults:(g=b,v=!0,function(t){var e=arguments.length;if(v&&(t=Object(t)),e<2||null==t)return t;for(var r=1;r<e;r++)for(var n=arguments[r],i=g(n),a=i.length,o=0;o<a;o++){var s=i[o];v&&void 0!==t[s]||(t[s]=n[s])}return t}),each:function(t,e){var r,n,i,a;if(t)if(void 0===(r=t.length)){for(n in t)if(t.hasOwnProperty(n)&&(a=t[n],!1===e.call(a,n,a)))break}else for(i=0;i<r&&(a=t[i],!1!==e.call(a,i,a));i++);return this},extend:function(t){var e,r=o.call(arguments,1);"boolean"==typeof t&&(e=t,t=r.shift());0==r.length&&(r=[t],t=this);return r.forEach(function(r){k(t,r,e)}),t},has:m,isEqual:function(t,e){return n(t,e)},includes:function(t,e,r,n){t=h(t)?t:w(t),r=r&&!n?d(r):0;var i=t.length;r<0&&(r=nativeMax(i+r,0));return p(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&baseIndexOf(t,e,r)>-1},isMatch:function(t,e){var r=r(e),n=r.length;if(null==t)return!n;for(var i=Object(t),a=0;a<n;a++){var o=r[a];if(e[o]!==i[o]||!(o in i))return!1}return!0},keys:function(t){if(c(t))return[];var e=[];for(var r in t)m(t,r)&&e.push(r);return e},mixin:k,omit:function(t,e,r){if(!t)return null;for(var n=k({},t),i=1;i<arguments.length;i++){var a=arguments[i];a in t&&delete n[a]}return n},pick:function(t,e,r){if(!t)return null;for(var n={},i=1;i<arguments.length;i++){var a=arguments[i];a in t&&(n[a]=t[a])}return n},removeItem:function(t,e){if(l(t)){var r=t.indexOf(e);-1!=r&&t.splice(r,1)}else if(f(t))for(var n in t)if(t[n]==e){delete t[n];break}return this},result:function(t,e,r){l(e)||(e=e.split("."));var n=e.length;if(!n)return u(r)?r.call(t):r;for(var i=0;i<n;i++){var a=null==t?void 0:t[e[i]];void 0===a&&(a=r,i=n),t=u(a)?a.call(t):a}return t},safeMixin:function(){var t=x.apply(this,arguments);return t.sources.forEach(function(e){_(t.target,e,t.deep,!0)}),t.target},values:w}}),define("skylark-langx/klass",["./arrays","./objects","./types"],function(t,e,r){var n=t.uniq,i=e.has,a=e.mixin,o=r.isArray,s=r.isDefined;var u=function(){function t(){return this._construct?this._construct.apply(this,arguments):this.init?this.init.apply(this,arguments):void 0}return function e(u,c,f,l){o(c)&&(l=f,f=c,c=null),c=c||Object,s(f)&&!o(f)&&(l=f,f=!1);var h=c;f&&(f=function(t,e){var r=[];return e.forEach(function(t){if(i(t,"__mixins__"))throw new Error("nested mixins");for(var e=[];t;)e.unshift(t),t=t.superclass;r=r.concat(e)}),(r=(r=n(r)).filter(function(e){for(var r=t;r;){if(e===r)return!1;if(i(r,"__mixins__"))for(var n=r.__mixins__,a=0;a<n.length;a++)if(n[a]===e)return!1;r=r.superclass}return!0})).length>0&&r}(h,f)),f&&(h=function(t,e){for(var r=t,n=0;n<e.length;n++){var i=new Function;i.prototype=Object.create(r.prototype),i.__proto__=r,i.superclass=null,a(i.prototype,e[n].prototype),i.prototype.__mixin__=e[n],r=i}return r}(h,f));var p=u.klassName||"",d=new Function("return function "+p+"() {var inst = this, ctor = arguments.callee;if (!(inst instanceof ctor)) {inst = Object.create(ctor.prototype);}return ctor._constructor.apply(inst, arguments) || inst;}")();return d.prototype=Object.create(h.prototype),d.prototype.constructor=d,d.superclass=c,d.__proto__=h,d._constructor||(d._constructor=t),f&&(d.__mixins__=f),d.partial||(d.partial=function(t,e){return function(t,e,n){var i=t.prototype,a=t.superclass.prototype,o=n&&n.noOverrided;n&&n.overrides;for(var s in e)if("constructor"!==s){var u=e[s];"function"==typeof e[s]?i[s]=u._constructor||o||"function"!=typeof a[s]?u:function(t,e,r){return function(){var t=this.overrided;this.overrided=r;var n=e.apply(this,arguments);return this.overrided=t,n}}(0,u,a[s]):r.isPlainObject(u)&&null!==u&&u.get?Object.defineProperty(i,s,u):i[s]=u}return t}(this,t,e)}),d.inherit||(d.inherit=function(t,r,n){return e(t,this,r,n)}),d.partial(u,l),d}}();return u}),define("skylark-langx/ArrayStore",["./klass"],function(t){var e=function(t){if(!t)return t;var r=!!t.then;function n(n){t[n]=function(){var i=arguments,a=Deferred.when(t,function(t){return e(Array.prototype[n].apply(t,i))});if("forEach"!==n||r)return a}}return r&&(t=Object.delegate(t)),n("forEach"),n("filter"),n("map"),null==t.total&&(t.total=Deferred.when(t,function(t){return t.length})),t},r=t({klassName:"ArrayStore",queryEngine:function(t,e){switch(typeof t){default:throw new Error("Can not query with a "+typeof t);case"object":case"undefined":var r=t;t=function(t){for(var e in r){var n=r[e];if(n&&n.test){if(!n.test(t[e],t))return!1}else if(n!=t[e])return!1}return!0};break;case"string":if(!this[t])throw new Error("No filter function "+t+" was found in store");t=this[t];case"function":}function n(r){var n=function(t,e,r){var n,i=0,a=t&&t.length||0,o=[];a&&"string"==typeof t&&(t=t.split(""));"string"==typeof e&&(e=cache[e]||buildFn(e));if(r)for(;i<a;++i)n=t[i],e.call(r,n,i,t)&&o.push(n);else for(;i<a;++i)n=t[i],e(n,i,t)&&o.push(n);return o}(r,t),i=e&&e.sort;if(i&&n.sort("function"==typeof i?i:function(t,e){for(var r,n=0;r=i[n];n++){var a=t[r.attribute],o=e[r.attribute];if(a=null!=a?a.valueOf():a,o=null!=o?o.valueOf():o,a!=o)return!!r.descending==(null==a||a>o)?-1:1}return 0}),e&&(e.start||e.count)){var a=n.length;(n=n.slice(e.start||0,(e.start||0)+(e.count||1/0))).total=a}return n}return n.matches=t,n},idProperty:"id",get:function(t){return this.data[this.index[t]]},getIdentity:function(t){return t[this.idProperty]},put:function(t,e){var r=this.data,n=this.index,i=this.idProperty,a=t[i]=e&&"id"in e?e.id:i in t?t[i]:Math.random();if(a in n){if(e&&!1===e.overwrite)throw new Error("Object already exists");r[n[a]]=t}else n[a]=r.push(t)-1;return a},add:function(t,e){return(e=e||{}).overwrite=!1,this.put(t,e)},remove:function(t){var e=this.index,r=this.data;if(t in e)return r.splice(e[t],1),this.setData(r),!0},query:function(t,r){return e(this.queryEngine(t,r)(this.data))},setData:function(t){t.items?(this.idProperty=t.identifier||this.idProperty,t=this.data=t.items):this.data=t,this.index={};for(var e=0,r=t.length;e<r;e++)this.index[t[e][this.idProperty]]=e},init:function(t){for(var e in t)this[e]=t[e];this.setData(this.data||[])}});return r}),define("skylark-langx/aspect",[],function(){var t,e=0;function r(r){return function(n,i,a,o){var s,u=n[i];u&&u.target==n||(n[i]=s=function(){for(var r=e,n=arguments,i=s.before;i;)n=i.advice.apply(this,n)||n,i=i.next;if(s.around)var a=s.around.advice(this,n);for(var o=s.after;o&&o.id<r;){if(o.receiveArguments){var u=o.advice.apply(this,n);a=u===t?a:u}else a=o.advice.call(this,a,n);o=o.next}return a},u&&(s.around={advice:function(t,e){return u.apply(t,e)}}),s.target=n);var c=function(t,r,n,i){var a,o=t[r],s="around"==r;if(s){var u=n(function(){return o.advice(this,arguments)});a={remove:function(){u&&(u=t=n=null)},advice:function(t,e){return u?u.apply(t,e):o.advice(t,e)}}}else a={remove:function(){if(a.advice){var e=a.previous,i=a.next;i||e?(e?e.next=i:t[r]=i,i&&(i.previous=e)):delete t[r],t=n=a.advice=null}},id:e++,advice:n,receiveArguments:i};if(o&&!s)if("after"==r){for(;o.next&&(o=o.next););o.next=a,a.previous=o}else"before"==r&&(t[r]=a,a.next=o,o.previous=a);else t[r]=a;return a}(s||u,r,a,o);return a=null,c}}return{after:r("after"),around:r("around"),before:r("before")}}),define("skylark-langx/funcs",["./objects","./types"],function(t,e){var r=t.mixin,n=Array.prototype.slice,i=e.isFunction,a=e.isString;var o=function(){function t(){}return function(e,n){t.prototype=e;var i=new t;return t.prototype=null,n&&r(i,n),i}}(),s={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};return{debounce:function(t,e){var r;return function(){var n=this,i=arguments;r&&clearTimeout(r),r=setTimeout(function(){r=null,t.apply(n,i)},e)}},delegate:o,defer:function(t){requestAnimationFrame?requestAnimationFrame(t):setTimeoutout(t);return this},noop:function(){},proxy:function t(e,r){var o=2 in arguments&&n.call(arguments,2);if(i(e)){return function(){return e.apply(r,o?o.concat(n.call(arguments)):arguments)}}if(a(r))return o?(o.unshift(e[r],e),t.apply(null,o)):t(e[r],e);throw new TypeError("expected function")},returnTrue:function(){return!0},returnFalse:function(){return!1},templateSettings:s,template:function(e,r,n){!r&&n&&(r=n);r=t.defaults({},r,s);var i,a=RegExp([(r.escape||noMatch).source,(r.interpolate||noMatch).source,(r.evaluate||noMatch).source].join("|")+"|$","g"),o=0,u="__p+='";e.replace(a,function(t,r,n,i,a){return u+=e.slice(o,a).replace(escapeRegExp,escapeChar),o=a+t.length,r?u+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?u+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(u+="';\n"+i+"\n__p+='"),t}),u+="';\n",r.variable||(u="with(obj||{}){\n"+u+"}\n");u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{i=new Function(r.variable||"obj","_",u)}catch(t){throw t.source=u,t}var c=function(t){return i.call(this,t,_)},f=r.variable||"obj";return c.source="function("+f+"){\n"+u+"}",c}}}),define("skylark-langx/Deferred",["./arrays","./funcs","./objects"],function(t,e,r){"use strict";var n=Symbol?Symbol():"__pglisteners",i=Symbol?Symbol():"__pgnotifies",a=Array.prototype.slice,o=e.proxy,s=t.makeArray,u=r.result,c=r.mixin;c(Promise.prototype,{always:function(t){return this.then(t,t),this},done:function(){for(var t=0;t<arguments.length;t++)this.then(arguments[t]);return this},fail:function(t){return this.catch(t),this}});var f=function(){var t=this,e=this.promise=new Promise(function(e,r){t._resolve=e,t._reject=r});l(e,t),this[n]=[],this[i]=[]};function l(t,e){var r={state:function(){return e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},then:function(t,e,r){return r&&this.progress(r),l(Promise.prototype.then.call(this,t&&function(e){return e&&void 0!==e.__ctx__?t.apply(e.__ctx__,e):t(e)},e&&function(t){return t&&void 0!==t.__ctx__?e.apply(t.__ctx__,t):e(t)}))},progress:function(t){return e[i].forEach(function(e){t(e)}),e[n].push(t),this}};return r.pipe=r.then,c(t,r)}return f.prototype.resolve=function(t){var e=a.call(arguments);return this.resolveWith(null,e)},f.prototype.resolveWith=function(t,e){return(e=e?s(e):[]).__ctx__=t,this._resolve(e),this._resolved=!0,this},f.prototype.notify=function(t){try{return this[i].push(t),this[n].forEach(function(e){return e(t)})}catch(t){this.reject(t)}return this},f.prototype.reject=function(t){var e=a.call(arguments);return this.rejectWith(null,e)},f.prototype.rejectWith=function(t,e){return(e=e?s(e):[]).__ctx__=t,this._reject(e),this._rejected=!0,this},f.prototype.isResolved=function(){return!!this._resolved},f.prototype.isRejected=function(){return!!this._rejected},f.prototype.then=function(t,e,r){var n=u(this,"promise");return n.then(t,e,r)},f.prototype.progress=function(t){var e=u(this,"promise");return e.progress(t)},f.prototype.catch=function(t){var e=u(this,"promise");return e.catch(t)},f.prototype.done=function(){var t=u(this,"promise");return t.done.apply(t,arguments)},f.prototype.fail=function(t){var e=u(this,"promise");return e.fail(t)},f.all=function(t){var e=new f;return Promise.all(t).then(e.resolve.bind(e),e.reject.bind(e)),u(e,"promise")},f.first=function(t){return l(Promise.race(t))},f.when=function(t,e,r,n){var i=t&&"function"==typeof t.then,a=i&&t instanceof Promise;if(!i)return arguments.length>1?e?e(t):t:(new f).resolve(t);if(!a){var s=new f(t.cancel);t.then(o(s.resolve,s),o(s.reject,s),s.notify),t=s.promise}return e||r||n?t.then(e,r,n):t},f.reject=function(t){var e=new f;return e.reject(t),e.promise},f.immediate=f.resolve=function(t){var e=new f;return e.resolve.apply(e,arguments),e.promise},f}),define("skylark-langx/async",["./Deferred","./objects"],function(t,e){var r=e.each,n={parallel:function(e,n,i){var a=[];return i=i||null,n=n||[],r(e,function(t,e){a.push(e.apply(i,n))}),t.all(a)},series:function(e,n,i){var a=[],o=new t,s=o.promise;return i=i||null,n=n||[],o.resolve(),r(e,function(t,e){s=s.then(function(){return e.apply(i,n)}),a.push(s)}),t.all(a)},waterful:function(e,n,i){var a=new t,o=a.promise;return i=i||null,n=n||[],a.resolveWith(i,n),r(e,function(t,e){o=o.then(e)}),o}};return n}),define("skylark-langx/datetimes",[],function(){return{parseMilliSeconds:function(t){var e=t.split(" "),r=parseInt(e[0]);if(isNaN(r))return 0;switch(e[1].trim().replace(/\./g,"")){case"minutes":case"minute":case"min":case"mm":case"m":return 6e4*r;case"hours":case"hour":case"HH":case"hh":case"h":case"H":return 36e5*r;case"seconds":case"second":case"sec":case"ss":case"s":return 1e3*r;case"days":case"day":case"DD":case"dd":case"d":return 864e5*r;case"months":case"month":case"MM":case"M":return 24192e5*r;case"weeks":case"week":case"W":case"w":return 6048e5*r;case"years":case"year":case"yyyy":case"yy":case"y":return 31536e6*r;default:return 0}}}}),define("skylark-langx/Evented",["./klass","./arrays","./objects","./types"],function(t,e,r,n){var i=Array.prototype.slice,a=e.compact,o=n.isDefined,s=n.isPlainObject,u=n.isFunction,c=n.isString,f=n.isEmptyObject,l=r.mixin;function h(t){var e=(""+t).split(".");return{name:e[0],ns:e.slice(1).join(" ")}}var p=t({on:function(t,e,r,n,i,a){var o=this,f=this._hub||(this._hub={});return s(t)?(i=n,each(t,function(t,n){o.on(t,e,r,n,i,a)}),this):(c(e)||u(n)||(i=n,n=r,r=e,e=void 0),u(r)&&(i=n,n=r,r=null),c(t)&&(t=t.split(/\s/)),t.forEach(function(t){var o=h(t),s=o.name,u=o.ns;(f[s]||(f[s]=[])).push({fn:n,selector:e,data:r,ctx:i,ns:u,one:a})}),this)},one:function(t,e,r,n,i){return this.on(t,e,r,n,i,1)},trigger:function(t){if(!this._hub)return this;var e=this;c(t)&&(t=new CustomEvent(t)),Object.defineProperty(t,"target",{value:this});var r=i.call(arguments,1);return r=o(r)?[t].concat(r):[t],[t.type||t.name,"all"].forEach(function(n){var i=h(n),o=i.name,s=i.ns,u=e._hub[o];if(u){for(var c=u.length,f=!1,p=0;p<c;p++){var d=u[p];(!s||d.ns&&d.ns.startsWith(s))&&(t.data?d.data&&(t.data=l({},d.data,t.data)):t.data=d.data||null,d.fn.apply(d.ctx,r),d.one&&(u[p]=null,f=!0))}f&&(e._hub[n]=a(u))}}),this},listened:function(t){var e=(this._hub||(this._events={}))[t]||[];return e.length>0},listenTo:function(t,e,r,n){if(!t)return this;c(r)&&(r=this[r]),n?t.one(e,r,this):t.on(e,r,this);for(var i,a=this._listeningTo||(this._listeningTo=[]),o=0;o<a.length;o++)if(a[o].obj==t){i=a[o];break}i||a.push(i={obj:t,events:{}});var s=i.events,u=s[e]=s[e]||[];return-1==u.indexOf(r)&&u.push(r),this},listenToOnce:function(t,e,r){return this.listenTo(t,e,r,1)},off:function(t,e){var r=this._hub||(this._hub={});return c(t)&&(t=t.split(/\s/)),t.forEach(function(t){var n=h(t),i=n.name,a=n.ns,o=r[i];if(o){var s=[];if(e||a)for(var u=0,c=o.length;u<c;u++)e&&o[u].fn!==e&&o[u].fn._!==e?s.push(o[u]):!a||o[u].ns&&0==o[u].ns.indexOf(a)||s.push(o[u]);s.length?r[i]=s:delete r[i]}}),this},unlistenTo:function(t,e,r){var n=this._listeningTo;if(!n)return this;for(var i=0;i<n.length;i++){var o=n[i];if(!t||t==o.obj){var s=o.events;for(var u in s)if(!e||e==u){for(var c=s[u],l=0;l<c.length;l++)r&&r!=c[i]||(o.obj.off(u,c[i],this),c[i]=null);c=s[u]=a(c),f(c)&&(s[u]=null)}f(s)&&(n[i]=null)}}return n=this._listeningTo=a(n),f(n)&&(this._listeningTo=null),this}});return p}),define("skylark-langx/hoster",[],function(){var t={isBrowser:!0,isNode:null,global:this,browser:null,node:null};"object"==typeof process&&process.versions&&process.versions.node&&process.versions.v8&&(t.isNode=!0,t.isBrowser=!1),t.global=function(){return"undefined"!=typeof global&&"function"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this}();var e=null;if(Object.defineProperty(t,"document",function(){if(!e){var t="undefined"==typeof window?require("html-element"):window;e=t.document}return e}),t.isBrowser){var r=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}}(navigator.userAgent),n=t.browser={};r.browser&&(n[r.browser]=!0,n.version=r.version),n.chrome?n.webkit=!0:n.webkit&&(n.safari=!0)}return t}),define("skylark-langx/strings",[],function(){var t=0;return{camelCase:function(t){return t.replace(/-([\da-z])/g,function(t){return t.toUpperCase().replace("-","")})},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},deserializeValue:function(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?JSON.parse(t):t):t}catch(e){return t}},lowerFirst:function(t){return t.charAt(0).toLowerCase()+t.slice(1)},serializeValue:function(t){return JSON.stringify(t)},substitute:function(t,e,r,n){function i(t,e){if(t.match(/\./)){var r,n=function(t,e){var i=t.pop();return i?e[i]?n(t,r=e[i]):null:r};return n(t.split(".").reverse(),e)}return e[t]}return n=n||window,r=r?proxy(n,r):function(t){return t},t.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(t,a,o){var s=i(a,e);return o&&(s=i(o,n).call(n,s,a)),r(s,a).toString()})},trim:function(t){return null==t?"":String.prototype.trim.call(t)},uniqueId:function(e){var r=++t+"";return e?e+r:r},upperFirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}}),define("skylark-langx/Xhr",["./arrays","./Deferred","./Evented","./objects","./funcs","./types"],function(arrays,Deferred,Evented,objects,funcs,types){var each=objects.each,mixin=objects.mixin,noop=funcs.noop,isArray=types.isArray,isFunction=types.isFunction,isPlainObject=types.isPlainObject,type=types.type,getAbsoluteUrl=function(t){return a||(a=document.createElement("a")),a.href=t,a.href},a,Xhr=function(){var jsonpID=0,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/,XhrDefaultOptions={async:!0,type:"GET",beforeSend:noop,success:noop,error:noop,complete:noop,context:null,global:!0,accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,xhrFields:{withCredentials:!0}};function mimeToDataType(t){if(t&&(t=t.split(";",2)[0]),t){if(t==htmlType)return"html";if(t==jsonType)return"json";if(scriptTypeRE.test(t))return"script";if(xmlTypeRE.test(t))return"xml"}return"text"}function appendQuery(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function serializeData(t){t.data=t.data||t.query,t.processData&&t.data&&"string"!=type(t.data)&&(t.data=param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=appendQuery(t.url,t.data),t.data=void 0)}function serialize(t,e,r,n){var i,a=isArray(e),o=isPlainObject(e);each(e,function(e,s){i=type(s),n&&(e=r?n:n+"["+(o||"object"==i||"array"==i?e:"")+"]"),!n&&a?t.add(s.name,s.value):"array"==i||!r&&"object"==i?serialize(t,s,r,e):t.add(e,s)})}var param=function(t,e){var r=[];return r.add=function(t,e){isFunction(e)&&(e=e()),null==e&&(e=""),this.push(escape(t)+"="+escape(e))},serialize(r,t,e),r.join("&").replace(/%20/g,"+")},Xhr=Evented.inherit({klassName:"Xhr",_request:function(args){var _=this._,self=this,options=mixin({},XhrDefaultOptions,_.options,args),xhr=_.xhr=new XMLHttpRequest;serializeData(options);var dataType=options.dataType||options.handleAs,mime=options.mimeType||options.accepts[dataType],headers=options.headers,xhrFields=options.xhrFields,isFormData=options.data&&options.data instanceof FormData,basicAuthorizationToken=options.basicAuthorizationToken,type=options.type,url=options.url,async=options.async,user=options.user,password=options.password,deferred=new Deferred,contentType=!isFormData&&"application/x-www-form-urlencoded";if(xhrFields)for(name in xhrFields)xhr[name]=xhrFields[name];mime&&mime.indexOf(",")>-1&&(mime=mime.split(",",2)[0]),mime&&xhr.overrideMimeType&&xhr.overrideMimeType(mime);var finish=function(){xhr.onloadend=noop,xhr.onabort=noop,xhr.onprogress=noop,xhr.ontimeout=noop,xhr=null},onloadend=function(){var result,error=!1;if(xhr.status>=200&&xhr.status<300||304==xhr.status||0==xhr.status&&getAbsoluteUrl(url).startsWith("file:")){dataType=dataType||mimeToDataType(options.mimeType||xhr.getResponseHeader("content-type")),result=xhr.responseText;try{"script"==dataType?eval(result):"xml"==dataType?result=xhr.responseXML:"json"==dataType?result=blankRE.test(result)?null:JSON.parse(result):"blob"==dataType?result=Blob([xhrObj.response]):"arraybuffer"==dataType&&(result=xhr.reponse)}catch(t){error=t}error?deferred.reject(error,xhr.status,xhr):deferred.resolve(result,xhr.status,xhr)}else deferred.reject(new Error(xhr.statusText),xhr.status,xhr);finish()},onabort=function(){deferred&&deferred.reject(new Error("abort"),xhr.status,xhr),finish()},ontimeout=function(){deferred&&deferred.reject(new Error("timeout"),xhr.status,xhr),finish()},onprogress=function(t){deferred&&deferred.notify(t,xhr.status,xhr)};if(xhr.onloadend=onloadend,xhr.onabort=onabort,xhr.ontimeout=ontimeout,xhr.onprogress=onprogress,xhr.open(type,url,async,user,password),headers)for(var key in headers){var value=headers[key];"content-type"===key.toLowerCase()?contentType=headers[hdr]:xhr.setRequestHeader(key,value)}return contentType&&!1!==contentType&&xhr.setRequestHeader("Content-Type",contentType),headers&&"X-Requested-With"in headers||xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),basicAuthorizationToken&&xhr.setRequestHeader("Authorization",basicAuthorizationToken),xhr.send(options.data?options.data:null),deferred.promise},abort:function(){var t=this._,e=t.xhr;e&&e.abort()},request:function(t){return this._request(t)},get:function(t){return(t=t||{}).type="GET",this._request(t)},post:function(t){return(t=t||{}).type="POST",this._request(t)},patch:function(t){return(t=t||{}).type="PATCH",this._request(t)},put:function(t){return(t=t||{}).type="PUT",this._request(t)},del:function(t){return(t=t||{}).type="DELETE",this._request(t)},init:function(t){this._={options:t||{}}}});return["request","get","post","put","del","patch"].forEach(function(t){Xhr[t]=function(e,r){var n=new Xhr({url:e});return n[t](r)}}),Xhr.defaultOptions=XhrDefaultOptions,Xhr.param=param,Xhr}();return Xhr}),define("skylark-langx/Restful",["./Evented","./objects","./strings","./Xhr"],function(t,e,r,n){var i=e.mixin,a=r.substitute,o=t.inherit({klassName:"Restful",idAttribute:"id",getBaseUrl:function(t){var e=a(this.baseEndpoint,t),r=this.server+this.basePath+e;return void 0!==t[this.idAttribute]&&(r=r+"/"+t[this.idAttribute]),r},_head:function(t){},_get:function(t){return n.get(this.getBaseUrl(t),t)},_post:function(t,e){var r=this.getBaseUrl(t);return e&&(r=r+"/"+e),n.post(r,t)},_put:function(t,e){var r=this.getBaseUrl(t);return e&&(r=r+"/"+e),n.put(r,t)},_delete:function(t){var e=this.getBaseUrl(t);return n.del(e)},_patch:function(t){var e=this.getBaseUrl(t);return n.patch(e,t)},query:function(t){return this._post(t)},retrieve:function(t){return this._get(t)},create:function(t){return this._post(t)},update:function(t){return this._put(t)},delete:function(t){return this._delete(t)},patch:function(t){return this._patch(t)},init:function(t){i(this,t)}});return o}),define("skylark-langx/Stateful",["./Evented","./strings","./objects"],function(t,e,r){var n=r.isEqual,i=r.mixin,a=r.result,o=r.isEmptyObject,s=r.clone,u=e.uniqueId,c=t.inherit({_construct:function(t,e){var r=t||{};e||(e={}),this.cid=u(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var n=a(this,"defaults");r=i({},n,r),this.set(r,e),this.changed={}},changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",toJSON:function(t){return s(this.attributes)},get:function(t){return this.attributes[t]},has:function(t){return null!=this.get(t)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var a=r.unset,o=r.silent,u=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=s(this.attributes),this.changed={});var f=this.attributes,l=this.changed,h=this._previousAttributes;for(var p in i)e=i[p],n(f[p],e)||u.push(p),n(h[p],e)?delete l[p]:l[p]=e,a?delete f[p]:f[p]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!o){u.length&&(this._pending=r);for(var d=0;d<u.length;d++)this.trigger("change:"+u[d],this,f[u[d]],r)}if(c)return this;if(!o)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,i({},t,{unset:!0}))},hasChanged:function(t){return null==t?!o(this.changed):void 0!==this.changed[t]},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&s(this.changed);var e=this._changing?this._previousAttributes:this.attributes,r={};for(var i in t){var a=t[i];n(e[i],a)||(r[i]=a)}return!o(r)&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return s(this._previousAttributes)},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,i(e,{validationError:r})),!1)}});return c}),define("skylark-langx/topic",["./Evented"],function(t){var e=new t;return{publish:function(t,r,n){var i=[].slice.call(arguments,1);return e.trigger({type:t,data:i})},subscribe:function(t,r,n){var i=function(t){r.apply(n,t.data)};return e.on(t,i),{remove:function(){e.off(t,i)}}}}}),define("skylark-langx/langx",["./skylark","./arrays","./ArrayStore","./aspect","./async","./datetimes","./Deferred","./Evented","./funcs","./hoster","./klass","./numbers","./objects","./Restful","./Stateful","./strings","./topic","./types","./Xhr"],function(t,e,r,n,i,a,o,s,u,c,f,l,h,p,d,g,v,y,b){"use strict";Array.prototype.concat,Array.prototype.indexOf,Array.prototype.slice,Array.prototype.filter;var m=h.mixin,_=h.safeMixin,x=y.isFunction;var k=1;function w(){return w}return m(w,{createEvent:function(t,e){var r=new CustomEvent(t,e);return _(r,e)},funcArg:function(t,e,r,n){return x(e)?e.call(t,r,n):e},getQueryParams:function(t){var e=(t=t||window.location.href).split("?"),r={};e.length>1&&e[1].split("&").forEach(function(t){var e=t.split("=");r[e[0]]=e[1]});return r},toPixel:function(t){return parseFloat(t)||0},uid:function(t){return t._uid||(t._uid=k++)},URL:"undefined"!=typeof window?window.URL||window.webkitURL:null}),m(w,e,n,a,u,l,h,g,y,{ArrayStore:r,async:i,Deferred:o,Evented:s,hoster:c,klass:f,Restful:p,Stateful:d,topic:v,Xhr:b}),t.langx=w}),define("skylark-data-color/colors",["skylark-langx/skylark","skylark-langx/langx"],function(t,e){var r=t.colors=t.colors||{},n=/^[\s,#]+/,i=/\s+$/,a=Math,o=a.round,s=a.min,u=a.max,c=(a.random,r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"});r.hexNames=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}(c);function f(t,e,r){return{r:255*p(t,255),g:255*p(e,255),b:255*p(r,255)}}function l(t,e,r){var n,i,a;function o(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}if(t=p(t,360),e=p(e,100),r=p(r,100),0===e)n=i=a=r;else{var s=r<.5?r*(1+e):r+e-r*e,u=2*r-s;n=o(u,s,t+1/3),i=o(u,s,t),a=o(u,s,t-1/3)}return{r:255*n,g:255*i,b:255*a}}function h(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function p(t,e){g(t)&&(t="100%");var r=v(t);return t=s(e,u(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),a.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function d(t){return parseInt(t,16)}function g(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function v(t){return"string"==typeof t&&-1!=t.indexOf("%")}function y(t){return 1==t.length?"0"+t:""+t}function b(t){return t<=1&&(t=100*t+"%"),t}function m(t){return d(t)/255}var _,x,k,w=(x="[\\s|\\(]+("+(_="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+_+")[,|\\s]+("+_+")\\s*\\)?",k="[\\s|\\(]+("+_+")[,|\\s]+("+_+")[,|\\s]+("+_+")[,|\\s]+("+_+")\\s*\\)?",{rgb:new RegExp("rgb"+x),rgba:new RegExp("rgba"+k),hsl:new RegExp("hsl"+x),hsla:new RegExp("hsla"+k),hsv:new RegExp("hsv"+x),hsva:new RegExp("hsva"+k),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function j(t){t=t.replace(n,"").replace(i,"").toLowerCase();var e,r=!1;if(c[t])t=c[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=w.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=w.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=w.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=w.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=w.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=w.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=w.hex8.exec(t))?{a:m(e[1]),r:d(e[2]),g:d(e[3]),b:d(e[4]),format:r?"name":"hex8"}:(e=w.hex6.exec(t))?{r:d(e[1]),g:d(e[2]),b:d(e[3]),format:r?"name":"hex"}:!!(e=w.hex3.exec(t))&&{r:d(e[1]+""+e[1]),g:d(e[2]+""+e[2]),b:d(e[3]+""+e[3]),format:r?"name":"hex"}}return e.mixin(r,{inputToRGB:function(t){var e={r:0,g:0,b:0},r=1,n=!1,i=!1;"string"==typeof t&&(t=j(t));"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=f(t.r,t.g,t.b),n=!0,i="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=b(t.s),t.v=b(t.v),e=function(t,e,r){t=6*p(t,360),e=p(e,100),r=p(r,100);var n=a.floor(t),i=t-n,o=r*(1-e),s=r*(1-i*e),u=r*(1-(1-i)*e),c=n%6;return{r:255*[r,s,o,o,u,r][c],g:255*[u,r,r,s,o,o][c],b:255*[o,o,u,r,r,s][c]}}(t.h,t.s,t.v),n=!0,i="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=b(t.s),t.l=b(t.l),e=l(t.h,t.s,t.l),n=!0,i="hsl"),t.hasOwnProperty("a")&&(r=t.a));return r=h(r),{ok:n,format:t.format||i,r:s(255,u(e.r,0)),g:s(255,u(e.g,0)),b:s(255,u(e.b,0)),a:r}},rgbToRgb:f,rgbToHsl:function(t,e,r){t=p(t,255),e=p(e,255),r=p(r,255);var n,i,a=u(t,e,r),o=s(t,e,r),c=(a+o)/2;if(a==o)n=i=0;else{var f=a-o;switch(i=c>.5?f/(2-a-o):f/(a+o),a){case t:n=(e-r)/f+(e<r?6:0);break;case e:n=(r-t)/f+2;break;case r:n=(t-e)/f+4}n/=6}return{h:n,s:i,l:c}},hslToRgb:l,rgbToHsv:function(t,e,r){t=p(t,255),e=p(e,255),r=p(r,255);var n,i,a=u(t,e,r),o=s(t,e,r),c=a,f=a-o;if(i=0===a?0:f/a,a==o)n=0;else{switch(a){case t:n=(e-r)/f+(e<r?6:0);break;case e:n=(r-t)/f+2;break;case r:n=(t-e)/f+4}n/=6}return{h:n,s:i,v:c}},rgbToHex:function(t,e,r,n){var i=[y(o(t).toString(16)),y(o(e).toString(16)),y(o(r).toString(16))];if(n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0);return i.join("")},rgbaToHex:function(t,e,r,n){return[y((i=n,Math.round(255*parseFloat(i)).toString(16))),y(o(t).toString(16)),y(o(e).toString(16)),y(o(r).toString(16))].join("");var i},boundAlpha:h,bound01:p,clamp01:function(t){return s(1,u(0,t))},parseIntFromHex:d,isOnePointZero:g,isPercentage:v,pad2:y,convertToPercentage:b,convertHexToDecimal:m,stringInputToObject:j}),t.attach("data.colors",r)}),define("skylark-data-color/Color",["skylark-langx/langx","./colors"],function(t,e){var r=e.inputToRGB,n=(e.rgbToRgb,e.rgbToHsl),i=(e.hslToRgb,e.rgbToHsv),a=e.rgbToHex,o=e.rgbaToHex,s=e.boundAlpha,u=e.bound01,c=e.clamp01,f=(e.parseIntFromHex,e.isOnePointZero,e.isPercentage,e.pad2,e.convertToPercentage),l=(e.convertHexToDecimal,e.stringInputToObject,e.hexNames),h=0,p=Math,d=p.round,g=p.min,v=p.max,y=p.random,b=e.Color=t.klass({init:function(t,e){if(t=t||"",e=e||{},t instanceof b)return t;var n=r(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=d(1e3*this._a)/1e3,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=d(this._r)),this._g<1&&(this._g=d(this._g)),this._b<1&&(this._b=d(this._b)),this._ok=n.ok,this._tc_id=h++},isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=s(t),this._roundA=d(1e3*this._a)/1e3,this},toHsv:function(){var t=i(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=i(this._r,this._g,this._b),e=d(360*t.h),r=d(100*t.s),n=d(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+n+"%)":"hsva("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=n(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=n(this._r,this._g,this._b),e=d(360*t.h),r=d(100*t.s),i=d(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+i+"%)":"hsla("+e+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return a(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return o(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:d(this._r),g:d(this._g),b:d(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+d(this._r)+", "+d(this._g)+", "+d(this._b)+")":"rgba("+d(this._r)+", "+d(this._g)+", "+d(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:d(100*u(this._r,255))+"%",g:d(100*u(this._g,255))+"%",b:d(100*u(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+d(100*u(this._r,255))+"%, "+d(100*u(this._g,255))+"%, "+d(100*u(this._b,255))+"%)":"rgba("+d(100*u(this._r,255))+"%, "+d(100*u(this._g,255))+"%, "+d(100*u(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(l[a(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+o(this._r,this._g,this._b,this._a),r=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var i=b(t);r=i.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,n=this._a<1&&this._a>=0,i=!e&&n&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return i?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(k,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(j,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(_,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(A,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(R,arguments)},complement:function(){return this._applyCombination(T,arguments)},monochromatic:function(){return this._applyCombination(P,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(O,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}});function m(t,e){e=0===e?0:e||10;var r=b(t).toHsl();return r.s-=e/100,r.s=c(r.s),b(r)}function _(t,e){e=0===e?0:e||10;var r=b(t).toHsl();return r.s+=e/100,r.s=c(r.s),b(r)}function x(t){return b(t).desaturate(100)}function k(t,e){e=0===e?0:e||10;var r=b(t).toHsl();return r.l+=e/100,r.l=c(r.l),b(r)}function w(t,e){e=0===e?0:e||10;var r=b(t).toRgb();return r.r=v(0,g(255,r.r-d(-e/100*255))),r.g=v(0,g(255,r.g-d(-e/100*255))),r.b=v(0,g(255,r.b-d(-e/100*255))),b(r)}function j(t,e){e=0===e?0:e||10;var r=b(t).toHsl();return r.l-=e/100,r.l=c(r.l),b(r)}function A(t,e){var r=b(t).toHsl(),n=(d(r.h)+e)%360;return r.h=n<0?360+n:n,b(r)}function T(t){var e=b(t).toHsl();return e.h=(e.h+180)%360,b(e)}function O(t){var e=b(t).toHsl(),r=e.h;return[b(t),b({h:(r+120)%360,s:e.s,l:e.l}),b({h:(r+240)%360,s:e.s,l:e.l})]}function E(t){var e=b(t).toHsl(),r=e.h;return[b(t),b({h:(r+90)%360,s:e.s,l:e.l}),b({h:(r+180)%360,s:e.s,l:e.l}),b({h:(r+270)%360,s:e.s,l:e.l})]}function S(t){var e=b(t).toHsl(),r=e.h;return[b(t),b({h:(r+72)%360,s:e.s,l:e.l}),b({h:(r+216)%360,s:e.s,l:e.l})]}function R(t,e,r){e=e||6,r=r||30;var n=b(t).toHsl(),i=360/r,a=[b(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,a.push(b(n));return a}function P(t,e){e=e||6;for(var r=b(t).toHsv(),n=r.h,i=r.s,a=r.v,o=[],s=1/e;e--;)o.push(b({h:n,s:i,v:a})),a=(a+s)%1;return o}return b.fromRatio=function(t,e){if("object"==typeof t){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]="a"===n?t[n]:f(t[n]));t=r}return b(t,e)},b.equals=function(t,e){return!(!t||!e)&&b(t).toRgbString()==b(e).toRgbString()},b.random=function(){return b.fromRatio({r:y(),g:y(),b:y()})},b.mix=function(t,e,r){r=0===r?0:r||50;var n,i=b(t).toRgb(),a=b(e).toRgb(),o=r/100,s=2*o-1,u=a.a-i.a,c=1-(n=((n=s*u==-1?s:(s+u)/(1+s*u))+1)/2),f={r:a.r*n+i.r*c,g:a.g*n+i.g*c,b:a.b*n+i.b*c,a:a.a*o+i.a*(1-o)};return b(f)},b.readability=function(t,e){var r=b(t),n=b(e),i=r.toRgb(),a=n.toRgb(),o=r.getBrightness(),s=n.getBrightness(),u=Math.max(i.r,a.r)-Math.min(i.r,a.r)+Math.max(i.g,a.g)-Math.min(i.g,a.g)+Math.max(i.b,a.b)-Math.min(i.b,a.b);return{brightness:Math.abs(o-s),color:u}},b.isReadable=function(t,e){var r=b.readability(t,e);return r.brightness>125&&r.color>500},b.mostReadable=function(t,e){for(var r=null,n=0,i=!1,a=0;a<e.length;a++){var o=b.readability(t,e[a]),s=o.brightness>125&&o.color>500,u=o.brightness/125*3+o.color/500;(s&&!i||s&&i&&u>n||!s&&!i&&u>n)&&(i=s,n=u,r=b(e[a]))}return r},b}),define("skylark-data-color/hexNames",["skylark-langx/langx","./colors"],function(t,e){return e.hexNames}),define("skylark-data-color/names",["skylark-langx/langx","./colors"],function(t,e){return e.names}),define("skylark-data-color/main",["./colors","./Color","./hexNames","./names"],function(t){return t}),define("skylark-data-color",["skylark-data-color/main"],function(t){return t})}(define,require),!isAmd){var skylarkjs=require("skylark-langx/skylark");isCmd?module.exports=skylarkjs:globals.skylarkjs=skylarkjs}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-data-color-all.js.map
