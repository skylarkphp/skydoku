{"version":3,"sources":["widgets/slider.js"],"names":["define","$","widget","ui","mouse","version","widgetEventPrefix","options","animate","classes","ui-slider","ui-slider-handle","ui-slider-range","distance","max","min","orientation","range","step","value","values","change","slide","start","stop","numPages","_create","this","_keySliding","_mouseSliding","_animateOff","_handleIndex","_detectOrientation","_mouseInit","_calculateNewMax","_addClass","_refresh","_createRange","_createHandles","_setupEvents","_refreshValue","i","handleCount","existingHandles","element","find","handles","length","slice","remove","push","add","join","appendTo","handle","eq","each","data","attr","isArray","_valueMin","_removeClass","css","left","bottom","_off","_on","_handleEvents","_hoverable","_focusable","_destroy","_mouseDestroy","_mouseCapture","event","position","normValue","closestHandle","index","offset","mouseOverHandle","that","o","disabled","elementSize","width","outerWidth","height","outerHeight","elementOffset","x","pageX","y","pageY","_normValueFromMouse","_valueMax","thisDistance","Math","abs","_lastChangedValue","_start","trigger","target","parents","addBack","is","_clickOffset","top","parseInt","hasClass","_slide","_mouseStart","_mouseDrag","_mouseStop","_stop","_change","pixelTotal","pixelMouse","percentMouse","valueTotal","valueMouse","_trimAlignValue","_uiHash","uiHash","handleIndex","undefined","_hasMultipleValues","_trigger","newVal","otherVal","currentValue","newValues","newValue","arguments","_value","vals","_values","_setOption","key","valsLength","_super","_refreshRange","_setOptionDisabled","_toggleClass","val","valModStep","alignValue","parseFloat","toFixed","round","_precision","precision","_precisionOf","num","str","toString","decimal","indexOf","lastValPercent","valPercent","valueMin","valueMax","oRange","_set","queue","duration","keydown","curVal","keyCode","HOME","END","PAGE_UP","PAGE_DOWN","UP","RIGHT","DOWN","LEFT","preventDefault","keyup"],"mappings":"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","file":"../../widgets/slider.js","sourcesContent":["/*!\r\n * jQuery UI Slider @VERSION\r\n * http://jqueryui.com\r\n *\r\n * Copyright jQuery Foundation and other contributors\r\n * Released under the MIT license.\r\n * http://jquery.org/license\r\n */\r\n\r\n//>>label: Slider\r\n//>>group: Widgets\r\n//>>description: Displays a flexible slider with ranges and accessibility via keyboard.\r\n//>>docs: http://api.jqueryui.com/slider/\r\n//>>demos: http://jqueryui.com/slider/\r\n//>>css.structure: ../../themes/base/core.css\r\n//>>css.structure: ../../themes/base/slider.css\r\n//>>css.theme: ../../themes/base/theme.css\r\n\r\ndefine( [\r\n\t\t\t\"skylark-jquery\",\r\n\t\t\t\"./mouse\",\r\n\t\t\t\"../keycode\",\r\n\t\t\t\"../version\",\r\n\t\t\t\"../widget\"\r\n],function( $ ) {\r\n\r\nreturn $.widget( \"ui.slider\", $.ui.mouse, {\r\n\tversion: \"@VERSION\",\r\n\twidgetEventPrefix: \"slide\",\r\n\r\n\toptions: {\r\n\t\tanimate: false,\r\n\t\tclasses: {\r\n\t\t\t\"ui-slider\": \"ui-corner-all\",\r\n\t\t\t\"ui-slider-handle\": \"ui-corner-all\",\r\n\r\n\t\t\t// Note: ui-widget-header isn't the most fittingly semantic framework class for this\r\n\t\t\t// element, but worked best visually with a variety of themes\r\n\t\t\t\"ui-slider-range\": \"ui-corner-all ui-widget-header\"\r\n\t\t},\r\n\t\tdistance: 0,\r\n\t\tmax: 100,\r\n\t\tmin: 0,\r\n\t\torientation: \"horizontal\",\r\n\t\trange: false,\r\n\t\tstep: 1,\r\n\t\tvalue: 0,\r\n\t\tvalues: null,\r\n\r\n\t\t// Callbacks\r\n\t\tchange: null,\r\n\t\tslide: null,\r\n\t\tstart: null,\r\n\t\tstop: null\r\n\t},\r\n\r\n\t// Number of pages in a slider\r\n\t// (how many times can you page up/down to go through the whole range)\r\n\tnumPages: 5,\r\n\r\n\t_create: function() {\r\n\t\tthis._keySliding = false;\r\n\t\tthis._mouseSliding = false;\r\n\t\tthis._animateOff = true;\r\n\t\tthis._handleIndex = null;\r\n\t\tthis._detectOrientation();\r\n\t\tthis._mouseInit();\r\n\t\tthis._calculateNewMax();\r\n\r\n\t\tthis._addClass( \"ui-slider ui-slider-\" + this.orientation,\r\n\t\t\t\"ui-widget ui-widget-content\" );\r\n\r\n\t\tthis._refresh();\r\n\r\n\t\tthis._animateOff = false;\r\n\t},\r\n\r\n\t_refresh: function() {\r\n\t\tthis._createRange();\r\n\t\tthis._createHandles();\r\n\t\tthis._setupEvents();\r\n\t\tthis._refreshValue();\r\n\t},\r\n\r\n\t_createHandles: function() {\r\n\t\tvar i, handleCount,\r\n\t\t\toptions = this.options,\r\n\t\t\texistingHandles = this.element.find( \".ui-slider-handle\" ),\r\n\t\t\thandle = \"<span tabindex='0'></span>\",\r\n\t\t\thandles = [];\r\n\r\n\t\thandleCount = ( options.values && options.values.length ) || 1;\r\n\r\n\t\tif ( existingHandles.length > handleCount ) {\r\n\t\t\texistingHandles.slice( handleCount ).remove();\r\n\t\t\texistingHandles = existingHandles.slice( 0, handleCount );\r\n\t\t}\r\n\r\n\t\tfor ( i = existingHandles.length; i < handleCount; i++ ) {\r\n\t\t\thandles.push( handle );\r\n\t\t}\r\n\r\n\t\tthis.handles = existingHandles.add( $( handles.join( \"\" ) ).appendTo( this.element ) );\r\n\r\n\t\tthis._addClass( this.handles, \"ui-slider-handle\", \"ui-state-default\" );\r\n\r\n\t\tthis.handle = this.handles.eq( 0 );\r\n\r\n\t\tthis.handles.each( function( i ) {\r\n\t\t\t$( this )\r\n\t\t\t\t.data( \"ui-slider-handle-index\", i )\r\n\t\t\t\t.attr( \"tabIndex\", 0 );\r\n\t\t} );\r\n\t},\r\n\r\n\t_createRange: function() {\r\n\t\tvar options = this.options;\r\n\r\n\t\tif ( options.range ) {\r\n\t\t\tif ( options.range === true ) {\r\n\t\t\t\tif ( !options.values ) {\r\n\t\t\t\t\toptions.values = [ this._valueMin(), this._valueMin() ];\r\n\t\t\t\t} else if ( options.values.length && options.values.length !== 2 ) {\r\n\t\t\t\t\toptions.values = [ options.values[ 0 ], options.values[ 0 ] ];\r\n\t\t\t\t} else if ( $.isArray( options.values ) ) {\r\n\t\t\t\t\toptions.values = options.values.slice( 0 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( !this.range || !this.range.length ) {\r\n\t\t\t\tthis.range = $( \"<div>\" )\r\n\t\t\t\t\t.appendTo( this.element );\r\n\r\n\t\t\t\tthis._addClass( this.range, \"ui-slider-range\" );\r\n\t\t\t} else {\r\n\t\t\t\tthis._removeClass( this.range, \"ui-slider-range-min ui-slider-range-max\" );\r\n\r\n\t\t\t\t// Handle range switching from true to min/max\r\n\t\t\t\tthis.range.css( {\r\n\t\t\t\t\t\"left\": \"\",\r\n\t\t\t\t\t\"bottom\": \"\"\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\tif ( options.range === \"min\" || options.range === \"max\" ) {\r\n\t\t\t\tthis._addClass( this.range, \"ui-slider-range-\" + options.range );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif ( this.range ) {\r\n\t\t\t\tthis.range.remove();\r\n\t\t\t}\r\n\t\t\tthis.range = null;\r\n\t\t}\r\n\t},\r\n\r\n\t_setupEvents: function() {\r\n\t\tthis._off( this.handles );\r\n\t\tthis._on( this.handles, this._handleEvents );\r\n\t\tthis._hoverable( this.handles );\r\n\t\tthis._focusable( this.handles );\r\n\t},\r\n\r\n\t_destroy: function() {\r\n\t\tthis.handles.remove();\r\n\t\tif ( this.range ) {\r\n\t\t\tthis.range.remove();\r\n\t\t}\r\n\r\n\t\tthis._mouseDestroy();\r\n\t},\r\n\r\n\t_mouseCapture: function( event ) {\r\n\t\tvar position, normValue, distance, closestHandle, index, allowed, offset, mouseOverHandle,\r\n\t\t\tthat = this,\r\n\t\t\to = this.options;\r\n\r\n\t\tif ( o.disabled ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthis.elementSize = {\r\n\t\t\twidth: this.element.outerWidth(),\r\n\t\t\theight: this.element.outerHeight()\r\n\t\t};\r\n\t\tthis.elementOffset = this.element.offset();\r\n\r\n\t\tposition = { x: event.pageX, y: event.pageY };\r\n\t\tnormValue = this._normValueFromMouse( position );\r\n\t\tdistance = this._valueMax() - this._valueMin() + 1;\r\n\t\tthis.handles.each( function( i ) {\r\n\t\t\tvar thisDistance = Math.abs( normValue - that.values( i ) );\r\n\t\t\tif ( ( distance > thisDistance ) ||\r\n\t\t\t\t( distance === thisDistance &&\r\n\t\t\t\t\t( i === that._lastChangedValue || that.values( i ) === o.min ) ) ) {\r\n\t\t\t\tdistance = thisDistance;\r\n\t\t\t\tclosestHandle = $( this );\r\n\t\t\t\tindex = i;\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tallowed = this._start( event, index );\r\n\t\tif ( allowed === false ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tthis._mouseSliding = true;\r\n\r\n\t\tthis._handleIndex = index;\r\n\r\n\t\tthis._addClass( closestHandle, null, \"ui-state-active\" );\r\n\t\tclosestHandle.trigger( \"focus\" );\r\n\r\n\t\toffset = closestHandle.offset();\r\n\t\tmouseOverHandle = !$( event.target ).parents().addBack().is( \".ui-slider-handle\" );\r\n\t\tthis._clickOffset = mouseOverHandle ? { left: 0, top: 0 } : {\r\n\t\t\tleft: event.pageX - offset.left - ( closestHandle.width() / 2 ),\r\n\t\t\ttop: event.pageY - offset.top -\r\n\t\t\t\t( closestHandle.height() / 2 ) -\r\n\t\t\t\t( parseInt( closestHandle.css( \"borderTopWidth\" ), 10 ) || 0 ) -\r\n\t\t\t\t( parseInt( closestHandle.css( \"borderBottomWidth\" ), 10 ) || 0 ) +\r\n\t\t\t\t( parseInt( closestHandle.css( \"marginTop\" ), 10 ) || 0 )\r\n\t\t};\r\n\r\n\t\tif ( !this.handles.hasClass( \"ui-state-hover\" ) ) {\r\n\t\t\tthis._slide( event, index, normValue );\r\n\t\t}\r\n\t\tthis._animateOff = true;\r\n\t\treturn true;\r\n\t},\r\n\r\n\t_mouseStart: function() {\r\n\t\treturn true;\r\n\t},\r\n\r\n\t_mouseDrag: function( event ) {\r\n\t\tvar position = { x: event.pageX, y: event.pageY },\r\n\t\t\tnormValue = this._normValueFromMouse( position );\r\n\r\n\t\tthis._slide( event, this._handleIndex, normValue );\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\t_mouseStop: function( event ) {\r\n\t\tthis._removeClass( this.handles, null, \"ui-state-active\" );\r\n\t\tthis._mouseSliding = false;\r\n\r\n\t\tthis._stop( event, this._handleIndex );\r\n\t\tthis._change( event, this._handleIndex );\r\n\r\n\t\tthis._handleIndex = null;\r\n\t\tthis._clickOffset = null;\r\n\t\tthis._animateOff = false;\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\t_detectOrientation: function() {\r\n\t\tthis.orientation = ( this.options.orientation === \"vertical\" ) ? \"vertical\" : \"horizontal\";\r\n\t},\r\n\r\n\t_normValueFromMouse: function( position ) {\r\n\t\tvar pixelTotal,\r\n\t\t\tpixelMouse,\r\n\t\t\tpercentMouse,\r\n\t\t\tvalueTotal,\r\n\t\t\tvalueMouse;\r\n\r\n\t\tif ( this.orientation === \"horizontal\" ) {\r\n\t\t\tpixelTotal = this.elementSize.width;\r\n\t\t\tpixelMouse = position.x - this.elementOffset.left -\r\n\t\t\t\t( this._clickOffset ? this._clickOffset.left : 0 );\r\n\t\t} else {\r\n\t\t\tpixelTotal = this.elementSize.height;\r\n\t\t\tpixelMouse = position.y - this.elementOffset.top -\r\n\t\t\t\t( this._clickOffset ? this._clickOffset.top : 0 );\r\n\t\t}\r\n\r\n\t\tpercentMouse = ( pixelMouse / pixelTotal );\r\n\t\tif ( percentMouse > 1 ) {\r\n\t\t\tpercentMouse = 1;\r\n\t\t}\r\n\t\tif ( percentMouse < 0 ) {\r\n\t\t\tpercentMouse = 0;\r\n\t\t}\r\n\t\tif ( this.orientation === \"vertical\" ) {\r\n\t\t\tpercentMouse = 1 - percentMouse;\r\n\t\t}\r\n\r\n\t\tvalueTotal = this._valueMax() - this._valueMin();\r\n\t\tvalueMouse = this._valueMin() + percentMouse * valueTotal;\r\n\r\n\t\treturn this._trimAlignValue( valueMouse );\r\n\t},\r\n\r\n\t_uiHash: function( index, value, values ) {\r\n\t\tvar uiHash = {\r\n\t\t\thandle: this.handles[ index ],\r\n\t\t\thandleIndex: index,\r\n\t\t\tvalue: value !== undefined ? value : this.value()\r\n\t\t};\r\n\r\n\t\tif ( this._hasMultipleValues() ) {\r\n\t\t\tuiHash.value = value !== undefined ? value : this.values( index );\r\n\t\t\tuiHash.values = values || this.values();\r\n\t\t}\r\n\r\n\t\treturn uiHash;\r\n\t},\r\n\r\n\t_hasMultipleValues: function() {\r\n\t\treturn this.options.values && this.options.values.length;\r\n\t},\r\n\r\n\t_start: function( event, index ) {\r\n\t\treturn this._trigger( \"start\", event, this._uiHash( index ) );\r\n\t},\r\n\r\n\t_slide: function( event, index, newVal ) {\r\n\t\tvar allowed, otherVal,\r\n\t\t\tcurrentValue = this.value(),\r\n\t\t\tnewValues = this.values();\r\n\r\n\t\tif ( this._hasMultipleValues() ) {\r\n\t\t\totherVal = this.values( index ? 0 : 1 );\r\n\t\t\tcurrentValue = this.values( index );\r\n\r\n\t\t\tif ( this.options.values.length === 2 && this.options.range === true ) {\r\n\t\t\t\tnewVal =  index === 0 ? Math.min( otherVal, newVal ) : Math.max( otherVal, newVal );\r\n\t\t\t}\r\n\r\n\t\t\tnewValues[ index ] = newVal;\r\n\t\t}\r\n\r\n\t\tif ( newVal === currentValue ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tallowed = this._trigger( \"slide\", event, this._uiHash( index, newVal, newValues ) );\r\n\r\n\t\t// A slide can be canceled by returning false from the slide callback\r\n\t\tif ( allowed === false ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( this._hasMultipleValues() ) {\r\n\t\t\tthis.values( index, newVal );\r\n\t\t} else {\r\n\t\t\tthis.value( newVal );\r\n\t\t}\r\n\t},\r\n\r\n\t_stop: function( event, index ) {\r\n\t\tthis._trigger( \"stop\", event, this._uiHash( index ) );\r\n\t},\r\n\r\n\t_change: function( event, index ) {\r\n\t\tif ( !this._keySliding && !this._mouseSliding ) {\r\n\r\n\t\t\t//store the last changed value index for reference when handles overlap\r\n\t\t\tthis._lastChangedValue = index;\r\n\t\t\tthis._trigger( \"change\", event, this._uiHash( index ) );\r\n\t\t}\r\n\t},\r\n\r\n\tvalue: function( newValue ) {\r\n\t\tif ( arguments.length ) {\r\n\t\t\tthis.options.value = this._trimAlignValue( newValue );\r\n\t\t\tthis._refreshValue();\r\n\t\t\tthis._change( null, 0 );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\treturn this._value();\r\n\t},\r\n\r\n\tvalues: function( index, newValue ) {\r\n\t\tvar vals,\r\n\t\t\tnewValues,\r\n\t\t\ti;\r\n\r\n\t\tif ( arguments.length > 1 ) {\r\n\t\t\tthis.options.values[ index ] = this._trimAlignValue( newValue );\r\n\t\t\tthis._refreshValue();\r\n\t\t\tthis._change( null, index );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( arguments.length ) {\r\n\t\t\tif ( $.isArray( arguments[ 0 ] ) ) {\r\n\t\t\t\tvals = this.options.values;\r\n\t\t\t\tnewValues = arguments[ 0 ];\r\n\t\t\t\tfor ( i = 0; i < vals.length; i += 1 ) {\r\n\t\t\t\t\tvals[ i ] = this._trimAlignValue( newValues[ i ] );\r\n\t\t\t\t\tthis._change( null, i );\r\n\t\t\t\t}\r\n\t\t\t\tthis._refreshValue();\r\n\t\t\t} else {\r\n\t\t\t\tif ( this._hasMultipleValues() ) {\r\n\t\t\t\t\treturn this._values( index );\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.value();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn this._values();\r\n\t\t}\r\n\t},\r\n\r\n\t_setOption: function( key, value ) {\r\n\t\tvar i,\r\n\t\t\tvalsLength = 0;\r\n\r\n\t\tif ( key === \"range\" && this.options.range === true ) {\r\n\t\t\tif ( value === \"min\" ) {\r\n\t\t\t\tthis.options.value = this._values( 0 );\r\n\t\t\t\tthis.options.values = null;\r\n\t\t\t} else if ( value === \"max\" ) {\r\n\t\t\t\tthis.options.value = this._values( this.options.values.length - 1 );\r\n\t\t\t\tthis.options.values = null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( $.isArray( this.options.values ) ) {\r\n\t\t\tvalsLength = this.options.values.length;\r\n\t\t}\r\n\r\n\t\tthis._super( key, value );\r\n\r\n\t\tswitch ( key ) {\r\n\t\t\tcase \"orientation\":\r\n\t\t\t\tthis._detectOrientation();\r\n\t\t\t\tthis._removeClass( \"ui-slider-horizontal ui-slider-vertical\" )\r\n\t\t\t\t\t._addClass( \"ui-slider-\" + this.orientation );\r\n\t\t\t\tthis._refreshValue();\r\n\t\t\t\tif ( this.options.range ) {\r\n\t\t\t\t\tthis._refreshRange( value );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Reset positioning from previous orientation\r\n\t\t\t\tthis.handles.css( value === \"horizontal\" ? \"bottom\" : \"left\", \"\" );\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"value\":\r\n\t\t\t\tthis._animateOff = true;\r\n\t\t\t\tthis._refreshValue();\r\n\t\t\t\tthis._change( null, 0 );\r\n\t\t\t\tthis._animateOff = false;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"values\":\r\n\t\t\t\tthis._animateOff = true;\r\n\t\t\t\tthis._refreshValue();\r\n\r\n\t\t\t\t// Start from the last handle to prevent unreachable handles (#9046)\r\n\t\t\t\tfor ( i = valsLength - 1; i >= 0; i-- ) {\r\n\t\t\t\t\tthis._change( null, i );\r\n\t\t\t\t}\r\n\t\t\t\tthis._animateOff = false;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"step\":\r\n\t\t\tcase \"min\":\r\n\t\t\tcase \"max\":\r\n\t\t\t\tthis._animateOff = true;\r\n\t\t\t\tthis._calculateNewMax();\r\n\t\t\t\tthis._refreshValue();\r\n\t\t\t\tthis._animateOff = false;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"range\":\r\n\t\t\t\tthis._animateOff = true;\r\n\t\t\t\tthis._refresh();\r\n\t\t\t\tthis._animateOff = false;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\r\n\t_setOptionDisabled: function( value ) {\r\n\t\tthis._super( value );\r\n\r\n\t\tthis._toggleClass( null, \"ui-state-disabled\", !!value );\r\n\t},\r\n\r\n\t//internal value getter\r\n\t// _value() returns value trimmed by min and max, aligned by step\r\n\t_value: function() {\r\n\t\tvar val = this.options.value;\r\n\t\tval = this._trimAlignValue( val );\r\n\r\n\t\treturn val;\r\n\t},\r\n\r\n\t//internal values getter\r\n\t// _values() returns array of values trimmed by min and max, aligned by step\r\n\t// _values( index ) returns single value trimmed by min and max, aligned by step\r\n\t_values: function( index ) {\r\n\t\tvar val,\r\n\t\t\tvals,\r\n\t\t\ti;\r\n\r\n\t\tif ( arguments.length ) {\r\n\t\t\tval = this.options.values[ index ];\r\n\t\t\tval = this._trimAlignValue( val );\r\n\r\n\t\t\treturn val;\r\n\t\t} else if ( this._hasMultipleValues() ) {\r\n\r\n\t\t\t// .slice() creates a copy of the array\r\n\t\t\t// this copy gets trimmed by min and max and then returned\r\n\t\t\tvals = this.options.values.slice();\r\n\t\t\tfor ( i = 0; i < vals.length; i += 1 ) {\r\n\t\t\t\tvals[ i ] = this._trimAlignValue( vals[ i ] );\r\n\t\t\t}\r\n\r\n\t\t\treturn vals;\r\n\t\t} else {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t},\r\n\r\n\t// Returns the step-aligned value that val is closest to, between (inclusive) min and max\r\n\t_trimAlignValue: function( val ) {\r\n\t\tif ( val <= this._valueMin() ) {\r\n\t\t\treturn this._valueMin();\r\n\t\t}\r\n\t\tif ( val >= this._valueMax() ) {\r\n\t\t\treturn this._valueMax();\r\n\t\t}\r\n\t\tvar step = ( this.options.step > 0 ) ? this.options.step : 1,\r\n\t\t\tvalModStep = ( val - this._valueMin() ) % step,\r\n\t\t\talignValue = val - valModStep;\r\n\r\n\t\tif ( Math.abs( valModStep ) * 2 >= step ) {\r\n\t\t\talignValue += ( valModStep > 0 ) ? step : ( -step );\r\n\t\t}\r\n\r\n\t\t// Since JavaScript has problems with large floats, round\r\n\t\t// the final value to 5 digits after the decimal point (see #4124)\r\n\t\treturn parseFloat( alignValue.toFixed( 5 ) );\r\n\t},\r\n\r\n\t_calculateNewMax: function() {\r\n\t\tvar max = this.options.max,\r\n\t\t\tmin = this._valueMin(),\r\n\t\t\tstep = this.options.step,\r\n\t\t\taboveMin = Math.round( ( max - min ) / step ) * step;\r\n\t\tmax = aboveMin + min;\r\n\t\tif ( max > this.options.max ) {\r\n\r\n\t\t\t//If max is not divisible by step, rounding off may increase its value\r\n\t\t\tmax -= step;\r\n\t\t}\r\n\t\tthis.max = parseFloat( max.toFixed( this._precision() ) );\r\n\t},\r\n\r\n\t_precision: function() {\r\n\t\tvar precision = this._precisionOf( this.options.step );\r\n\t\tif ( this.options.min !== null ) {\r\n\t\t\tprecision = Math.max( precision, this._precisionOf( this.options.min ) );\r\n\t\t}\r\n\t\treturn precision;\r\n\t},\r\n\r\n\t_precisionOf: function( num ) {\r\n\t\tvar str = num.toString(),\r\n\t\t\tdecimal = str.indexOf( \".\" );\r\n\t\treturn decimal === -1 ? 0 : str.length - decimal - 1;\r\n\t},\r\n\r\n\t_valueMin: function() {\r\n\t\treturn this.options.min;\r\n\t},\r\n\r\n\t_valueMax: function() {\r\n\t\treturn this.max;\r\n\t},\r\n\r\n\t_refreshRange: function( orientation ) {\r\n\t\tif ( orientation === \"vertical\" ) {\r\n\t\t\tthis.range.css( { \"width\": \"\", \"left\": \"\" } );\r\n\t\t}\r\n\t\tif ( orientation === \"horizontal\" ) {\r\n\t\t\tthis.range.css( { \"height\": \"\", \"bottom\": \"\" } );\r\n\t\t}\r\n\t},\r\n\r\n\t_refreshValue: function() {\r\n\t\tvar lastValPercent, valPercent, value, valueMin, valueMax,\r\n\t\t\toRange = this.options.range,\r\n\t\t\to = this.options,\r\n\t\t\tthat = this,\r\n\t\t\tanimate = ( !this._animateOff ) ? o.animate : false,\r\n\t\t\t_set = {};\r\n\r\n\t\tif ( this._hasMultipleValues() ) {\r\n\t\t\tthis.handles.each( function( i ) {\r\n\t\t\t\tvalPercent = ( that.values( i ) - that._valueMin() ) / ( that._valueMax() -\r\n\t\t\t\t\tthat._valueMin() ) * 100;\r\n\t\t\t\t_set[ that.orientation === \"horizontal\" ? \"left\" : \"bottom\" ] = valPercent + \"%\";\r\n\t\t\t\t$( this ).stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( _set, o.animate );\r\n\t\t\t\tif ( that.options.range === true ) {\r\n\t\t\t\t\tif ( that.orientation === \"horizontal\" ) {\r\n\t\t\t\t\t\tif ( i === 0 ) {\r\n\t\t\t\t\t\t\tthat.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( {\r\n\t\t\t\t\t\t\t\tleft: valPercent + \"%\"\r\n\t\t\t\t\t\t\t}, o.animate );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( i === 1 ) {\r\n\t\t\t\t\t\t\tthat.range[ animate ? \"animate\" : \"css\" ]( {\r\n\t\t\t\t\t\t\t\twidth: ( valPercent - lastValPercent ) + \"%\"\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tqueue: false,\r\n\t\t\t\t\t\t\t\tduration: o.animate\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif ( i === 0 ) {\r\n\t\t\t\t\t\t\tthat.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( {\r\n\t\t\t\t\t\t\t\tbottom: ( valPercent ) + \"%\"\r\n\t\t\t\t\t\t\t}, o.animate );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( i === 1 ) {\r\n\t\t\t\t\t\t\tthat.range[ animate ? \"animate\" : \"css\" ]( {\r\n\t\t\t\t\t\t\t\theight: ( valPercent - lastValPercent ) + \"%\"\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tqueue: false,\r\n\t\t\t\t\t\t\t\tduration: o.animate\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlastValPercent = valPercent;\r\n\t\t\t} );\r\n\t\t} else {\r\n\t\t\tvalue = this.value();\r\n\t\t\tvalueMin = this._valueMin();\r\n\t\t\tvalueMax = this._valueMax();\r\n\t\t\tvalPercent = ( valueMax !== valueMin ) ?\r\n\t\t\t\t\t( value - valueMin ) / ( valueMax - valueMin ) * 100 :\r\n\t\t\t\t\t0;\r\n\t\t\t_set[ this.orientation === \"horizontal\" ? \"left\" : \"bottom\" ] = valPercent + \"%\";\r\n\t\t\tthis.handle.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( _set, o.animate );\r\n\r\n\t\t\tif ( oRange === \"min\" && this.orientation === \"horizontal\" ) {\r\n\t\t\t\tthis.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( {\r\n\t\t\t\t\twidth: valPercent + \"%\"\r\n\t\t\t\t}, o.animate );\r\n\t\t\t}\r\n\t\t\tif ( oRange === \"max\" && this.orientation === \"horizontal\" ) {\r\n\t\t\t\tthis.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( {\r\n\t\t\t\t\twidth: ( 100 - valPercent ) + \"%\"\r\n\t\t\t\t}, o.animate );\r\n\t\t\t}\r\n\t\t\tif ( oRange === \"min\" && this.orientation === \"vertical\" ) {\r\n\t\t\t\tthis.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( {\r\n\t\t\t\t\theight: valPercent + \"%\"\r\n\t\t\t\t}, o.animate );\r\n\t\t\t}\r\n\t\t\tif ( oRange === \"max\" && this.orientation === \"vertical\" ) {\r\n\t\t\t\tthis.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( {\r\n\t\t\t\t\theight: ( 100 - valPercent ) + \"%\"\r\n\t\t\t\t}, o.animate );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_handleEvents: {\r\n\t\tkeydown: function( event ) {\r\n\t\t\tvar allowed, curVal, newVal, step,\r\n\t\t\t\tindex = $( event.target ).data( \"ui-slider-handle-index\" );\r\n\r\n\t\t\tswitch ( event.keyCode ) {\r\n\t\t\t\tcase $.ui.keyCode.HOME:\r\n\t\t\t\tcase $.ui.keyCode.END:\r\n\t\t\t\tcase $.ui.keyCode.PAGE_UP:\r\n\t\t\t\tcase $.ui.keyCode.PAGE_DOWN:\r\n\t\t\t\tcase $.ui.keyCode.UP:\r\n\t\t\t\tcase $.ui.keyCode.RIGHT:\r\n\t\t\t\tcase $.ui.keyCode.DOWN:\r\n\t\t\t\tcase $.ui.keyCode.LEFT:\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tif ( !this._keySliding ) {\r\n\t\t\t\t\t\tthis._keySliding = true;\r\n\t\t\t\t\t\tthis._addClass( $( event.target ), null, \"ui-state-active\" );\r\n\t\t\t\t\t\tallowed = this._start( event, index );\r\n\t\t\t\t\t\tif ( allowed === false ) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tstep = this.options.step;\r\n\t\t\tif ( this._hasMultipleValues() ) {\r\n\t\t\t\tcurVal = newVal = this.values( index );\r\n\t\t\t} else {\r\n\t\t\t\tcurVal = newVal = this.value();\r\n\t\t\t}\r\n\r\n\t\t\tswitch ( event.keyCode ) {\r\n\t\t\t\tcase $.ui.keyCode.HOME:\r\n\t\t\t\t\tnewVal = this._valueMin();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.END:\r\n\t\t\t\t\tnewVal = this._valueMax();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.PAGE_UP:\r\n\t\t\t\t\tnewVal = this._trimAlignValue(\r\n\t\t\t\t\t\tcurVal + ( ( this._valueMax() - this._valueMin() ) / this.numPages )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.PAGE_DOWN:\r\n\t\t\t\t\tnewVal = this._trimAlignValue(\r\n\t\t\t\t\t\tcurVal - ( ( this._valueMax() - this._valueMin() ) / this.numPages ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.UP:\r\n\t\t\t\tcase $.ui.keyCode.RIGHT:\r\n\t\t\t\t\tif ( curVal === this._valueMax() ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnewVal = this._trimAlignValue( curVal + step );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.DOWN:\r\n\t\t\t\tcase $.ui.keyCode.LEFT:\r\n\t\t\t\t\tif ( curVal === this._valueMin() ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnewVal = this._trimAlignValue( curVal - step );\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tthis._slide( event, index, newVal );\r\n\t\t},\r\n\t\tkeyup: function( event ) {\r\n\t\t\tvar index = $( event.target ).data( \"ui-slider-handle-index\" );\r\n\r\n\t\t\tif ( this._keySliding ) {\r\n\t\t\t\tthis._keySliding = false;\r\n\t\t\t\tthis._stop( event, index );\r\n\t\t\t\tthis._change( event, index );\r\n\t\t\t\tthis._removeClass( $( event.target ), null, \"ui-state-active\" );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n} );\r\n\r\n});\r\n"]}