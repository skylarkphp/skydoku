{"version":3,"sources":["widgets/accordion.js"],"names":["define","$","widget","version","options","active","animate","classes","ui-accordion-header","ui-accordion-header-collapsed","ui-accordion-content","collapsible","event","header","heightStyle","icons","activeHeader","activate","beforeActivate","hideProps","borderTopWidth","borderBottomWidth","paddingTop","paddingBottom","height","showProps","_create","this","prevShow","prevHide","_addClass","element","attr","_processPanels","headers","length","_refresh","_getCreateEventData","panel","next","_createIcons","icon","children","prependTo","_removeClass","_destroyIcons","remove","_destroy","contents","removeAttr","removeUniqueId","css","_setOption","key","value","_off","_setupEvents","_super","_activate","_setOptionDisabled","_toggleClass","add","_keydown","altKey","ctrlKey","keyCode","ui","currentIndex","index","target","toFocus","RIGHT","DOWN","LEFT","UP","SPACE","ENTER","_eventHandler","HOME","END","trigger","preventDefault","_panelKeyDown","currentTarget","prev","refresh","contains","find","Math","max","prevHeaders","prevPanels","panels","filter","hide","not","maxHeight","parent","_findActive","show","each","headerId","uniqueId","panelId","aria-selected","aria-expanded","tabIndex","aria-hidden","eq","siblings","elem","position","outerHeight","innerHeight","isVisible","is","noop","selector","events","keydown","split","eventName","_on","_hoverable","_focusable","activeChildren","clickedChildren","clicked","clickedIsActive","collapsing","toShow","eventData","oldHeader","oldPanel","newHeader","newPanel","_trigger","_toggle","data","toHide","stop","_animate","_toggleComplete","parseInt","easing","duration","that","down","complete","slideUp","slideDown","className"],"mappings":"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","file":"../../widgets/accordion.js","sourcesContent":["/*!\r\n * jQuery UI Accordion @VERSION\r\n * http://jqueryui.com\r\n *\r\n * Copyright jQuery Foundation and other contributors\r\n * Released under the MIT license.\r\n * http://jquery.org/license\r\n */\r\n\r\n//>>label: Accordion\r\n//>>group: Widgets\r\n// jscs:disable maximumLineLength\r\n//>>description: Displays collapsible content panels for presenting information in a limited amount of space.\r\n// jscs:enable maximumLineLength\r\n//>>docs: http://api.jqueryui.com/accordion/\r\n//>>demos: http://jqueryui.com/accordion/\r\n//>>css.structure: ../../themes/base/core.css\r\n//>>css.structure: ../../themes/base/accordion.css\r\n//>>css.theme: ../../themes/base/theme.css\r\n\r\ndefine( [\r\n\t\"skylark-jquery\",\r\n\t\"../version\",\r\n\t\"../keycode\",\r\n\t\"../unique-id\",\r\n\t\"../widget\"\r\n],function( $ ) {\r\n\r\nreturn $.widget( \"ui.accordion\", {\r\n\tversion: \"@VERSION\",\r\n\toptions: {\r\n\t\tactive: 0,\r\n\t\tanimate: {},\r\n\t\tclasses: {\r\n\t\t\t\"ui-accordion-header\": \"ui-corner-top\",\r\n\t\t\t\"ui-accordion-header-collapsed\": \"ui-corner-all\",\r\n\t\t\t\"ui-accordion-content\": \"ui-corner-bottom\"\r\n\t\t},\r\n\t\tcollapsible: false,\r\n\t\tevent: \"click\",\r\n\t\theader: \"> li > :first-child, > :not(li):even\",\r\n\t\theightStyle: \"auto\",\r\n\t\ticons: {\r\n\t\t\tactiveHeader: \"ui-icon-triangle-1-s\",\r\n\t\t\theader: \"ui-icon-triangle-1-e\"\r\n\t\t},\r\n\r\n\t\t// Callbacks\r\n\t\tactivate: null,\r\n\t\tbeforeActivate: null\r\n\t},\r\n\r\n\thideProps: {\r\n\t\tborderTopWidth: \"hide\",\r\n\t\tborderBottomWidth: \"hide\",\r\n\t\tpaddingTop: \"hide\",\r\n\t\tpaddingBottom: \"hide\",\r\n\t\theight: \"hide\"\r\n\t},\r\n\r\n\tshowProps: {\r\n\t\tborderTopWidth: \"show\",\r\n\t\tborderBottomWidth: \"show\",\r\n\t\tpaddingTop: \"show\",\r\n\t\tpaddingBottom: \"show\",\r\n\t\theight: \"show\"\r\n\t},\r\n\r\n\t_create: function() {\r\n\t\tvar options = this.options;\r\n\r\n\t\tthis.prevShow = this.prevHide = $();\r\n\t\tthis._addClass( \"ui-accordion\", \"ui-widget ui-helper-reset\" );\r\n\t\tthis.element.attr( \"role\", \"tablist\" );\r\n\r\n\t\t// Don't allow collapsible: false and active: false / null\r\n\t\tif ( !options.collapsible && ( options.active === false || options.active == null ) ) {\r\n\t\t\toptions.active = 0;\r\n\t\t}\r\n\r\n\t\tthis._processPanels();\r\n\r\n\t\t// handle negative values\r\n\t\tif ( options.active < 0 ) {\r\n\t\t\toptions.active += this.headers.length;\r\n\t\t}\r\n\t\tthis._refresh();\r\n\t},\r\n\r\n\t_getCreateEventData: function() {\r\n\t\treturn {\r\n\t\t\theader: this.active,\r\n\t\t\tpanel: !this.active.length ? $() : this.active.next()\r\n\t\t};\r\n\t},\r\n\r\n\t_createIcons: function() {\r\n\t\tvar icon, children,\r\n\t\t\ticons = this.options.icons;\r\n\r\n\t\tif ( icons ) {\r\n\t\t\ticon = $( \"<span>\" );\r\n\t\t\tthis._addClass( icon, \"ui-accordion-header-icon\", \"ui-icon \" + icons.header );\r\n\t\t\ticon.prependTo( this.headers );\r\n\t\t\tchildren = this.active.children( \".ui-accordion-header-icon\" );\r\n\t\t\tthis._removeClass( children, icons.header )\r\n\t\t\t\t._addClass( children, null, icons.activeHeader )\r\n\t\t\t\t._addClass( this.headers, \"ui-accordion-icons\" );\r\n\t\t}\r\n\t},\r\n\r\n\t_destroyIcons: function() {\r\n\t\tthis._removeClass( this.headers, \"ui-accordion-icons\" );\r\n\t\tthis.headers.children( \".ui-accordion-header-icon\" ).remove();\r\n\t},\r\n\r\n\t_destroy: function() {\r\n\t\tvar contents;\r\n\r\n\t\t// Clean up main element\r\n\t\tthis.element.removeAttr( \"role\" );\r\n\r\n\t\t// Clean up headers\r\n\t\tthis.headers\r\n\t\t\t.removeAttr( \"role aria-expanded aria-selected aria-controls tabIndex\" )\r\n\t\t\t.removeUniqueId();\r\n\r\n\t\tthis._destroyIcons();\r\n\r\n\t\t// Clean up content panels\r\n\t\tcontents = this.headers.next()\r\n\t\t\t.css( \"display\", \"\" )\r\n\t\t\t.removeAttr( \"role aria-hidden aria-labelledby\" )\r\n\t\t\t.removeUniqueId();\r\n\r\n\t\tif ( this.options.heightStyle !== \"content\" ) {\r\n\t\t\tcontents.css( \"height\", \"\" );\r\n\t\t}\r\n\t},\r\n\r\n\t_setOption: function( key, value ) {\r\n\t\tif ( key === \"active\" ) {\r\n\r\n\t\t\t// _activate() will handle invalid values and update this.options\r\n\t\t\tthis._activate( value );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( key === \"event\" ) {\r\n\t\t\tif ( this.options.event ) {\r\n\t\t\t\tthis._off( this.headers, this.options.event );\r\n\t\t\t}\r\n\t\t\tthis._setupEvents( value );\r\n\t\t}\r\n\r\n\t\tthis._super( key, value );\r\n\r\n\t\t// Setting collapsible: false while collapsed; open first panel\r\n\t\tif ( key === \"collapsible\" && !value && this.options.active === false ) {\r\n\t\t\tthis._activate( 0 );\r\n\t\t}\r\n\r\n\t\tif ( key === \"icons\" ) {\r\n\t\t\tthis._destroyIcons();\r\n\t\t\tif ( value ) {\r\n\t\t\t\tthis._createIcons();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_setOptionDisabled: function( value ) {\r\n\t\tthis._super( value );\r\n\r\n\t\tthis.element.attr( \"aria-disabled\", value );\r\n\r\n\t\t// Support: IE8 Only\r\n\t\t// #5332 / #6059 - opacity doesn't cascade to positioned elements in IE\r\n\t\t// so we need to add the disabled class to the headers and panels\r\n\t\tthis._toggleClass( null, \"ui-state-disabled\", !!value );\r\n\t\tthis._toggleClass( this.headers.add( this.headers.next() ), null, \"ui-state-disabled\",\r\n\t\t\t!!value );\r\n\t},\r\n\r\n\t_keydown: function( event ) {\r\n\t\tif ( event.altKey || event.ctrlKey ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar keyCode = $.ui.keyCode,\r\n\t\t\tlength = this.headers.length,\r\n\t\t\tcurrentIndex = this.headers.index( event.target ),\r\n\t\t\ttoFocus = false;\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\t\tcase keyCode.RIGHT:\r\n\t\tcase keyCode.DOWN:\r\n\t\t\ttoFocus = this.headers[ ( currentIndex + 1 ) % length ];\r\n\t\t\tbreak;\r\n\t\tcase keyCode.LEFT:\r\n\t\tcase keyCode.UP:\r\n\t\t\ttoFocus = this.headers[ ( currentIndex - 1 + length ) % length ];\r\n\t\t\tbreak;\r\n\t\tcase keyCode.SPACE:\r\n\t\tcase keyCode.ENTER:\r\n\t\t\tthis._eventHandler( event );\r\n\t\t\tbreak;\r\n\t\tcase keyCode.HOME:\r\n\t\t\ttoFocus = this.headers[ 0 ];\r\n\t\t\tbreak;\r\n\t\tcase keyCode.END:\r\n\t\t\ttoFocus = this.headers[ length - 1 ];\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif ( toFocus ) {\r\n\t\t\t$( event.target ).attr( \"tabIndex\", -1 );\r\n\t\t\t$( toFocus ).attr( \"tabIndex\", 0 );\r\n\t\t\t$( toFocus ).trigger( \"focus\" );\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\t},\r\n\r\n\t_panelKeyDown: function( event ) {\r\n\t\tif ( event.keyCode === $.ui.keyCode.UP && event.ctrlKey ) {\r\n\t\t\t$( event.currentTarget ).prev().trigger( \"focus\" );\r\n\t\t}\r\n\t},\r\n\r\n\trefresh: function() {\r\n\t\tvar options = this.options;\r\n\t\tthis._processPanels();\r\n\r\n\t\t// Was collapsed or no panel\r\n\t\tif ( ( options.active === false && options.collapsible === true ) ||\r\n\t\t\t\t!this.headers.length ) {\r\n\t\t\toptions.active = false;\r\n\t\t\tthis.active = $();\r\n\r\n\t\t// active false only when collapsible is true\r\n\t\t} else if ( options.active === false ) {\r\n\t\t\tthis._activate( 0 );\r\n\r\n\t\t// was active, but active panel is gone\r\n\t\t} else if ( this.active.length && !$.contains( this.element[ 0 ], this.active[ 0 ] ) ) {\r\n\r\n\t\t\t// all remaining panel are disabled\r\n\t\t\tif ( this.headers.length === this.headers.find( \".ui-state-disabled\" ).length ) {\r\n\t\t\t\toptions.active = false;\r\n\t\t\t\tthis.active = $();\r\n\r\n\t\t\t// activate previous panel\r\n\t\t\t} else {\r\n\t\t\t\tthis._activate( Math.max( 0, options.active - 1 ) );\r\n\t\t\t}\r\n\r\n\t\t// was active, active panel still exists\r\n\t\t} else {\r\n\r\n\t\t\t// make sure active index is correct\r\n\t\t\toptions.active = this.headers.index( this.active );\r\n\t\t}\r\n\r\n\t\tthis._destroyIcons();\r\n\r\n\t\tthis._refresh();\r\n\t},\r\n\r\n\t_processPanels: function() {\r\n\t\tvar prevHeaders = this.headers,\r\n\t\t\tprevPanels = this.panels;\r\n\r\n\t\tthis.headers = this.element.find( this.options.header );\r\n\t\tthis._addClass( this.headers, \"ui-accordion-header ui-accordion-header-collapsed\",\r\n\t\t\t\"ui-state-default\" );\r\n\r\n\t\tthis.panels = this.headers.next().filter( \":not(.ui-accordion-content-active)\" ).hide();\r\n\t\tthis._addClass( this.panels, \"ui-accordion-content\", \"ui-helper-reset ui-widget-content\" );\r\n\r\n\t\t// Avoid memory leaks (#10056)\r\n\t\tif ( prevPanels ) {\r\n\t\t\tthis._off( prevHeaders.not( this.headers ) );\r\n\t\t\tthis._off( prevPanels.not( this.panels ) );\r\n\t\t}\r\n\t},\r\n\r\n\t_refresh: function() {\r\n\t\tvar maxHeight,\r\n\t\t\toptions = this.options,\r\n\t\t\theightStyle = options.heightStyle,\r\n\t\t\tparent = this.element.parent();\r\n\r\n\t\tthis.active = this._findActive( options.active );\r\n\t\tthis._addClass( this.active, \"ui-accordion-header-active\", \"ui-state-active\" )\r\n\t\t\t._removeClass( this.active, \"ui-accordion-header-collapsed\" );\r\n\t\tthis._addClass( this.active.next(), \"ui-accordion-content-active\" );\r\n\t\tthis.active.next().show();\r\n\r\n\t\tthis.headers\r\n\t\t\t.attr( \"role\", \"tab\" )\r\n\t\t\t.each( function() {\r\n\t\t\t\tvar header = $( this ),\r\n\t\t\t\t\theaderId = header.uniqueId().attr( \"id\" ),\r\n\t\t\t\t\tpanel = header.next(),\r\n\t\t\t\t\tpanelId = panel.uniqueId().attr( \"id\" );\r\n\t\t\t\theader.attr( \"aria-controls\", panelId );\r\n\t\t\t\tpanel.attr( \"aria-labelledby\", headerId );\r\n\t\t\t} )\r\n\t\t\t.next()\r\n\t\t\t\t.attr( \"role\", \"tabpanel\" );\r\n\r\n\t\tthis.headers\r\n\t\t\t.not( this.active )\r\n\t\t\t\t.attr( {\r\n\t\t\t\t\t\"aria-selected\": \"false\",\r\n\t\t\t\t\t\"aria-expanded\": \"false\",\r\n\t\t\t\t\ttabIndex: -1\r\n\t\t\t\t} )\r\n\t\t\t\t.next()\r\n\t\t\t\t\t.attr( {\r\n\t\t\t\t\t\t\"aria-hidden\": \"true\"\r\n\t\t\t\t\t} )\r\n\t\t\t\t\t.hide();\r\n\r\n\t\t// Make sure at least one header is in the tab order\r\n\t\tif ( !this.active.length ) {\r\n\t\t\tthis.headers.eq( 0 ).attr( \"tabIndex\", 0 );\r\n\t\t} else {\r\n\t\t\tthis.active.attr( {\r\n\t\t\t\t\"aria-selected\": \"true\",\r\n\t\t\t\t\"aria-expanded\": \"true\",\r\n\t\t\t\ttabIndex: 0\r\n\t\t\t} )\r\n\t\t\t\t.next()\r\n\t\t\t\t\t.attr( {\r\n\t\t\t\t\t\t\"aria-hidden\": \"false\"\r\n\t\t\t\t\t} );\r\n\t\t}\r\n\r\n\t\tthis._createIcons();\r\n\r\n\t\tthis._setupEvents( options.event );\r\n\r\n\t\tif ( heightStyle === \"fill\" ) {\r\n\t\t\tmaxHeight = parent.height();\r\n\t\t\tthis.element.siblings( \":visible\" ).each( function() {\r\n\t\t\t\tvar elem = $( this ),\r\n\t\t\t\t\tposition = elem.css( \"position\" );\r\n\r\n\t\t\t\tif ( position === \"absolute\" || position === \"fixed\" ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tmaxHeight -= elem.outerHeight( true );\r\n\t\t\t} );\r\n\r\n\t\t\tthis.headers.each( function() {\r\n\t\t\t\tmaxHeight -= $( this ).outerHeight( true );\r\n\t\t\t} );\r\n\r\n\t\t\tthis.headers.next()\r\n\t\t\t\t.each( function() {\r\n\t\t\t\t\t$( this ).height( Math.max( 0, maxHeight -\r\n\t\t\t\t\t\t$( this ).innerHeight() + $( this ).height() ) );\r\n\t\t\t\t} )\r\n\t\t\t\t.css( \"overflow\", \"auto\" );\r\n\t\t} else if ( heightStyle === \"auto\" ) {\r\n\t\t\tmaxHeight = 0;\r\n\t\t\tthis.headers.next()\r\n\t\t\t\t.each( function() {\r\n\t\t\t\t\tvar isVisible = $( this ).is( \":visible\" );\r\n\t\t\t\t\tif ( !isVisible ) {\r\n\t\t\t\t\t\t$( this ).show();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmaxHeight = Math.max( maxHeight, $( this ).css( \"height\", \"\" ).height() );\r\n\t\t\t\t\tif ( !isVisible ) {\r\n\t\t\t\t\t\t$( this ).hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t} )\r\n\t\t\t\t.height( maxHeight );\r\n\t\t}\r\n\t},\r\n\r\n\t_activate: function( index ) {\r\n\t\tvar active = this._findActive( index )[ 0 ];\r\n\r\n\t\t// Trying to activate the already active panel\r\n\t\tif ( active === this.active[ 0 ] ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Trying to collapse, simulate a click on the currently active header\r\n\t\tactive = active || this.active[ 0 ];\r\n\r\n\t\tthis._eventHandler( {\r\n\t\t\ttarget: active,\r\n\t\t\tcurrentTarget: active,\r\n\t\t\tpreventDefault: $.noop\r\n\t\t} );\r\n\t},\r\n\r\n\t_findActive: function( selector ) {\r\n\t\treturn typeof selector === \"number\" ? this.headers.eq( selector ) : $();\r\n\t},\r\n\r\n\t_setupEvents: function( event ) {\r\n\t\tvar events = {\r\n\t\t\tkeydown: \"_keydown\"\r\n\t\t};\r\n\t\tif ( event ) {\r\n\t\t\t$.each( event.split( \" \" ), function( index, eventName ) {\r\n\t\t\t\tevents[ eventName ] = \"_eventHandler\";\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\tthis._off( this.headers.add( this.headers.next() ) );\r\n\t\tthis._on( this.headers, events );\r\n\t\tthis._on( this.headers.next(), { keydown: \"_panelKeyDown\" } );\r\n\t\tthis._hoverable( this.headers );\r\n\t\tthis._focusable( this.headers );\r\n\t},\r\n\r\n\t_eventHandler: function( event ) {\r\n\t\tvar activeChildren, clickedChildren,\r\n\t\t\toptions = this.options,\r\n\t\t\tactive = this.active,\r\n\t\t\tclicked = $( event.currentTarget ),\r\n\t\t\tclickedIsActive = clicked[ 0 ] === active[ 0 ],\r\n\t\t\tcollapsing = clickedIsActive && options.collapsible,\r\n\t\t\ttoShow = collapsing ? $() : clicked.next(),\r\n\t\t\ttoHide = active.next(),\r\n\t\t\teventData = {\r\n\t\t\t\toldHeader: active,\r\n\t\t\t\toldPanel: toHide,\r\n\t\t\t\tnewHeader: collapsing ? $() : clicked,\r\n\t\t\t\tnewPanel: toShow\r\n\t\t\t};\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tif (\r\n\r\n\t\t\t\t// click on active header, but not collapsible\r\n\t\t\t\t( clickedIsActive && !options.collapsible ) ||\r\n\r\n\t\t\t\t// allow canceling activation\r\n\t\t\t\t( this._trigger( \"beforeActivate\", event, eventData ) === false ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\toptions.active = collapsing ? false : this.headers.index( clicked );\r\n\r\n\t\t// When the call to ._toggle() comes after the class changes\r\n\t\t// it causes a very odd bug in IE 8 (see #6720)\r\n\t\tthis.active = clickedIsActive ? $() : clicked;\r\n\t\tthis._toggle( eventData );\r\n\r\n\t\t// Switch classes\r\n\t\t// corner classes on the previously active header stay after the animation\r\n\t\tthis._removeClass( active, \"ui-accordion-header-active\", \"ui-state-active\" );\r\n\t\tif ( options.icons ) {\r\n\t\t\tactiveChildren = active.children( \".ui-accordion-header-icon\" );\r\n\t\t\tthis._removeClass( activeChildren, null, options.icons.activeHeader )\r\n\t\t\t\t._addClass( activeChildren, null, options.icons.header );\r\n\t\t}\r\n\r\n\t\tif ( !clickedIsActive ) {\r\n\t\t\tthis._removeClass( clicked, \"ui-accordion-header-collapsed\" )\r\n\t\t\t\t._addClass( clicked, \"ui-accordion-header-active\", \"ui-state-active\" );\r\n\t\t\tif ( options.icons ) {\r\n\t\t\t\tclickedChildren = clicked.children( \".ui-accordion-header-icon\" );\r\n\t\t\t\tthis._removeClass( clickedChildren, null, options.icons.header )\r\n\t\t\t\t\t._addClass( clickedChildren, null, options.icons.activeHeader );\r\n\t\t\t}\r\n\r\n\t\t\tthis._addClass( clicked.next(), \"ui-accordion-content-active\" );\r\n\t\t}\r\n\t},\r\n\r\n\t_toggle: function( data ) {\r\n\t\tvar toShow = data.newPanel,\r\n\t\t\ttoHide = this.prevShow.length ? this.prevShow : data.oldPanel;\r\n\r\n\t\t// Handle activating a panel during the animation for another activation\r\n\t\tthis.prevShow.add( this.prevHide ).stop( true, true );\r\n\t\tthis.prevShow = toShow;\r\n\t\tthis.prevHide = toHide;\r\n\r\n\t\tif ( this.options.animate ) {\r\n\t\t\tthis._animate( toShow, toHide, data );\r\n\t\t} else {\r\n\t\t\ttoHide.hide();\r\n\t\t\ttoShow.show();\r\n\t\t\tthis._toggleComplete( data );\r\n\t\t}\r\n\r\n\t\ttoHide.attr( {\r\n\t\t\t\"aria-hidden\": \"true\"\r\n\t\t} );\r\n\t\ttoHide.prev().attr( {\r\n\t\t\t\"aria-selected\": \"false\",\r\n\t\t\t\"aria-expanded\": \"false\"\r\n\t\t} );\r\n\r\n\t\t// if we're switching panels, remove the old header from the tab order\r\n\t\t// if we're opening from collapsed state, remove the previous header from the tab order\r\n\t\t// if we're collapsing, then keep the collapsing header in the tab order\r\n\t\tif ( toShow.length && toHide.length ) {\r\n\t\t\ttoHide.prev().attr( {\r\n\t\t\t\t\"tabIndex\": -1,\r\n\t\t\t\t\"aria-expanded\": \"false\"\r\n\t\t\t} );\r\n\t\t} else if ( toShow.length ) {\r\n\t\t\tthis.headers.filter( function() {\r\n\t\t\t\treturn parseInt( $( this ).attr( \"tabIndex\" ), 10 ) === 0;\r\n\t\t\t} )\r\n\t\t\t\t.attr( \"tabIndex\", -1 );\r\n\t\t}\r\n\r\n\t\ttoShow\r\n\t\t\t.attr( \"aria-hidden\", \"false\" )\r\n\t\t\t.prev()\r\n\t\t\t\t.attr( {\r\n\t\t\t\t\t\"aria-selected\": \"true\",\r\n\t\t\t\t\t\"aria-expanded\": \"true\",\r\n\t\t\t\t\ttabIndex: 0\r\n\t\t\t\t} );\r\n\t},\r\n\r\n\t_animate: function( toShow, toHide, data ) {\r\n\t\tvar total, easing, duration,\r\n\t\t\tthat = this,\r\n\t\t\tadjust = 0,\r\n\t\t\tboxSizing = toShow.css( \"box-sizing\" ),\r\n\t\t\tdown = toShow.length &&\r\n\t\t\t\t( !toHide.length || ( toShow.index() < toHide.index() ) ),\r\n\t\t\tanimate = this.options.animate || {},\r\n\t\t\toptions = down && animate.down || animate,\r\n\t\t\tcomplete = function() {\r\n\t\t\t\tthat._toggleComplete( data );\r\n\t\t\t};\r\n\r\n\t\tif ( typeof options === \"number\" ) {\r\n\t\t\tduration = options;\r\n\t\t}\r\n\t\tif ( typeof options === \"string\" ) {\r\n\t\t\teasing = options;\r\n\t\t}\r\n\r\n\t\t// fall back from options to animation in case of partial down settings\r\n\t\teasing = easing || options.easing || animate.easing;\r\n\t\tduration = duration || options.duration || animate.duration;\r\n\r\n\t\tif ( !toHide.length ) {\r\n\t\t\treturn toShow.animate( this.showProps, duration, easing, complete );\r\n\t\t}\r\n\t\tif ( !toShow.length ) {\r\n\t\t\treturn toHide.animate( this.hideProps, duration, easing, complete );\r\n\t\t}\r\n\r\n\t\ttoHide.slideUp();\r\n\t\ttoShow.slideDown(complete);\r\n\t\t/*\r\n\t\ttotal = toShow.show().outerHeight();\r\n\t\ttoHide.animate( this.hideProps, {\r\n\t\t\tduration: duration,\r\n\t\t\teasing: easing,\r\n\t\t\tstep: function( now, fx ) {\r\n\t\t\t\tfx.now = Math.round( now );\r\n\t\t\t}\r\n\t\t} );\r\n\t\ttoShow\r\n\t\t\t.hide()\r\n\t\t\t.animate( this.showProps, {\r\n\t\t\t\tduration: duration,\r\n\t\t\t\teasing: easing,\r\n\t\t\t\tcomplete: complete,\r\n\t\t\t\tstep: function( now, fx ) {\r\n\t\t\t\t\tfx.now = Math.round( now );\r\n\t\t\t\t\tif ( fx.prop !== \"height\" ) {\r\n\t\t\t\t\t\tif ( boxSizing === \"content-box\" ) {\r\n\t\t\t\t\t\t\tadjust += fx.now;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if ( that.options.heightStyle !== \"content\" ) {\r\n\t\t\t\t\t\tfx.now = Math.round( total - toHide.outerHeight() - adjust );\r\n\t\t\t\t\t\tadjust = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t*/\r\n\t},\r\n\r\n\t_toggleComplete: function( data ) {\r\n\t\tvar toHide = data.oldPanel,\r\n\t\t\tprev = toHide.prev();\r\n\r\n\t\tthis._removeClass( toHide, \"ui-accordion-content-active\" );\r\n\t\tthis._removeClass( prev, \"ui-accordion-header-active\" )\r\n\t\t\t._addClass( prev, \"ui-accordion-header-collapsed\" );\r\n\r\n\t\t// Work around for rendering bug in IE (#5421)\r\n\t\tif ( toHide.length ) {\r\n\t\t\ttoHide.parent()[ 0 ].className = toHide.parent()[ 0 ].className;\r\n\t\t}\r\n\t\tthis._trigger( \"activate\", null, data );\r\n\t}\r\n} );\r\n\r\n});\r\n"]}