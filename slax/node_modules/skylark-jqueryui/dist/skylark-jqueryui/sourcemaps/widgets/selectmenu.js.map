{"version":3,"sources":["widgets/selectmenu.js"],"names":["define","$","widget","ui","formResetMixin","version","defaultElement","options","appendTo","classes","ui-selectmenu-button-open","ui-selectmenu-button-closed","disabled","icons","button","position","my","at","collision","width","change","close","focus","open","select","_create","selectmenuId","this","element","uniqueId","attr","ids","menu","_drawButton","_drawMenu","_bindFormResetHandler","_rendered","menuItems","icon","that","item","_parseOption","find","selectedIndex","labels","_on","click","event","preventDefault","hide","tabindex","id","role","aria-expanded","aria-autocomplete","aria-owns","aria-haspopup","title","insertAfter","_addClass","buttonItem","_renderButtonItem","_resizeButton","_buttonEvents","one","_refreshMenu","aria-hidden","aria-labelledby","menuWrap","append","_appendTo","menuInstance","ui-menu","_setSelection","_select","data","focusIndex","index","_trigger","isOpen","eq","_off","_closeOnDocumentClick","_isDivider","refresh","replaceWith","_getSelectedItem","empty","_parseOptions","_renderMenu","items","not","length","_setAria","_setOption","prop","_removeClass","_toggleAttr","_resizeMenu","_position","document","_documentClick","extend","of","range","menuWidget","_setText","label","ul","currentOptgroup","each","li","optgroup","text","parent","_renderItemData","_renderItem","wrapper","value","html","_move","direction","next","filter","_toggle","selection","window","getSelection","removeAllRanges","addRange","mousedown","target","closest","escapeSelector","rangeCount","getRangeAt","createRange","keydown","keyCode","TAB","ESCAPE","ENTER","_selectFocusedItem","UP","altKey","DOWN","SPACE","LEFT","RIGHT","HOME","PAGE_UP","END","PAGE_DOWN","trigger","hasClass","oldIndex","aria-activedescendant","key","_super","_setOptionDisabled","option","_toggleClass","jquery","nodeType","body","show","outerWidth","css","Math","max","_getCreateOptions","hidden","push","val","_destroy","_unbindFormResetHandler","remove","removeUniqueId"],"mappings":"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","file":"../../widgets/selectmenu.js","sourcesContent":["define( [\r\n\t\"skylark-jquery\",\r\n\t\"./menu\",\r\n\t\"../escape-selector\",\r\n\t\"../form-reset-mixin\",\r\n\t\"../keycode\",\r\n\t\"../labels\",\r\n\t\"../position\",\r\n\t\"../unique-id\",\r\n\t\"../version\",\r\n\t\"../widget\"\r\n],function( $ ) {\r\n\r\n\treturn $.widget( \"ui.selectmenu\", [ $.ui.formResetMixin, {\r\n\t\tversion: \"@VERSION\",\r\n\t\tdefaultElement: \"<select>\",\r\n\t\toptions: {\r\n\t\t\tappendTo: null,\r\n\t\t\tclasses: {\r\n\t\t\t\t\"ui-selectmenu-button-open\": \"ui-corner-top\",\r\n\t\t\t\t\"ui-selectmenu-button-closed\": \"ui-corner-all\"\r\n\t\t\t},\r\n\t\t\tdisabled: null,\r\n\t\t\ticons: {\r\n\t\t\t\tbutton: \"ui-icon-triangle-1-s\"\r\n\t\t\t},\r\n\t\t\tposition: {\r\n\t\t\t\tmy: \"left top\",\r\n\t\t\t\tat: \"left bottom\",\r\n\t\t\t\tcollision: \"none\"\r\n\t\t\t},\r\n\t\t\twidth: false,\r\n\r\n\t\t\t// Callbacks\r\n\t\t\tchange: null,\r\n\t\t\tclose: null,\r\n\t\t\tfocus: null,\r\n\t\t\topen: null,\r\n\t\t\tselect: null\r\n\t\t},\r\n\r\n\t\t_create: function() {\r\n\t\t\tvar selectmenuId = this.element.uniqueId().attr( \"id\" );\r\n\t\t\tthis.ids = {\r\n\t\t\t\telement: selectmenuId,\r\n\t\t\t\tbutton: selectmenuId + \"-button\",\r\n\t\t\t\tmenu: selectmenuId + \"-menu\"\r\n\t\t\t};\r\n\r\n\t\t\tthis._drawButton();\r\n\t\t\tthis._drawMenu();\r\n\t\t\tthis._bindFormResetHandler();\r\n\r\n\t\t\tthis._rendered = false;\r\n\t\t\tthis.menuItems = $();\r\n\t\t},\r\n\r\n\t\t_drawButton: function() {\r\n\t\t\tvar icon,\r\n\t\t\t\tthat = this,\r\n\t\t\t\titem = this._parseOption(\r\n\t\t\t\t\tthis.element.find( \"option:selected\" ),\r\n\t\t\t\t\tthis.element[ 0 ].selectedIndex\r\n\t\t\t\t);\r\n\r\n\t\t\t// Associate existing label with the new button\r\n\t\t\tthis.labels = this.element.labels().attr( \"for\", this.ids.button );\r\n\t\t\tthis._on( this.labels, {\r\n\t\t\t\tclick: function( event ) {\r\n\t\t\t\t\tthis.button.focus();\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t\t// Hide original select element\r\n\t\t\tthis.element.hide();\r\n\r\n\t\t\t// Create button\r\n\t\t\tthis.button = $( \"<span>\", {\r\n\t\t\t\ttabindex: this.options.disabled ? -1 : 0,\r\n\t\t\t\tid: this.ids.button,\r\n\t\t\t\trole: \"combobox\",\r\n\t\t\t\t\"aria-expanded\": \"false\",\r\n\t\t\t\t\"aria-autocomplete\": \"list\",\r\n\t\t\t\t\"aria-owns\": this.ids.menu,\r\n\t\t\t\t\"aria-haspopup\": \"true\",\r\n\t\t\t\ttitle: this.element.attr( \"title\" )\r\n\t\t\t} )\r\n\t\t\t\t.insertAfter( this.element );\r\n\r\n\t\t\tthis._addClass( this.button, \"ui-selectmenu-button ui-selectmenu-button-closed\",\r\n\t\t\t\t\"ui-button ui-widget\" );\r\n\r\n\t\t\ticon = $( \"<span>\" ).appendTo( this.button );\r\n\t\t\tthis._addClass( icon, \"ui-selectmenu-icon\", \"ui-icon \" + this.options.icons.button );\r\n\t\t\tthis.buttonItem = this._renderButtonItem( item )\r\n\t\t\t\t.appendTo( this.button );\r\n\r\n\t\t\tif ( this.options.width !== false ) {\r\n\t\t\t\tthis._resizeButton();\r\n\t\t\t}\r\n\r\n\t\t\tthis._on( this.button, this._buttonEvents );\r\n\t\t\tthis.button.one( \"focusin\", function() {\r\n\r\n\t\t\t\t// Delay rendering the menu items until the button receives focus.\r\n\t\t\t\t// The menu may have already been rendered via a programmatic open.\r\n\t\t\t\tif ( !that._rendered ) {\r\n\t\t\t\t\tthat._refreshMenu();\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\t_drawMenu: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Create menu\r\n\t\t\tthis.menu = $( \"<ul>\", {\r\n\t\t\t\t\"aria-hidden\": \"true\",\r\n\t\t\t\t\"aria-labelledby\": this.ids.button,\r\n\t\t\t\tid: this.ids.menu\r\n\t\t\t} );\r\n\r\n\t\t\t// Wrap menu\r\n\t\t\tthis.menuWrap = $( \"<div>\" ).append( this.menu );\r\n\t\t\tthis._addClass( this.menuWrap, \"ui-selectmenu-menu\", \"ui-front\" );\r\n\t\t\tthis.menuWrap.appendTo( this._appendTo() );\r\n\r\n\t\t\t// Initialize menu widget\r\n\t\t\tthis.menuInstance = this.menu\r\n\t\t\t\t.menu( {\r\n\t\t\t\t\tclasses: {\r\n\t\t\t\t\t\t\"ui-menu\": \"ui-corner-bottom\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\trole: \"listbox\",\r\n\t\t\t\t\tselect: function( event, ui ) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t\t\t// Support: IE8\r\n\t\t\t\t\t\t// If the item was selected via a click, the text selection\r\n\t\t\t\t\t\t// will be destroyed in IE\r\n\t\t\t\t\t\tthat._setSelection();\r\n\r\n\t\t\t\t\t\tthat._select( ui.item.data( \"ui-selectmenu-item\" ), event );\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfocus: function( event, ui ) {\r\n\t\t\t\t\t\tvar item = ui.item.data( \"ui-selectmenu-item\" );\r\n\r\n\t\t\t\t\t\t// Prevent inital focus from firing and check if its a newly focused item\r\n\t\t\t\t\t\tif ( that.focusIndex != null && item.index !== that.focusIndex ) {\r\n\t\t\t\t\t\t\tthat._trigger( \"focus\", event, { item: item } );\r\n\t\t\t\t\t\t\tif ( !that.isOpen ) {\r\n\t\t\t\t\t\t\t\tthat._select( item, event );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.focusIndex = item.index;\r\n\r\n\t\t\t\t\t\tthat.button.attr( \"aria-activedescendant\",\r\n\t\t\t\t\t\t\tthat.menuItems.eq( item.index ).attr( \"id\" ) );\r\n\t\t\t\t\t}\r\n\t\t\t\t} )\r\n\t\t\t\t.menu( \"instance\" );\r\n\r\n\t\t\t// Don't close the menu on mouseleave\r\n\t\t\tthis.menuInstance._off( this.menu, \"mouseleave\" );\r\n\r\n\t\t\t// Cancel the menu's collapseAll on document click\r\n\t\t\tthis.menuInstance._closeOnDocumentClick = function() {\r\n\t\t\t\treturn false;\r\n\t\t\t};\r\n\r\n\t\t\t// Selects often contain empty items, but never contain dividers\r\n\t\t\tthis.menuInstance._isDivider = function() {\r\n\t\t\t\treturn false;\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\trefresh: function() {\r\n\t\t\tthis._refreshMenu();\r\n\t\t\tthis.buttonItem.replaceWith(\r\n\t\t\t\tthis.buttonItem = this._renderButtonItem(\r\n\r\n\t\t\t\t\t// Fall back to an empty object in case there are no options\r\n\t\t\t\t\tthis._getSelectedItem().data( \"ui-selectmenu-item\" ) || {}\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\tif ( this.options.width === null ) {\r\n\t\t\t\tthis._resizeButton();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_refreshMenu: function() {\r\n\t\t\tvar item,\r\n\t\t\t\toptions = this.element.find( \"option\" );\r\n\r\n\t\t\tthis.menu.empty();\r\n\r\n\t\t\tthis._parseOptions( options );\r\n\t\t\tthis._renderMenu( this.menu, this.items );\r\n\r\n\t\t\tthis.menuInstance.refresh();\r\n\t\t\tthis.menuItems = this.menu.find( \"li\" )\r\n\t\t\t\t.not( \".ui-selectmenu-optgroup\" )\r\n\t\t\t\t\t.find( \".ui-menu-item-wrapper\" );\r\n\r\n\t\t\tthis._rendered = true;\r\n\r\n\t\t\tif ( !options.length ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\titem = this._getSelectedItem();\r\n\r\n\t\t\t// Update the menu to have the correct item focused\r\n\t\t\tthis.menuInstance.focus( null, item );\r\n\t\t\tthis._setAria( item.data( \"ui-selectmenu-item\" ) );\r\n\r\n\t\t\t// Set disabled state\r\n\t\t\tthis._setOption( \"disabled\", this.element.prop( \"disabled\" ) );\r\n\t\t},\r\n\r\n\t\topen: function( event ) {\r\n\t\t\tif ( this.options.disabled ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// If this is the first time the menu is being opened, render the items\r\n\t\t\tif ( !this._rendered ) {\r\n\t\t\t\tthis._refreshMenu();\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Menu clears focus on close, reset focus to selected item\r\n\t\t\t\tthis._removeClass( this.menu.find( \".ui-state-active\" ), null, \"ui-state-active\" );\r\n\t\t\t\tthis.menuInstance.focus( null, this._getSelectedItem() );\r\n\t\t\t}\r\n\r\n\t\t\t// If there are no options, don't open the menu\r\n\t\t\tif ( !this.menuItems.length ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.isOpen = true;\r\n\t\t\tthis._toggleAttr();\r\n\t\t\tthis._resizeMenu();\r\n\t\t\tthis._position();\r\n\r\n\t\t\tthis._on( this.document, this._documentClick );\r\n\r\n\t\t\tthis._trigger( \"open\", event );\r\n\t\t},\r\n\r\n\t\t_position: function() {\r\n\t\t\tthis.menuWrap.position( $.extend( { of: this.button }, this.options.position ) );\r\n\t\t},\r\n\r\n\t\tclose: function( event ) {\r\n\t\t\tif ( !this.isOpen ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.isOpen = false;\r\n\t\t\tthis._toggleAttr();\r\n\r\n\t\t\tthis.range = null;\r\n\t\t\tthis._off( this.document );\r\n\r\n\t\t\tthis._trigger( \"close\", event );\r\n\t\t},\r\n\r\n\t\twidget: function() {\r\n\t\t\treturn this.button;\r\n\t\t},\r\n\r\n\t\tmenuWidget: function() {\r\n\t\t\treturn this.menu;\r\n\t\t},\r\n\r\n\t\t_renderButtonItem: function( item ) {\r\n\t\t\tvar buttonItem = $( \"<span>\" );\r\n\r\n\t\t\tthis._setText( buttonItem, item.label );\r\n\t\t\tthis._addClass( buttonItem, \"ui-selectmenu-text\" );\r\n\r\n\t\t\treturn buttonItem;\r\n\t\t},\r\n\r\n\t\t_renderMenu: function( ul, items ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tcurrentOptgroup = \"\";\r\n\r\n\t\t\t$.each( items, function( index, item ) {\r\n\t\t\t\tvar li;\r\n\r\n\t\t\t\tif ( item.optgroup !== currentOptgroup ) {\r\n\t\t\t\t\tli = $( \"<li>\", {\r\n\t\t\t\t\t\ttext: item.optgroup\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tthat._addClass( li, \"ui-selectmenu-optgroup\", \"ui-menu-divider\" +\r\n\t\t\t\t\t\t( item.element.parent( \"optgroup\" ).prop( \"disabled\" ) ?\r\n\t\t\t\t\t\t\t\" ui-state-disabled\" :\r\n\t\t\t\t\t\t\t\"\" ) );\r\n\r\n\t\t\t\t\tli.appendTo( ul );\r\n\r\n\t\t\t\t\tcurrentOptgroup = item.optgroup;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat._renderItemData( ul, item );\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\t_renderItemData: function( ul, item ) {\r\n\t\t\treturn this._renderItem( ul, item ).data( \"ui-selectmenu-item\", item );\r\n\t\t},\r\n\r\n\t\t_renderItem: function( ul, item ) {\r\n\t\t\tvar li = $( \"<li>\" ),\r\n\t\t\t\twrapper = $( \"<div>\", {\r\n\t\t\t\t\ttitle: item.element.attr( \"title\" )\r\n\t\t\t\t} );\r\n\r\n\t\t\tif ( item.disabled ) {\r\n\t\t\t\tthis._addClass( li, null, \"ui-state-disabled\" );\r\n\t\t\t}\r\n\t\t\tthis._setText( wrapper, item.label );\r\n\r\n\t\t\treturn li.append( wrapper ).appendTo( ul );\r\n\t\t},\r\n\r\n\t\t_setText: function( element, value ) {\r\n\t\t\tif ( value ) {\r\n\t\t\t\telement.text( value );\r\n\t\t\t} else {\r\n\t\t\t\telement.html( \"&#160;\" );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_move: function( direction, event ) {\r\n\t\t\tvar item, next,\r\n\t\t\t\tfilter = \".ui-menu-item\";\r\n\r\n\t\t\tif ( this.isOpen ) {\r\n\t\t\t\titem = this.menuItems.eq( this.focusIndex ).parent( \"li\" );\r\n\t\t\t} else {\r\n\t\t\t\titem = this.menuItems.eq( this.element[ 0 ].selectedIndex ).parent( \"li\" );\r\n\t\t\t\tfilter += \":not(.ui-state-disabled)\";\r\n\t\t\t}\r\n\r\n\t\t\tif ( direction === \"first\" || direction === \"last\" ) {\r\n\t\t\t\tnext = item[ direction === \"first\" ? \"prevAll\" : \"nextAll\" ]( filter ).eq( -1 );\r\n\t\t\t} else {\r\n\t\t\t\tnext = item[ direction + \"All\" ]( filter ).eq( 0 );\r\n\t\t\t}\r\n\r\n\t\t\tif ( next.length ) {\r\n\t\t\t\tthis.menuInstance.focus( event, next );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getSelectedItem: function() {\r\n\t\t\treturn this.menuItems.eq( this.element[ 0 ].selectedIndex ).parent( \"li\" );\r\n\t\t},\r\n\r\n\t\t_toggle: function( event ) {\r\n\t\t\tthis[ this.isOpen ? \"close\" : \"open\" ]( event );\r\n\t\t},\r\n\r\n\t\t_setSelection: function() {\r\n\t\t\tvar selection;\r\n\r\n\t\t\tif ( !this.range ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( window.getSelection ) {\r\n\t\t\t\tselection = window.getSelection();\r\n\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\tselection.addRange( this.range );\r\n\r\n\t\t\t// Support: IE8\r\n\t\t\t} else {\r\n\t\t\t\tthis.range.select();\r\n\t\t\t}\r\n\r\n\t\t\t// Support: IE\r\n\t\t\t// Setting the text selection kills the button focus in IE, but\r\n\t\t\t// restoring the focus doesn't kill the selection.\r\n\t\t\tthis.button.focus();\r\n\t\t},\r\n\r\n\t\t_documentClick: {\r\n\t\t\tmousedown: function( event ) {\r\n\t\t\t\tif ( !this.isOpen ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !$( event.target ).closest( \".ui-selectmenu-menu, #\" +\r\n\t\t\t\t\t\t$.ui.escapeSelector( this.ids.button ) ).length ) {\r\n\t\t\t\t\tthis.close( event );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_buttonEvents: {\r\n\r\n\t\t\t// Prevent text selection from being reset when interacting with the selectmenu (#10144)\r\n\t\t\tmousedown: function() {\r\n\t\t\t\tvar selection;\r\n\r\n\t\t\t\tif ( window.getSelection ) {\r\n\t\t\t\t\tselection = window.getSelection();\r\n\t\t\t\t\tif ( selection.rangeCount ) {\r\n\t\t\t\t\t\tthis.range = selection.getRangeAt( 0 );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t// Support: IE8\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.range = document.selection.createRange();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tclick: function( event ) {\r\n\t\t\t\tthis._setSelection();\r\n\t\t\t\tthis._toggle( event );\r\n\t\t\t},\r\n\r\n\t\t\tkeydown: function( event ) {\r\n\t\t\t\tvar preventDefault = true;\r\n\t\t\t\tswitch ( event.keyCode ) {\r\n\t\t\t\tcase $.ui.keyCode.TAB:\r\n\t\t\t\tcase $.ui.keyCode.ESCAPE:\r\n\t\t\t\t\tthis.close( event );\r\n\t\t\t\t\tpreventDefault = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.ENTER:\r\n\t\t\t\t\tif ( this.isOpen ) {\r\n\t\t\t\t\t\tthis._selectFocusedItem( event );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.UP:\r\n\t\t\t\t\tif ( event.altKey ) {\r\n\t\t\t\t\t\tthis._toggle( event );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis._move( \"prev\", event );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.DOWN:\r\n\t\t\t\t\tif ( event.altKey ) {\r\n\t\t\t\t\t\tthis._toggle( event );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis._move( \"next\", event );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.SPACE:\r\n\t\t\t\t\tif ( this.isOpen ) {\r\n\t\t\t\t\t\tthis._selectFocusedItem( event );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis._toggle( event );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.LEFT:\r\n\t\t\t\t\tthis._move( \"prev\", event );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.RIGHT:\r\n\t\t\t\t\tthis._move( \"next\", event );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.HOME:\r\n\t\t\t\tcase $.ui.keyCode.PAGE_UP:\r\n\t\t\t\t\tthis._move( \"first\", event );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.END:\r\n\t\t\t\tcase $.ui.keyCode.PAGE_DOWN:\r\n\t\t\t\t\tthis._move( \"last\", event );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthis.menu.trigger( event );\r\n\t\t\t\t\tpreventDefault = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( preventDefault ) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_selectFocusedItem: function( event ) {\r\n\t\t\tvar item = this.menuItems.eq( this.focusIndex ).parent( \"li\" );\r\n\t\t\tif ( !item.hasClass( \"ui-state-disabled\" ) ) {\r\n\t\t\t\tthis._select( item.data( \"ui-selectmenu-item\" ), event );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_select: function( item, event ) {\r\n\t\t\tvar oldIndex = this.element[ 0 ].selectedIndex;\r\n\r\n\t\t\t// Change native select element\r\n\t\t\tthis.element[ 0 ].selectedIndex = item.index;\r\n\t\t\tthis.buttonItem.replaceWith( this.buttonItem = this._renderButtonItem( item ) );\r\n\t\t\tthis._setAria( item );\r\n\t\t\tthis._trigger( \"select\", event, { item: item } );\r\n\r\n\t\t\tif ( item.index !== oldIndex ) {\r\n\t\t\t\tthis._trigger( \"change\", event, { item: item } );\r\n\t\t\t}\r\n\r\n\t\t\tthis.close( event );\r\n\t\t},\r\n\r\n\t\t_setAria: function( item ) {\r\n\t\t\tvar id = this.menuItems.eq( item.index ).attr( \"id\" );\r\n\r\n\t\t\tthis.button.attr( {\r\n\t\t\t\t\"aria-labelledby\": id,\r\n\t\t\t\t\"aria-activedescendant\": id\r\n\t\t\t} );\r\n\t\t\tthis.menu.attr( \"aria-activedescendant\", id );\r\n\t\t},\r\n\r\n\t\t_setOption: function( key, value ) {\r\n\t\t\tif ( key === \"icons\" ) {\r\n\t\t\t\tvar icon = this.button.find( \"span.ui-icon\" );\r\n\t\t\t\tthis._removeClass( icon, null, this.options.icons.button )\r\n\t\t\t\t\t._addClass( icon, null, value.button );\r\n\t\t\t}\r\n\r\n\t\t\tthis._super( key, value );\r\n\r\n\t\t\tif ( key === \"appendTo\" ) {\r\n\t\t\t\tthis.menuWrap.appendTo( this._appendTo() );\r\n\t\t\t}\r\n\r\n\t\t\tif ( key === \"width\" ) {\r\n\t\t\t\tthis._resizeButton();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setOptionDisabled: function( value ) {\r\n\t\t\tthis._super( value );\r\n\r\n\t\t\tthis.menuInstance.option( \"disabled\", value );\r\n\t\t\tthis.button.attr( \"aria-disabled\", value );\r\n\t\t\tthis._toggleClass( this.button, null, \"ui-state-disabled\", value );\r\n\r\n\t\t\tthis.element.prop( \"disabled\", value );\r\n\t\t\tif ( value ) {\r\n\t\t\t\tthis.button.attr( \"tabindex\", -1 );\r\n\t\t\t\tthis.close();\r\n\t\t\t} else {\r\n\t\t\t\tthis.button.attr( \"tabindex\", 0 );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_appendTo: function() {\r\n\t\t\tvar element = this.options.appendTo;\r\n\r\n\t\t\tif ( element ) {\r\n\t\t\t\telement = element.jquery || element.nodeType ?\r\n\t\t\t\t\t$( element ) :\r\n\t\t\t\t\tthis.document.find( element ).eq( 0 );\r\n\t\t\t}\r\n\r\n\t\t\tif ( !element || !element[ 0 ] ) {\r\n\t\t\t\telement = this.element.closest( \".ui-front, dialog\" );\r\n\t\t\t}\r\n\r\n\t\t\tif ( !element.length ) {\r\n\t\t\t\telement = this.document[ 0 ].body;\r\n\t\t\t}\r\n\r\n\t\t\treturn element;\r\n\t\t},\r\n\r\n\t\t_toggleAttr: function() {\r\n\t\t\tthis.button.attr( \"aria-expanded\", this.isOpen );\r\n\r\n\t\t\t// We can't use two _toggleClass() calls here, because we need to make sure\r\n\t\t\t// we always remove classes first and add them second, otherwise if both classes have the\r\n\t\t\t// same theme class, it will be removed after we add it.\r\n\t\t\tthis._removeClass( this.button, \"ui-selectmenu-button-\" +\r\n\t\t\t\t( this.isOpen ? \"closed\" : \"open\" ) )\r\n\t\t\t\t._addClass( this.button, \"ui-selectmenu-button-\" +\r\n\t\t\t\t\t( this.isOpen ? \"open\" : \"closed\" ) )\r\n\t\t\t\t._toggleClass( this.menuWrap, \"ui-selectmenu-open\", null, this.isOpen );\r\n\r\n\t\t\tthis.menu.attr( \"aria-hidden\", !this.isOpen );\r\n\t\t},\r\n\r\n\t\t_resizeButton: function() {\r\n\t\t\tvar width = this.options.width;\r\n\r\n\t\t\t// For `width: false`, just remove inline style and stop\r\n\t\t\tif ( width === false ) {\r\n\t\t\t\tthis.button.css( \"width\", \"\" );\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// For `width: null`, match the width of the original element\r\n\t\t\tif ( width === null ) {\r\n\t\t\t\twidth = this.element.show().outerWidth();\r\n\t\t\t\tthis.element.hide();\r\n\t\t\t}\r\n\r\n\t\t\tthis.button.outerWidth( width );\r\n\t\t},\r\n\r\n\t\t_resizeMenu: function() {\r\n\t\t\tthis.menu.outerWidth( Math.max(\r\n\t\t\t\tthis.button.outerWidth(),\r\n\r\n\t\t\t\t// Support: IE10\r\n\t\t\t\t// IE10 wraps long text (possibly a rounding bug)\r\n\t\t\t\t// so we add 1px to avoid the wrapping\r\n\t\t\t\tthis.menu.width( \"\" ).outerWidth() + 1\r\n\t\t\t) );\r\n\t\t},\r\n\r\n\t\t_getCreateOptions: function() {\r\n\t\t\tvar options = this._super();\r\n\r\n\t\t\toptions.disabled = this.element.prop( \"disabled\" );\r\n\r\n\t\t\treturn options;\r\n\t\t},\r\n\r\n\t\t_parseOptions: function( options ) {\r\n\t\t\tvar that = this,\r\n\t\t\t\tdata = [];\r\n\t\t\toptions.each( function( index, item ) {\r\n\t\t\t\tif ( item.hidden ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdata.push( that._parseOption( $( item ), index ) );\r\n\t\t\t} );\r\n\t\t\tthis.items = data;\r\n\t\t},\r\n\r\n\t\t_parseOption: function( option, index ) {\r\n\t\t\tvar optgroup = option.parent( \"optgroup\" );\r\n\r\n\t\t\treturn {\r\n\t\t\t\telement: option,\r\n\t\t\t\tindex: index,\r\n\t\t\t\tvalue: option.val(),\r\n\t\t\t\tlabel: option.text(),\r\n\t\t\t\toptgroup: optgroup.attr( \"label\" ) || \"\",\r\n\t\t\t\tdisabled: optgroup.prop( \"disabled\" ) || option.prop( \"disabled\" )\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_destroy: function() {\r\n\t\t\tthis._unbindFormResetHandler();\r\n\t\t\tthis.menuWrap.remove();\r\n\t\t\tthis.button.remove();\r\n\t\t\tthis.element.show();\r\n\t\t\tthis.element.removeUniqueId();\r\n\t\t\tthis.labels.attr( \"for\", this.ids.element );\r\n\t\t}\r\n\t} ] );\r\n\r\n});\r\n"]}