{"version":3,"sources":["effects/effect-shake.js"],"names":["define","$","effects","options","done","i","element","this","direction","distance","times","anims","speed","Math","round","duration","ref","positiveMotion","animation0","animation","animation1","animation2","queue","length","createPlaceholder","Deferred","skylark","langx","doAnimate","properties","ease","d","animate","resolve","promise","start","position","funcs","push","easing","reduce","prev","curr","index","array","then"],"mappings":";;;;;;;AAeAA,QACC,iBACA,aACA,aACE,SAAUC,GAEb,OAAOA,EAAEC,QAAQF,OAAQ,QAAS,SAAUG,EAASC,GAEpD,IAAIC,EAAI,EACPC,EAAUL,EAAGM,MACbC,EAAYL,EAAQK,WAAa,OACjCC,EAAWN,EAAQM,UAAY,GAC/BC,EAAQP,EAAQO,OAAS,EACzBC,EAAgB,EAARD,EAAY,EACpBE,EAAQC,KAAKC,MAAOX,EAAQY,SAAWJ,GACvCK,EAAsB,OAAdR,GAAoC,SAAdA,EAAyB,MAAQ,OAC/DS,EAAiC,OAAdT,GAAoC,SAAdA,EACzCU,KACAC,KACAC,KACAC,KAEWf,EAAQgB,QAAQC,OAE5BtB,EAAEC,QAAQsB,kBAAmBlB,GAE7B,IAECmB,EAFaxB,EAAEyB,QACCC,MACCF,SAIlB,SAASG,EAAUtB,EAAQuB,EAAYd,EAAUe,GAChD,OAAO,WACN,IAAIC,EAAI,IAAIN,EAKZ,OAHAnB,EAAQ0B,QAASH,EAAYd,EAAUe,EAAM,WAC5CC,EAAEE,YAEIF,EAAEG,SAeX,IAzBCC,MAAQ7B,EAAQ8B,WAAWpB,GAC3BqB,SAeDnB,EAAYF,GAAQmB,MACpBhB,EAAWH,GAAQmB,OAAUlB,GAAkB,EAAI,GAAMR,EACzDW,EAAYJ,GAAQG,EAAWH,IAAUC,EAAiB,GAAK,GAAMR,EAAW,EAChFY,EAAYL,GAAQI,EAAYJ,IAAUC,GAAkB,EAAI,GAAMR,EAAW,EAG9E4B,MAAMC,KAAKV,EAAUtB,EAAQa,EAAWP,EAAOT,EAAQoC,SAGlDlC,EAAIK,EAAOL,IACfgC,MAAMC,KAAKV,EAAUtB,EAAQc,EAAYR,EAAOT,EAAQoC,SACxDF,MAAMC,KAAKV,EAAUtB,EAAQe,EAAYT,EAAOT,EAAQoC,SAGzDF,MAAMC,KAAKV,EAAUtB,EAAQY,EAAYN,EAAO,EAAIT,EAAQoC,SAE/DF,MAAMC,KAAKlC,GACXiC,MAAMG,OAAO,SAASC,EAAMC,EAAMC,EAAOC,GACtC,OAAOH,EAAKI,KAAKH,IACjBjB,EAASQ","file":"../../effects/effect-shake.js","sourcesContent":["/*!\r\n * jQuery UI Effects Shake @VERSION\r\n * http://jqueryui.com\r\n *\r\n * Copyright jQuery Foundation and other contributors\r\n * Released under the MIT license.\r\n * http://jquery.org/license\r\n */\r\n\r\n//>>label: Shake Effect\r\n//>>group: Effects\r\n//>>description: Shakes an element horizontally or vertically n times.\r\n//>>docs: http://api.jqueryui.com/shake-effect/\r\n//>>demos: http://jqueryui.com/effect/\r\n\r\ndefine( [\r\n\t\"skylark-jquery\",\r\n\t\"../version\",\r\n\t\"../effect\"\r\n], function( $ ) {\r\n\r\nreturn $.effects.define( \"shake\", function( options, done ) {\r\n\r\n\tvar i = 1,\r\n\t\telement = $( this ),\r\n\t\tdirection = options.direction || \"left\",\r\n\t\tdistance = options.distance || 20,\r\n\t\ttimes = options.times || 3,\r\n\t\tanims = times * 2 + 1,\r\n\t\tspeed = Math.round( options.duration / anims ),\r\n\t\tref = ( direction === \"up\" || direction === \"down\" ) ? \"top\" : \"left\",\r\n\t\tpositiveMotion = ( direction === \"up\" || direction === \"left\" ),\r\n\t\tanimation0 = {},\r\n\t\tanimation = {},\r\n\t\tanimation1 = {},\r\n\t\tanimation2 = {},\r\n\r\n\t\tqueuelen = element.queue().length;\r\n\r\n\t$.effects.createPlaceholder( element );\r\n\r\n\tvar skylark = $.skylark,\r\n\t\tlangx = skylark.langx,\r\n\t\tDeferred = langx.Deferred;\r\n\t\tstart = element.position()[ref],\r\n\t\tfuncs = [];\r\n\r\n\tfunction doAnimate(element,properties, duration, ease) {\r\n\t\treturn function() {\r\n\t\t\tvar d = new Deferred();\r\n\r\n\t\t\telement.animate( properties, duration, ease ,function(){\r\n\t\t\t\td.resolve();\r\n\t\t\t});\r\n\t\t\treturn d.promise;\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t// Animation\r\n\tanimation0[ ref ] = start;\r\n\tanimation[ ref ] = start + ( positiveMotion ? -1 : 1 ) * distance;\r\n\tanimation1[ ref ] = animation[ ref ] + ( positiveMotion ? 1 : -1 ) * distance * 2;\r\n\tanimation2[ ref ] = animation1[ ref ] + ( positiveMotion ? -1 : 1 ) * distance * 2;\r\n\r\n\t// Animate\r\n    funcs.push(doAnimate(element,animation, speed, options.easing ));\r\n\r\n\t// Shakes\r\n\tfor ( ; i < times; i++ ) {\r\n\t    funcs.push(doAnimate(element,animation1, speed, options.easing ));\r\n\t    funcs.push(doAnimate(element,animation2, speed, options.easing ));\r\n\t}\r\n\r\n    funcs.push(doAnimate(element,animation0, speed /2 , options.easing ));\r\n\r\n\tfuncs.push(done);\r\n\tfuncs.reduce(function(prev, curr, index, array) {\r\n  \t\treturn prev.then(curr);\r\n\t}, Deferred.resolve());\r\n} );\r\n\r\n});\r\n"]}