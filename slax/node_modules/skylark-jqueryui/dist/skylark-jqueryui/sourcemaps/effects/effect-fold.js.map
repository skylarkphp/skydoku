{"version":3,"sources":["effects/effect-fold.js"],"names":["define","$","effects","options","done","element","this","mode","show","hide","size","percent","exec","ref","horizFirst","duration","placeholder","createPlaceholder","start","cssClip","animation1","clip","extend","animation2","distance","queue","length","parseInt","css","clipToBox","Deferred","skylark","langx","funcs","doAnimate","properties","ease","d","animate","resolve","promise","push","easing","reduce","prev","curr","index","array","then"],"mappings":";;;;;;;AAeAA,QACC,iBACA,aACA,aACE,SAAUC,GAEb,OAAOA,EAAEC,QAAQF,OAAQ,OAAQ,OAAQ,SAAUG,EAASC,GAG3D,IAAIC,EAAUJ,EAAGK,MAChBC,EAAOJ,EAAQI,KACfC,EAAgB,SAATD,EACPE,EAAgB,SAATF,EACPG,EAAOP,EAAQO,MAAQ,GACvBC,EAAU,YAAYC,KAAMF,GAE5BG,IADeV,EAAQW,YACF,QAAS,WAAe,SAAU,SACvDC,EAAWZ,EAAQY,SAAW,EAE9BC,EAAcf,EAAEC,QAAQe,kBAAmBZ,GAE3Ca,EAAQb,EAAQc,UAChBC,GAAeC,KAAMpB,EAAEqB,UAAYJ,IACnCK,GAAeF,KAAMpB,EAAEqB,UAAYJ,IAEnCM,GAAaN,EAAOL,EAAK,IAAOK,EAAOL,EAAK,KAEjCR,EAAQoB,QAAQC,OAEvBf,IACJD,EAAOiB,SAAUhB,EAAS,GAAK,IAAO,IAAMa,EAAUf,EAAO,EAAI,IAElEW,EAAWC,KAAMR,EAAK,IAAQH,EAC9Ba,EAAWF,KAAMR,EAAK,IAAQH,EAC9Ba,EAAWF,KAAMR,EAAK,IAAQ,EAEzBL,IACJH,EAAQc,QAASI,EAAWF,MACvBL,GACJA,EAAYY,IAAK3B,EAAEC,QAAQ2B,UAAWN,IAGvCA,EAAWF,KAAOH,GAInB,IAECY,EAFa7B,EAAE8B,QACCC,MACCF,SACdG,KAEJ,SAASC,EAAU7B,EAAQ8B,EAAYpB,EAAUqB,GAChD,OAAO,WACN,IAAIC,EAAI,IAAIP,EAKZ,OAHAzB,EAAQiC,QAASH,EAAYpB,EAAUqB,EAAM,WAC5CC,EAAEE,YAEIF,EAAEG,SAKNxB,IACJiB,EAAMQ,KAAKP,EAAUlB,EAAYf,EAAEC,QAAQ2B,UAAWT,GAAcL,EAAUZ,EAAQuC,SACtFT,EAAMQ,KAAKP,EAAUlB,EAAYf,EAAEC,QAAQ2B,UAAWN,GAAcR,EAAUZ,EAAQuC,UAGvFT,EAAMQ,KAAKP,EAAU7B,EAAQe,EAAYL,EAAUZ,EAAQuC,SAC3DT,EAAMQ,KAAKP,EAAU7B,EAAQkB,EAAYR,EAAUZ,EAAQuC,SAE3DT,EAAMQ,KAAKrC,GACX6B,EAAMU,OAAO,SAASC,EAAMC,EAAMC,EAAOC,GACtC,OAAOH,EAAKI,KAAKH,IACjBf,EAASS","file":"../../effects/effect-fold.js","sourcesContent":["/*!\r\n * jQuery UI Effects Fold @VERSION\r\n * http://jqueryui.com\r\n *\r\n * Copyright jQuery Foundation and other contributors\r\n * Released under the MIT license.\r\n * http://jquery.org/license\r\n */\r\n\r\n//>>label: Fold Effect\r\n//>>group: Effects\r\n//>>description: Folds an element first horizontally and then vertically.\r\n//>>docs: http://api.jqueryui.com/fold-effect/\r\n//>>demos: http://jqueryui.com/effect/\r\n\r\ndefine( [\r\n\t\"skylark-jquery\",\r\n\t\"../version\",\r\n\t\"../effect\"\r\n], function( $ ) {\r\n\r\nreturn $.effects.define( \"fold\", \"hide\", function( options, done ) {\r\n\r\n\t// Create element\r\n\tvar element = $( this ),\r\n\t\tmode = options.mode,\r\n\t\tshow = mode === \"show\",\r\n\t\thide = mode === \"hide\",\r\n\t\tsize = options.size || 15,\r\n\t\tpercent = /([0-9]+)%/.exec( size ),\r\n\t\thorizFirst = !!options.horizFirst,\r\n\t\tref = horizFirst ? [ \"right\", \"bottom\" ] : [ \"bottom\", \"right\" ],\r\n\t\tduration = options.duration / 2,\r\n\r\n\t\tplaceholder = $.effects.createPlaceholder( element ),\r\n\r\n\t\tstart = element.cssClip(),\r\n\t\tanimation1 = { clip: $.extend( {}, start ) },\r\n\t\tanimation2 = { clip: $.extend( {}, start ) },\r\n\r\n\t\tdistance = [ start[ ref[ 0 ] ], start[ ref[ 1 ] ] ],\r\n\r\n\t\tqueuelen = element.queue().length;\r\n\r\n\tif ( percent ) {\r\n\t\tsize = parseInt( percent[ 1 ], 10 ) / 100 * distance[ hide ? 0 : 1 ];\r\n\t}\r\n\tanimation1.clip[ ref[ 0 ] ] = size;\r\n\tanimation2.clip[ ref[ 0 ] ] = size;\r\n\tanimation2.clip[ ref[ 1 ] ] = 0;\r\n\r\n\tif ( show ) {\r\n\t\telement.cssClip( animation2.clip );\r\n\t\tif ( placeholder ) {\r\n\t\t\tplaceholder.css( $.effects.clipToBox( animation2 ) );\r\n\t\t}\r\n\r\n\t\tanimation2.clip = start;\r\n\t}\r\n\r\n\t// Animate\r\n\tvar skylark = $.skylark,\r\n\t\tlangx = skylark.langx,\r\n\t\tDeferred = langx.Deferred;\r\n\tvar funcs = [];\r\n\r\n\tfunction doAnimate(element,properties, duration, ease) {\r\n\t\treturn function() {\r\n\t\t\tvar d = new Deferred();\r\n\r\n\t\t\telement.animate( properties, duration, ease ,function(){\r\n\t\t\t\td.resolve();\r\n\t\t\t});\r\n\t\t\treturn d.promise;\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tif ( placeholder ) {\r\n\t\tfuncs.push(doAnimate(placeholder,$.effects.clipToBox( animation1 ), duration, options.easing ));\r\n\t\tfuncs.push(doAnimate(placeholder,$.effects.clipToBox( animation2 ), duration, options.easing ));\r\n\t}\r\n\r\n\tfuncs.push(doAnimate(element,animation1, duration, options.easing ));\r\n\tfuncs.push(doAnimate(element,animation2, duration, options.easing ));\r\n\r\n\tfuncs.push(done);\r\n\tfuncs.reduce(function(prev, curr, index, array) {\r\n  \t\treturn prev.then(curr);\r\n\t}, Deferred.resolve());\r\n\t\r\n} );\r\n\r\n});\r\n"]}