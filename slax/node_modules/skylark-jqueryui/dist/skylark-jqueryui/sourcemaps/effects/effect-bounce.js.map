{"version":3,"sources":["effects/effect-bounce.js"],"names":["define","$","effects","options","done","upAnim","downAnim","refValue","start","element","this","mode","hide","show","direction","distance","times","anims","speed","duration","easing","ref","motion","i","queue","length","createPlaceholder","Deferred","skylark","langx","funcs","doAnimate","properties","ease","d","animate","resolve","promise","css","position","opacity","push","Math","pow","reduce","prev","curr","index","array","then"],"mappings":";;;;;;;AAeAA,QACC,iBACA,aACA,aACE,SAAUC,GAEb,OAAOA,EAAEC,QAAQF,OAAQ,SAAU,SAAUG,EAASC,GACrD,IAAIC,EAAQC,EAAUC,EAQrBC,EAPAC,EAAUR,EAAGS,MAGbC,EAAOR,EAAQQ,KACfC,EAAgB,SAATD,EACPE,EAAgB,SAATF,EACPG,EAAYX,EAAQW,WAAa,KAEjCC,EAAWZ,EAAQY,SACnBC,EAAQb,EAAQa,OAAS,EAGzBC,EAAgB,EAARD,GAAcH,GAAQD,EAAO,EAAI,GACzCM,EAAQf,EAAQgB,SAAWF,EAC3BG,EAASjB,EAAQiB,OAGjBC,EAAsB,OAAdP,GAAoC,SAAdA,EAAyB,MAAQ,OAC/DQ,EAAyB,OAAdR,GAAoC,SAAdA,EACjCS,EAAI,EAEOd,EAAQe,QAAQC,OAE5BxB,EAAEC,QAAQwB,kBAAmBjB,GAE7B,IAECkB,EAFa1B,EAAE2B,QACCC,MACCF,SACdG,KAgCJ,SAASC,EAAUtB,EAAQuB,EAAYb,EAAUc,GAChD,OAAO,WACN,IAAIC,EAAI,IAAIP,EAKZ,OAHAlB,EAAQ0B,QAASH,EAAYb,EAAUC,EAAQ,WAC9Cc,EAAEE,YAEIF,EAAEG,SAMX,IA3CA9B,EAAWE,EAAQ6B,IAAKjB,GAGlBN,IACLA,EAAWN,EAAiB,QAARY,EAAgB,cAAgB,gBAAmB,GAExEb,EAAQC,EAAQ8B,WAAWlB,GAEtBR,KACJP,GAAakC,QAAS,IACZnB,GAAQd,EAIlBE,EACE6B,IAAK,UAAW,GAChBA,IAAKjB,EAAKb,GAASc,EAAqB,GAAXP,EAA0B,EAAXA,IAE9Ce,EAAMW,KAAKV,EAAUtB,EAAQH,EAAUY,EAAOE,KAI1CR,IACJG,GAAsB2B,KAAKC,IAAK,EAAG3B,EAAQ,KAG5CV,MACUe,GAAQd,EAgBVgB,EAAIP,EAAOO,KAClBlB,MACQgB,GAAQb,GAAUc,GAAUP,EAAWA,GAE/Ce,EAAMW,KAAKV,EAAUtB,EAAQJ,EAAQa,IAErCY,EAAMW,KAAKV,EAAUtB,EAAQH,EAAUY,IAEvCH,EAAWH,EAAkB,EAAXG,EAAeA,EAAW,EAIxCH,KACJP,GAAWmC,QAAS,IACZnB,GAAQb,GAAUc,GAAU,EAAIP,EAAWA,GAEnDe,EAAMW,KAAKV,EAAUtB,EAAQJ,EAAQa,KAGtCY,EAAMW,KAAKrC,GACX0B,EAAMc,OAAO,SAASC,EAAMC,EAAMC,EAAOC,GACtC,OAAOH,EAAKI,KAAKH,IACjBnB,EAASS","file":"../../effects/effect-bounce.js","sourcesContent":["/*!\r\n * jQuery UI Effects Bounce @VERSION\r\n * http://jqueryui.com\r\n *\r\n * Copyright jQuery Foundation and other contributors\r\n * Released under the MIT license.\r\n * http://jquery.org/license\r\n */\r\n\r\n//>>label: Bounce Effect\r\n//>>group: Effects\r\n//>>description: Bounces an element horizontally or vertically n times.\r\n//>>docs: http://api.jqueryui.com/bounce-effect/\r\n//>>demos: http://jqueryui.com/effect/\r\n\r\ndefine( [\r\n\t\"skylark-jquery\",\r\n\t\"../version\",\r\n\t\"../effect\"\r\n], function( $ ) {\r\n\r\nreturn $.effects.define( \"bounce\", function( options, done ) {\r\n\tvar upAnim, downAnim, refValue,\r\n\t\telement = $( this ),\r\n\r\n\t\t// Defaults:\r\n\t\tmode = options.mode,\r\n\t\thide = mode === \"hide\",\r\n\t\tshow = mode === \"show\",\r\n\t\tdirection = options.direction || \"up\",\r\n\t\tstart,\r\n\t\tdistance = options.distance,\r\n\t\ttimes = options.times || 5,\r\n\r\n\t\t// Number of internal animations\r\n\t\tanims = times * 2 + ( show || hide ? 1 : 0 ),\r\n\t\tspeed = options.duration / anims,\r\n\t\teasing = options.easing,\r\n\r\n\t\t// Utility:\r\n\t\tref = ( direction === \"up\" || direction === \"down\" ) ? \"top\" : \"left\",\r\n\t\tmotion = ( direction === \"up\" || direction === \"left\" ),\r\n\t\ti = 0,\r\n\r\n\t\tqueuelen = element.queue().length;\r\n\r\n\t$.effects.createPlaceholder( element );\r\n\r\n\tvar skylark = $.skylark,\r\n\t\tlangx = skylark.langx,\r\n\t\tDeferred = langx.Deferred;\r\n\tvar funcs = [];\r\n\r\n\trefValue = element.css( ref );\r\n\r\n\t// Default distance for the BIGGEST bounce is the outer Distance / 3\r\n\tif ( !distance ) {\r\n\t\tdistance = element[ ref === \"top\" ? \"outerHeight\" : \"outerWidth\" ]() / 3;\r\n\t}\r\n\tstart = element.position()[ref];\r\n\r\n\tif ( show ) {\r\n\t\tdownAnim = { opacity: 1 };\r\n\t\tdownAnim[ ref ] = refValue;\r\n\r\n\t\t// If we are showing, force opacity 0 and set the initial position\r\n\t\t// then do the \"first\" animation\r\n\t\telement\r\n\t\t\t.css( \"opacity\", 0 )\r\n\t\t\t.css( ref, start + (motion ? -distance * 2 : distance * 2 ));\r\n\r\n\t\tfuncs.push(doAnimate(element,downAnim, speed, easing));\r\n\t}\r\n\r\n\t// Start at the smallest distance if we are hiding\r\n\tif ( hide ) {\r\n\t\tdistance = distance / Math.pow( 2, times - 1 );\r\n\t}\r\n\r\n\tdownAnim = {};\r\n\tdownAnim[ ref ] = refValue;\r\n\r\n\r\n\tfunction doAnimate(element,properties, duration, ease) {\r\n\t\treturn function() {\r\n\t\t\tvar d = new Deferred();\r\n\r\n\t\t\telement.animate( properties, duration, easing ,function(){\r\n\t\t\t\td.resolve();\r\n\t\t\t});\r\n\t\t\treturn d.promise;\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t// Bounces up/down/left/right then back to 0 -- times * 2 animations happen here\r\n\tfor ( ; i < times; i++ ) {\r\n\t\tupAnim = {};\r\n\t\tupAnim[ ref ] = start + ( motion ? -distance : distance) ;\r\n\r\n\t\tfuncs.push(doAnimate(element,upAnim, speed, easing));\r\n\r\n\t\tfuncs.push(doAnimate(element,downAnim, speed, easing));\r\n\r\n\t\tdistance = hide ? distance * 2 : distance / 2;\r\n\t}\r\n\r\n\t// Last Bounce when Hiding\r\n\tif ( hide ) {\r\n\t\tupAnim = { opacity: 0 };\r\n\t\tupAnim[ ref ] = start + ( motion ? -1 * distance : distance) ;\r\n\r\n\t\tfuncs.push(doAnimate(element,upAnim, speed, easing ));\r\n\t}\r\n\r\n\tfuncs.push(done);\r\n\tfuncs.reduce(function(prev, curr, index, array) {\r\n  \t\treturn prev.then(curr);\r\n\t}, Deferred.resolve());\r\n\t//element.queue( done );\r\n\r\n\t//$.effects.unshift( element, queuelen, anims + 1 );\r\n} );\r\n\r\n});\r\n"]}