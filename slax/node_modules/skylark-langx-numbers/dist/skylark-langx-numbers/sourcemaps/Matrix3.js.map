{"version":3,"sources":["Matrix3.js"],"names":["define","numbers","Matrix3","this","elements","arguments","length","console","error","Object","assign","prototype","isMatrix3","set","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","identity","clone","constructor","fromArray","copy","m","me","extractBasis","xAxis","yAxis","zAxis","setFromMatrix3Column","setFromMatrix4","multiply","multiplyMatrices","premultiply","a","b","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","multiplyScalar","s","determinant","c","d","e","f","g","h","i","getInverse","matrix","throwOnDegenerate","undefined","warn","t11","t12","t13","det","detInv","transpose","tmp","getNormalMatrix","matrix4","transposeIntoArray","r","setUvTransform","tx","ty","sx","sy","rotation","cx","cy","Math","cos","sin","scale","rotate","theta","translate","equals","array","offset","toArray"],"mappings":"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","file":"../Matrix3.js","sourcesContent":["define([\r\n\t\"./numbers\"\r\n] ,function(numbers) {\r\n\tfunction Matrix3() {\r\n\r\n\t\tthis.elements = [\r\n\r\n\t\t\t1, 0, 0,\r\n\t\t\t0, 1, 0,\r\n\t\t\t0, 0, 1\r\n\r\n\t\t];\r\n\r\n\t\tif ( arguments.length > 0 ) {\r\n\r\n\t\t\tconsole.error( 'Matrix3: the constructor no longer reads arguments. use .set() instead.' );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tObject.assign( Matrix3.prototype, {\r\n\r\n\t\tisMatrix3: true,\r\n\r\n\t\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\r\n\t\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\r\n\t\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tidentity: function () {\r\n\r\n\t\t\tthis.set(\r\n\r\n\t\t\t\t1, 0, 0,\r\n\t\t\t\t0, 1, 0,\r\n\t\t\t\t0, 0, 1\r\n\r\n\t\t\t);\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclone: function () {\r\n\r\n\t\t\treturn new this.constructor().fromArray( this.elements );\r\n\r\n\t\t},\r\n\r\n\t\tcopy: function ( m ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\t\t\tvar me = m.elements;\r\n\r\n\t\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\r\n\t\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\r\n\t\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\textractBasis: function ( xAxis, yAxis, zAxis ) {\r\n\r\n\t\t\txAxis.setFromMatrix3Column( this, 0 );\r\n\t\t\tyAxis.setFromMatrix3Column( this, 1 );\r\n\t\t\tzAxis.setFromMatrix3Column( this, 2 );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetFromMatrix4: function ( m ) {\r\n\r\n\t\t\tvar me = m.elements;\r\n\r\n\t\t\tthis.set(\r\n\r\n\t\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\r\n\t\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\r\n\t\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\r\n\r\n\t\t\t);\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmultiply: function ( m ) {\r\n\r\n\t\t\treturn this.multiplyMatrices( this, m );\r\n\r\n\t\t},\r\n\r\n\t\tpremultiply: function ( m ) {\r\n\r\n\t\t\treturn this.multiplyMatrices( m, this );\r\n\r\n\t\t},\r\n\r\n\t\tmultiplyMatrices: function ( a, b ) {\r\n\r\n\t\t\tvar ae = a.elements;\r\n\t\t\tvar be = b.elements;\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tvar a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\r\n\t\t\tvar a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\r\n\t\t\tvar a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\r\n\r\n\t\t\tvar b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\r\n\t\t\tvar b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\r\n\t\t\tvar b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\r\n\r\n\t\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\r\n\t\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\r\n\t\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\r\n\r\n\t\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\r\n\t\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\r\n\t\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\r\n\r\n\t\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\r\n\t\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\r\n\t\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmultiplyScalar: function ( s ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\r\n\t\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\r\n\t\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tdeterminant: function () {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tvar a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\r\n\t\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\r\n\t\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\r\n\r\n\t\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\r\n\r\n\t\t},\r\n\r\n\t\tgetInverse: function ( matrix, throwOnDegenerate ) {\r\n\r\n\t\t\tif ( throwOnDegenerate !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( \"mathsMatrix3: .getInverse() can no longer be configured to throw on degenerate.\" );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar me = matrix.elements,\r\n\t\t\t\tte = this.elements,\r\n\r\n\t\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\r\n\t\t\t\tn12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\r\n\t\t\t\tn13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\r\n\r\n\t\t\t\tt11 = n33 * n22 - n32 * n23,\r\n\t\t\t\tt12 = n32 * n13 - n33 * n12,\r\n\t\t\t\tt13 = n23 * n12 - n22 * n13,\r\n\r\n\t\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\r\n\r\n\t\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\r\n\r\n\t\t\tvar detInv = 1 / det;\r\n\r\n\t\t\tte[ 0 ] = t11 * detInv;\r\n\t\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\r\n\t\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\r\n\r\n\t\t\tte[ 3 ] = t12 * detInv;\r\n\t\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\r\n\t\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\r\n\r\n\t\t\tte[ 6 ] = t13 * detInv;\r\n\t\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\r\n\t\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\ttranspose: function () {\r\n\r\n\t\t\tvar tmp, m = this.elements;\r\n\r\n\t\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\r\n\t\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\r\n\t\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tgetNormalMatrix: function ( matrix4 ) {\r\n\r\n\t\t\treturn this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\r\n\r\n\t\t},\r\n\r\n\t\ttransposeIntoArray: function ( r ) {\r\n\r\n\t\t\tvar m = this.elements;\r\n\r\n\t\t\tr[ 0 ] = m[ 0 ];\r\n\t\t\tr[ 1 ] = m[ 3 ];\r\n\t\t\tr[ 2 ] = m[ 6 ];\r\n\t\t\tr[ 3 ] = m[ 1 ];\r\n\t\t\tr[ 4 ] = m[ 4 ];\r\n\t\t\tr[ 5 ] = m[ 7 ];\r\n\t\t\tr[ 6 ] = m[ 2 ];\r\n\t\t\tr[ 7 ] = m[ 5 ];\r\n\t\t\tr[ 8 ] = m[ 8 ];\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetUvTransform: function ( tx, ty, sx, sy, rotation, cx, cy ) {\r\n\r\n\t\t\tvar c = Math.cos( rotation );\r\n\t\t\tvar s = Math.sin( rotation );\r\n\r\n\t\t\tthis.set(\r\n\t\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\r\n\t\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\r\n\t\t\t\t0, 0, 1\r\n\t\t\t);\r\n\r\n\t\t},\r\n\r\n\t\tscale: function ( sx, sy ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\r\n\t\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\trotate: function ( theta ) {\r\n\r\n\t\t\tvar c = Math.cos( theta );\r\n\t\t\tvar s = Math.sin( theta );\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tvar a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\r\n\t\t\tvar a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\r\n\r\n\t\t\tte[ 0 ] = c * a11 + s * a21;\r\n\t\t\tte[ 3 ] = c * a12 + s * a22;\r\n\t\t\tte[ 6 ] = c * a13 + s * a23;\r\n\r\n\t\t\tte[ 1 ] = - s * a11 + c * a21;\r\n\t\t\tte[ 4 ] = - s * a12 + c * a22;\r\n\t\t\tte[ 7 ] = - s * a13 + c * a23;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\ttranslate: function ( tx, ty ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\r\n\t\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tequals: function ( matrix ) {\r\n\r\n\t\t\tvar te = this.elements;\r\n\t\t\tvar me = matrix.elements;\r\n\r\n\t\t\tfor ( var i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\t\tif ( te[ i ] !== me[ i ] ) return false;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t},\r\n\r\n\t\tfromArray: function ( array, offset ) {\r\n\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\t\tfor ( var i = 0; i < 9; i ++ ) {\r\n\r\n\t\t\t\tthis.elements[ i ] = array[ i + offset ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\ttoArray: function ( array, offset ) {\r\n\r\n\t\t\tif ( array === undefined ) array = [];\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\t\tvar te = this.elements;\r\n\r\n\t\t\tarray[ offset ] = te[ 0 ];\r\n\t\t\tarray[ offset + 1 ] = te[ 1 ];\r\n\t\t\tarray[ offset + 2 ] = te[ 2 ];\r\n\r\n\t\t\tarray[ offset + 3 ] = te[ 3 ];\r\n\t\t\tarray[ offset + 4 ] = te[ 4 ];\r\n\t\t\tarray[ offset + 5 ] = te[ 5 ];\r\n\r\n\t\t\tarray[ offset + 6 ] = te[ 6 ];\r\n\t\t\tarray[ offset + 7 ] = te[ 7 ];\r\n\t\t\tarray[ offset + 8 ] = te[ 8 ];\r\n\r\n\t\t\treturn array;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\r\n\treturn numbers.Matrix3 = Matrix3;\r\n\r\n\r\n});"]}