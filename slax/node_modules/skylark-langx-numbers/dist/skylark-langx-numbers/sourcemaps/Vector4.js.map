{"version":3,"sources":["Vector4.js"],"names":["define","numbers","Vector4","x","y","z","w","this","undefined","Object","defineProperties","prototype","width","get","set","value","height","assign","setScalar","scalar","setX","setY","setZ","setW","setComponent","index","Error","getComponent","clone","constructor","copy","v","add","console","warn","addVectors","addScalar","s","a","b","addScaledVector","sub","subVectors","subScalar","multiplyScalar","applyMatrix4","m","e","elements","divideScalar","setAxisAngleFromQuaternion","q","Math","acos","sqrt","setAxisAngleFromRotationMatrix","angle","te","m11","m12","m13","m21","m22","m23","m31","m32","m33","abs","PI","xx","yy","zz","xy","xz","yz","min","max","clamp","clampScalar","minVal","maxVal","clampLength","length","floor","ceil","round","roundToZero","negate","dot","lengthSq","manhattanLength","normalize","setLength","lerp","alpha","lerpVectors","v1","v2","equals","fromArray","array","offset","toArray","fromBufferAttribute","attribute","getX","getY","getZ","getW"],"mappings":"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","file":"../Vector4.js","sourcesContent":["define([\r\n\t\"./numbers\"\r\n] ,function(numbers) {\r\n\r\n\tfunction Vector4( x, y, z, w ) {\r\n\r\n\t\tthis.x = x || 0;\r\n\t\tthis.y = y || 0;\r\n\t\tthis.z = z || 0;\r\n\t\tthis.w = ( w !== undefined ) ? w : 1;\r\n\r\n\t}\r\n\r\n\tObject.defineProperties( Vector4.prototype, {\r\n\r\n\t\t\"width\": {\r\n\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\treturn this.z;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tset: function ( value ) {\r\n\r\n\t\t\t\tthis.z = value;\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t\"height\": {\r\n\r\n\t\t\tget: function () {\r\n\r\n\t\t\t\treturn this.w;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tset: function ( value ) {\r\n\r\n\t\t\t\tthis.w = value;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\tObject.assign( Vector4.prototype, {\r\n\r\n\t\tset: function ( x, y, z, w ) {\r\n\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\t\t\tthis.z = z;\r\n\t\t\tthis.w = w;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetScalar: function ( scalar ) {\r\n\r\n\t\t\tthis.x = scalar;\r\n\t\t\tthis.y = scalar;\r\n\t\t\tthis.z = scalar;\r\n\t\t\tthis.w = scalar;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetX: function ( x ) {\r\n\r\n\t\t\tthis.x = x;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetY: function ( y ) {\r\n\r\n\t\t\tthis.y = y;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetZ: function ( z ) {\r\n\r\n\t\t\tthis.z = z;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetW: function ( w ) {\r\n\r\n\t\t\tthis.w = w;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetComponent: function ( index, value ) {\r\n\r\n\t\t\tswitch ( index ) {\r\n\r\n\t\t\t\tcase 0: this.x = value; break;\r\n\t\t\t\tcase 1: this.y = value; break;\r\n\t\t\t\tcase 2: this.z = value; break;\r\n\t\t\t\tcase 3: this.w = value; break;\r\n\t\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tgetComponent: function ( index ) {\r\n\r\n\t\t\tswitch ( index ) {\r\n\r\n\t\t\t\tcase 0: return this.x;\r\n\t\t\t\tcase 1: return this.y;\r\n\t\t\t\tcase 2: return this.z;\r\n\t\t\t\tcase 3: return this.w;\r\n\t\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tclone: function () {\r\n\r\n\t\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\r\n\r\n\t\t},\r\n\r\n\t\tcopy: function ( v ) {\r\n\r\n\t\t\tthis.x = v.x;\r\n\t\t\tthis.y = v.y;\r\n\t\t\tthis.z = v.z;\r\n\t\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tadd: function ( v, w ) {\r\n\r\n\t\t\tif ( w !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\r\n\t\t\t\treturn this.addVectors( v, w );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.x += v.x;\r\n\t\t\tthis.y += v.y;\r\n\t\t\tthis.z += v.z;\r\n\t\t\tthis.w += v.w;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\taddScalar: function ( s ) {\r\n\r\n\t\t\tthis.x += s;\r\n\t\t\tthis.y += s;\r\n\t\t\tthis.z += s;\r\n\t\t\tthis.w += s;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\taddVectors: function ( a, b ) {\r\n\r\n\t\t\tthis.x = a.x + b.x;\r\n\t\t\tthis.y = a.y + b.y;\r\n\t\t\tthis.z = a.z + b.z;\r\n\t\t\tthis.w = a.w + b.w;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\taddScaledVector: function ( v, s ) {\r\n\r\n\t\t\tthis.x += v.x * s;\r\n\t\t\tthis.y += v.y * s;\r\n\t\t\tthis.z += v.z * s;\r\n\t\t\tthis.w += v.w * s;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsub: function ( v, w ) {\r\n\r\n\t\t\tif ( w !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\r\n\t\t\t\treturn this.subVectors( v, w );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.x -= v.x;\r\n\t\t\tthis.y -= v.y;\r\n\t\t\tthis.z -= v.z;\r\n\t\t\tthis.w -= v.w;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsubScalar: function ( s ) {\r\n\r\n\t\t\tthis.x -= s;\r\n\t\t\tthis.y -= s;\r\n\t\t\tthis.z -= s;\r\n\t\t\tthis.w -= s;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsubVectors: function ( a, b ) {\r\n\r\n\t\t\tthis.x = a.x - b.x;\r\n\t\t\tthis.y = a.y - b.y;\r\n\t\t\tthis.z = a.z - b.z;\r\n\t\t\tthis.w = a.w - b.w;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmultiplyScalar: function ( scalar ) {\r\n\r\n\t\t\tthis.x *= scalar;\r\n\t\t\tthis.y *= scalar;\r\n\t\t\tthis.z *= scalar;\r\n\t\t\tthis.w *= scalar;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tapplyMatrix4: function ( m ) {\r\n\r\n\t\t\tvar x = this.x, y = this.y, z = this.z, w = this.w;\r\n\t\t\tvar e = m.elements;\r\n\r\n\t\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\r\n\t\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\r\n\t\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\r\n\t\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tdivideScalar: function ( scalar ) {\r\n\r\n\t\t\treturn this.multiplyScalar( 1 / scalar );\r\n\r\n\t\t},\r\n\r\n\t\tsetAxisAngleFromQuaternion: function ( q ) {\r\n\r\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\r\n\r\n\t\t\t// q is assumed to be normalized\r\n\r\n\t\t\tthis.w = 2 * Math.acos( q.w );\r\n\r\n\t\t\tvar s = Math.sqrt( 1 - q.w * q.w );\r\n\r\n\t\t\tif ( s < 0.0001 ) {\r\n\r\n\t\t\t\tthis.x = 1;\r\n\t\t\t\tthis.y = 0;\r\n\t\t\t\tthis.z = 0;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.x = q.x / s;\r\n\t\t\t\tthis.y = q.y / s;\r\n\t\t\t\tthis.z = q.z / s;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tsetAxisAngleFromRotationMatrix: function ( m ) {\r\n\r\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\r\n\r\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n\r\n\t\t\tvar angle, x, y, z,\t\t// variables for result\r\n\t\t\t\tepsilon = 0.01,\t\t// margin to allow for rounding errors\r\n\t\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\r\n\r\n\t\t\t\tte = m.elements,\r\n\r\n\t\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\r\n\t\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\r\n\t\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\r\n\r\n\t\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\r\n\t\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\r\n\t\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\r\n\r\n\t\t\t\t// singularity found\r\n\t\t\t\t// first check for identity matrix which must have +1 for all terms\r\n\t\t\t\t// in leading diagonal and zero in other terms\r\n\r\n\t\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\r\n\t\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\r\n\t\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\r\n\t\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\r\n\r\n\t\t\t\t\t// this singularity is identity matrix so angle = 0\r\n\r\n\t\t\t\t\tthis.set( 1, 0, 0, 0 );\r\n\r\n\t\t\t\t\treturn this; // zero angle, arbitrary axis\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// otherwise this singularity is angle = 180\r\n\r\n\t\t\t\tangle = Math.PI;\r\n\r\n\t\t\t\tvar xx = ( m11 + 1 ) / 2;\r\n\t\t\t\tvar yy = ( m22 + 1 ) / 2;\r\n\t\t\t\tvar zz = ( m33 + 1 ) / 2;\r\n\t\t\t\tvar xy = ( m12 + m21 ) / 4;\r\n\t\t\t\tvar xz = ( m13 + m31 ) / 4;\r\n\t\t\t\tvar yz = ( m23 + m32 ) / 4;\r\n\r\n\t\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\r\n\r\n\t\t\t\t\t// m11 is the largest diagonal term\r\n\r\n\t\t\t\t\tif ( xx < epsilon ) {\r\n\r\n\t\t\t\t\t\tx = 0;\r\n\t\t\t\t\t\ty = 0.707106781;\r\n\t\t\t\t\t\tz = 0.707106781;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tx = Math.sqrt( xx );\r\n\t\t\t\t\t\ty = xy / x;\r\n\t\t\t\t\t\tz = xz / x;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if ( yy > zz ) {\r\n\r\n\t\t\t\t\t// m22 is the largest diagonal term\r\n\r\n\t\t\t\t\tif ( yy < epsilon ) {\r\n\r\n\t\t\t\t\t\tx = 0.707106781;\r\n\t\t\t\t\t\ty = 0;\r\n\t\t\t\t\t\tz = 0.707106781;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\ty = Math.sqrt( yy );\r\n\t\t\t\t\t\tx = xy / y;\r\n\t\t\t\t\t\tz = yz / y;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// m33 is the largest diagonal term so base result on this\r\n\r\n\t\t\t\t\tif ( zz < epsilon ) {\r\n\r\n\t\t\t\t\t\tx = 0.707106781;\r\n\t\t\t\t\t\ty = 0.707106781;\r\n\t\t\t\t\t\tz = 0;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tz = Math.sqrt( zz );\r\n\t\t\t\t\t\tx = xz / z;\r\n\t\t\t\t\t\ty = yz / z;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.set( x, y, z, angle );\r\n\r\n\t\t\t\treturn this; // return 180 deg rotation\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// as we have reached here there are no singularities so we can handle normally\r\n\r\n\t\t\tvar s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\r\n\t\t\t                   ( m13 - m31 ) * ( m13 - m31 ) +\r\n\t\t\t                   ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\r\n\r\n\t\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\r\n\r\n\t\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\r\n\t\t\t// caught by singularity test above, but I've left it in just in case\r\n\r\n\t\t\tthis.x = ( m32 - m23 ) / s;\r\n\t\t\tthis.y = ( m13 - m31 ) / s;\r\n\t\t\tthis.z = ( m21 - m12 ) / s;\r\n\t\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmin: function ( v ) {\r\n\r\n\t\t\tthis.x = Math.min( this.x, v.x );\r\n\t\t\tthis.y = Math.min( this.y, v.y );\r\n\t\t\tthis.z = Math.min( this.z, v.z );\r\n\t\t\tthis.w = Math.min( this.w, v.w );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tmax: function ( v ) {\r\n\r\n\t\t\tthis.x = Math.max( this.x, v.x );\r\n\t\t\tthis.y = Math.max( this.y, v.y );\r\n\t\t\tthis.z = Math.max( this.z, v.z );\r\n\t\t\tthis.w = Math.max( this.w, v.w );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclamp: function ( min, max ) {\r\n\r\n\t\t\t// assumes min < max, componentwise\r\n\r\n\t\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\r\n\t\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\r\n\t\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\r\n\t\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclampScalar: function ( minVal, maxVal ) {\r\n\r\n\t\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\r\n\t\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\r\n\t\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\r\n\t\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tclampLength: function ( min, max ) {\r\n\r\n\t\t\tvar length = this.length();\r\n\r\n\t\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\r\n\r\n\t\t},\r\n\r\n\t\tfloor: function () {\r\n\r\n\t\t\tthis.x = Math.floor( this.x );\r\n\t\t\tthis.y = Math.floor( this.y );\r\n\t\t\tthis.z = Math.floor( this.z );\r\n\t\t\tthis.w = Math.floor( this.w );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tceil: function () {\r\n\r\n\t\t\tthis.x = Math.ceil( this.x );\r\n\t\t\tthis.y = Math.ceil( this.y );\r\n\t\t\tthis.z = Math.ceil( this.z );\r\n\t\t\tthis.w = Math.ceil( this.w );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tround: function () {\r\n\r\n\t\t\tthis.x = Math.round( this.x );\r\n\t\t\tthis.y = Math.round( this.y );\r\n\t\t\tthis.z = Math.round( this.z );\r\n\t\t\tthis.w = Math.round( this.w );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\troundToZero: function () {\r\n\r\n\t\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\r\n\t\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\r\n\t\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\r\n\t\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tnegate: function () {\r\n\r\n\t\t\tthis.x = - this.x;\r\n\t\t\tthis.y = - this.y;\r\n\t\t\tthis.z = - this.z;\r\n\t\t\tthis.w = - this.w;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tdot: function ( v ) {\r\n\r\n\t\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\r\n\r\n\t\t},\r\n\r\n\t\tlengthSq: function () {\r\n\r\n\t\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\r\n\r\n\t\t},\r\n\r\n\t\tlength: function () {\r\n\r\n\t\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\r\n\r\n\t\t},\r\n\r\n\t\tmanhattanLength: function () {\r\n\r\n\t\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\r\n\r\n\t\t},\r\n\r\n\t\tnormalize: function () {\r\n\r\n\t\t\treturn this.divideScalar( this.length() || 1 );\r\n\r\n\t\t},\r\n\r\n\t\tsetLength: function ( length ) {\r\n\r\n\t\t\treturn this.normalize().multiplyScalar( length );\r\n\r\n\t\t},\r\n\r\n\t\tlerp: function ( v, alpha ) {\r\n\r\n\t\t\tthis.x += ( v.x - this.x ) * alpha;\r\n\t\t\tthis.y += ( v.y - this.y ) * alpha;\r\n\t\t\tthis.z += ( v.z - this.z ) * alpha;\r\n\t\t\tthis.w += ( v.w - this.w ) * alpha;\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\tlerpVectors: function ( v1, v2, alpha ) {\r\n\r\n\t\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\r\n\r\n\t\t},\r\n\r\n\t\tequals: function ( v ) {\r\n\r\n\t\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\r\n\r\n\t\t},\r\n\r\n\t\tfromArray: function ( array, offset ) {\r\n\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\t\tthis.x = array[ offset ];\r\n\t\t\tthis.y = array[ offset + 1 ];\r\n\t\t\tthis.z = array[ offset + 2 ];\r\n\t\t\tthis.w = array[ offset + 3 ];\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t},\r\n\r\n\t\ttoArray: function ( array, offset ) {\r\n\r\n\t\t\tif ( array === undefined ) array = [];\r\n\t\t\tif ( offset === undefined ) offset = 0;\r\n\r\n\t\t\tarray[ offset ] = this.x;\r\n\t\t\tarray[ offset + 1 ] = this.y;\r\n\t\t\tarray[ offset + 2 ] = this.z;\r\n\t\t\tarray[ offset + 3 ] = this.w;\r\n\r\n\t\t\treturn array;\r\n\r\n\t\t},\r\n\r\n\t\tfromBufferAttribute: function ( attribute, index, offset ) {\r\n\r\n\t\t\tif ( offset !== undefined ) {\r\n\r\n\t\t\t\tconsole.warn( 'Vector4: offset has been removed from .fromBufferAttribute().' );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.x = attribute.getX( index );\r\n\t\t\tthis.y = attribute.getY( index );\r\n\t\t\tthis.z = attribute.getZ( index );\r\n\t\t\tthis.w = attribute.getW( index );\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\r\n\treturn numbers.Vector4 = Vector4 ;\r\n\r\n});"]}