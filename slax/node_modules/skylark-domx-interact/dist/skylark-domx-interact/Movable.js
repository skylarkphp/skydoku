/**
 * skylark-domx-interact - The interact features enhancement for dom.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-plugins","./interact"],function(e,t,o,n,a,r,i,s){a.on,a.off,o.attr,o.removeAttr,n.pagePosition,r.addClass,n.height,Array.prototype.some,Array.prototype.map;var l=i.Plugin.inherit({klassName:"Movable",pluginName:"lark.movable",_construct:function(e,o){function i(e){var t,o;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<t.length;o++)e[t[o]]=e.changedTouches[0][t[o]]}this.overrided(e,o);var s,l,m,u,c=(o=this.options).handle||e,d=!1!==o.auto,h=o.constraints,f=o.document||document,p=o.started,v=o.moving,g=o.stopped,k=function(t){if(i(t),0!==t.button)return y(t);if(t.deltaX=t.screenX-l,t.deltaY=t.screenY-m,d){var o=u.left+t.deltaX,a=u.top+t.deltaY;h&&(o<h.minX&&(o=h.minX),o>h.maxX&&(o=h.maxX),a<h.minY&&(a=h.minY),a>h.maxY&&(a=h.maxY))}n.relativePosition(e,{left:o,top:a}),t.preventDefault(),v&&v(t)},y=function(e){i(e),a.off(f,"mousemove touchmove",k).off(f,"mouseup touchend",y),t.remove(s),g&&g(e)};a.on(c,"mousedown touchstart",function(o){var d,h=n.getDocumentSize(f);i(o),o.preventDefault(),o.button,l=o.screenX,m=o.screenY,u=n.relativePosition(e),n.size(e),d=r.css(c,"curosr"),s=t.createElement("div"),r.css(s,{position:"absolute",top:0,left:0,width:h.width,height:h.height,zIndex:2147483647,opacity:1e-4,cursor:d}),t.append(f.body,s),a.on(f,"mousemove touchmove",k).on(f,"mouseup touchend",y),p&&p(o)}),this._handleEl=c},remove:function(){a.off(this._handleEl)}});return i.register(l,"movable"),s.Movable=l});
//# sourceMappingURL=sourcemaps/Movable.js.map
