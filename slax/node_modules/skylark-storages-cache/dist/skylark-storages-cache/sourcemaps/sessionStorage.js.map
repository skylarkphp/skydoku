{"version":3,"sources":["sessionStorage.js"],"names":["define","langx","cache","storage","window","e","mixin","sessiionStorage","isSupported","set","key","val","undefined","this","remove","setItem","serializeValue","get","defaultVal","deserializeValue","getItem","removeItem","clear","list","vaules","i","length","values","sessionStorage"],"mappings":";;;;;;;AAAAA,QACI,sBACA,WACD,SAASC,EAAMC,GAEd,IAAIC,EAAW,KAEf,IACIA,EAAUC,OAAwB,gBACpC,MAAOC,IA4CT,OApCAJ,EAAMK,MAJN,SAASC,IACL,OAAOA,IAIPC,YAAc,WACV,QAASL,GAGbM,IAAM,SAASC,EAAKC,GAChB,YAAYC,IAARD,EACOE,KAAKC,OAAOJ,IAEvBP,EAAQY,QAAQL,EAAKT,EAAMe,eAAeL,IACnCA,IAGXM,IAAM,SAASP,EAAKQ,GAChB,IAAIP,EAAMV,EAAMkB,iBAAiBhB,EAAQiB,QAAQV,IACjD,YAAgBE,IAARD,EAAoBO,EAAaP,GAG7CG,OAAS,SAASJ,GACdP,EAAQkB,WAAWX,IAGvBY,MAAQ,WACJnB,EAAQmB,SAGZC,KAAO,WAEH,IADA,IAAIC,KACKC,EAAE,EAAGA,EAAEtB,EAAQuB,OAAQD,IAC5BD,EAAOd,KAAOP,EAAQO,IAAIe,GAG9B,OAAOE,UAIPzB,EAAM0B,eAAiBA","file":"../sessionStorage.js","sourcesContent":["define([\r\n    \"skylark-langx/langx\",\r\n    \"./cache\"\r\n], function(langx,cache) {\r\n\r\n    var storage  = null;\r\n\r\n    try {\r\n        storage = window[\"sessiionStorage\"];\r\n    } catch (e){\r\n\r\n    }\r\n\r\n    function sessiionStorage() {\r\n        return sessiionStorage;\r\n    }\r\n\r\n    langx.mixin(sessiionStorage, {\r\n        isSupported : function() {\r\n            return !!storage;\r\n        },\r\n\r\n        set : function(key, val) {\r\n            if (val === undefined) { \r\n                return this.remove(key) \r\n            }\r\n            storage.setItem(key, langx.serializeValue(val));\r\n            return val\r\n        },\r\n\r\n        get : function(key, defaultVal) {\r\n            var val = langx.deserializeValue(storage.getItem(key))\r\n            return (val === undefined ? defaultVal : val)\r\n        },\r\n\r\n        remove : function(key) { \r\n            storage.removeItem(key) \r\n        },\r\n\r\n        clear : function() { \r\n            storage.clear() \r\n        },\r\n\r\n        list : function() {\r\n            var vaules = {}\r\n            for (var i=0; i<storage.length; i++) {\r\n                vaules[key] = storage.key(i)\r\n            }\r\n\r\n            return values;\r\n        }\r\n    });\r\n\r\n    return  cache.sessionStorage = sessionStorage;\r\n\r\n});\r\n\r\n"]}