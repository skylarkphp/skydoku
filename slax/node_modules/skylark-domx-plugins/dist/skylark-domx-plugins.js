/**
 * skylark-domx-plugins - The skylark plugins library for dom api extension.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(t,n){var i=n.define,require=n.require,r="function"==typeof i&&i.amd,o=!r&&"undefined"!=typeof exports;if(!r&&!i){var e={};i=n.define=function(t,n,i){"function"==typeof i?(e[t]={factory:i,deps:n.map(function(n){return function(t,n){if("."!==t[0])return t;var i=n.split("/"),r=t.split("/");i.pop();for(var o=0;o<r.length;o++)"."!=r[o]&&(".."==r[o]?i.pop():i.push(r[o]));return i.join("/")}(n,t)}),resolved:!1,exports:null},require(t)):e[t]={factory:null,resolved:!0,exports:i}},require=n.require=function(t){if(!e.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var module=e[t];if(!module.resolved){var i=[];module.deps.forEach(function(t){i.push(require(t))}),module.exports=module.factory.apply(n,i)||null,module.resolved=!0}return module.exports}}if(!i)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,require){t("skylark-domx-plugins/plugins",["skylark-langx/skylark","skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-eventer","skylark-domx-finder","skylark-domx-geom","skylark-domx-styler","skylark-domx-fx","skylark-domx-query","skylark-domx-velm"],function(t,n,i,r,o,e,s,a,l,u,p){"use strict";var f=Array.prototype.slice,c=(Array.prototype.concat,{}),h={};function d(t,n,i){var o=n.split(":"),e=o[1];n=o[0],e||(e=n);var s=r.data(t,e);if("instance"===i)return s;if("destroy"===i){if(!s)throw new Error("The plugin instance is not existed");s.destroy(),r.removeData(t,n),s=void 0}else if(s)i&&s.reset(i);else{if(void 0!==i&&"object"!=typeof i)throw new Error("The options must be a plain object");var a=c[n];s=new a(t,i),r.data(t,e,s)}return s}var y=n.Evented.inherit({klassName:"Plugin",_construct:function(t,n){this._elm=t,this._initOptions(n)},_initOptions:function(t){var i=this.constructor,r=i.cache=i.cache||{},o=r.defaults;if(!o){var e=[];do{if(e.unshift(i),i===y)break;i=i.superclass}while(i);o=r.defaults={};for(var s=0;s<e.length;s++)(i=e[s]).prototype.hasOwnProperty("options")&&n.mixin(o,i.prototype.options,!0),i.hasOwnProperty("options")&&n.mixin(o,i.options,!0)}return Object.defineProperty(this,"options",{value:n.mixin({},o,t,!0)}),this.options},destroy:function(){this._destroy(),r.removeData(this._elm,this.pluginName)},_destroy:n.noop,_delay:function(t,n){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},n||0)},option:function(t,i){var r,o,e,s=t;if(0===arguments.length)return n.mixin({},this.options);if("string"==typeof t)if(s={},r=t.split("."),t=r.shift(),r.length){for(o=s[t]=n.mixin({},this.options[t]),e=0;e<r.length-1;e++)o[r[e]]=o[r[e]]||{},o=o[r[e]];if(t=r.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=i}return this._setOptions(s),this},_setOptions:function(t){var n;for(n in t)this._setOption(n,t[n]);return this},_setOption:function(t,n){return this.options[t]=n,this},getUID:function(t){t=t||"plugin";do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},elm:function(){return this._elm}});function v(){return v}return u.fn.plugin=function(t,n){var i=f.call(arguments,1),r=this,o=this;return this.each(function(){o=d.apply(r,[this,t].concat(i))}),o},p.partial("plugin",function(t,n){var i=f.call(arguments,1);return d.apply(this,[this.domNode,t].concat(i))}),n.mixin(v,{instantiate:d,Plugin:y,register:function(t,i,r,o){var e=t.prototype.pluginName;if(c[e]=t,i){r&&n.isFunction(r)&&(o=r,r=null),r&&(e=e+":"+r);var s=h[i]=function(t,i){return function(r,o){var e=d(r,t,"instance");if("instance"===o)return e||null;if(!e&&(e=d(r,t,"object"==typeof o&&o||{}),"string"!=typeof o))return this;if(o){var s=f.call(arguments,1);if(i)return i.apply(e,s);if("string"==typeof o){var a=o;if(!e)throw new Error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'");if(!n.isFunction(e[a])||"_"===a.charAt(0))throw new Error("no such method '"+a+"' for "+t+" plugin instance");var l=e[a].apply(e,s);return l==e&&(l=void 0),l}}}}(e,o);u.fn[i]=function(t){var n=this;if(this.length||"instance"!==t){var i=f.call(arguments);this.each(function(){var t=f.call(i);t.unshift(this);var r=s.apply(void 0,t);void 0!==r&&(n=r)})}else n=void 0;return n},p.partial(i,function(t){var n=s(this._elm,t);return void 0===n&&(n=this),n})}},shortcuts:h}),t.attach("domx.plugins",v)}),t("skylark-domx-plugins/main",["./plugins"],function(t){return t}),t("skylark-domx-plugins",["skylark-domx-plugins/main"],function(t){return t})}(i),!r){var s=require("skylark-langx/skylark");o?module.exports=s:n.skylarkjs=s}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-domx-plugins.js.map
